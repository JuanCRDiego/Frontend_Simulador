var f0=Object.defineProperty;var h0=(t,e,n)=>e in t?f0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var $=(t,e,n)=>h0(t,typeof e!="symbol"?e+"":e,n);function m0(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in t)){const r=Object.getOwnPropertyDescriptor(i,s);r&&Object.defineProperty(t,s,r.get?r:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function p0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Rh={exports:{}},eo={},Fh={exports:{}},H={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hr=Symbol.for("react.element"),g0=Symbol.for("react.portal"),x0=Symbol.for("react.fragment"),v0=Symbol.for("react.strict_mode"),y0=Symbol.for("react.profiler"),b0=Symbol.for("react.provider"),_0=Symbol.for("react.context"),w0=Symbol.for("react.forward_ref"),N0=Symbol.for("react.suspense"),S0=Symbol.for("react.memo"),j0=Symbol.for("react.lazy"),Du=Symbol.iterator;function M0(t){return t===null||typeof t!="object"?null:(t=Du&&t[Du]||t["@@iterator"],typeof t=="function"?t:null)}var Oh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ih=Object.assign,Dh={};function Ki(t,e,n){this.props=t,this.context=e,this.refs=Dh,this.updater=n||Oh}Ki.prototype.isReactComponent={};Ki.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ki.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Lh(){}Lh.prototype=Ki.prototype;function Nc(t,e,n){this.props=t,this.context=e,this.refs=Dh,this.updater=n||Oh}var Sc=Nc.prototype=new Lh;Sc.constructor=Nc;Ih(Sc,Ki.prototype);Sc.isPureReactComponent=!0;var Lu=Array.isArray,Bh=Object.prototype.hasOwnProperty,jc={current:null},Vh={key:!0,ref:!0,__self:!0,__source:!0};function $h(t,e,n){var i,s={},r=null,a=null;if(e!=null)for(i in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(r=""+e.key),e)Bh.call(e,i)&&!Vh.hasOwnProperty(i)&&(s[i]=e[i]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(i in o=t.defaultProps,o)s[i]===void 0&&(s[i]=o[i]);return{$$typeof:hr,type:t,key:r,ref:a,props:s,_owner:jc.current}}function k0(t,e){return{$$typeof:hr,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Mc(t){return typeof t=="object"&&t!==null&&t.$$typeof===hr}function C0(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Bu=/\/+/g;function jo(t,e){return typeof t=="object"&&t!==null&&t.key!=null?C0(""+t.key):e.toString(36)}function ea(t,e,n,i,s){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(r){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case hr:case g0:a=!0}}if(a)return a=t,s=s(a),t=i===""?"."+jo(a,0):i,Lu(s)?(n="",t!=null&&(n=t.replace(Bu,"$&/")+"/"),ea(s,e,n,"",function(c){return c})):s!=null&&(Mc(s)&&(s=k0(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Bu,"$&/")+"/")+t)),e.push(s)),1;if(a=0,i=i===""?".":i+":",Lu(t))for(var o=0;o<t.length;o++){r=t[o];var l=i+jo(r,o);a+=ea(r,e,n,l,s)}else if(l=M0(t),typeof l=="function")for(t=l.call(t),o=0;!(r=t.next()).done;)r=r.value,l=i+jo(r,o++),a+=ea(r,e,n,l,s);else if(r==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Nr(t,e,n){if(t==null)return t;var i=[],s=0;return ea(t,i,"","",function(r){return e.call(n,r,s++)}),i}function E0(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Le={current:null},ta={transition:null},T0={ReactCurrentDispatcher:Le,ReactCurrentBatchConfig:ta,ReactCurrentOwner:jc};function Wh(){throw Error("act(...) is not supported in production builds of React.")}H.Children={map:Nr,forEach:function(t,e,n){Nr(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Nr(t,function(){e++}),e},toArray:function(t){return Nr(t,function(e){return e})||[]},only:function(t){if(!Mc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};H.Component=Ki;H.Fragment=x0;H.Profiler=y0;H.PureComponent=Nc;H.StrictMode=v0;H.Suspense=N0;H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T0;H.act=Wh;H.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=Ih({},t.props),s=t.key,r=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,a=jc.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)Bh.call(e,l)&&!Vh.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];i.children=o}return{$$typeof:hr,type:t.type,key:s,ref:r,props:i,_owner:a}};H.createContext=function(t){return t={$$typeof:_0,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:b0,_context:t},t.Consumer=t};H.createElement=$h;H.createFactory=function(t){var e=$h.bind(null,t);return e.type=t,e};H.createRef=function(){return{current:null}};H.forwardRef=function(t){return{$$typeof:w0,render:t}};H.isValidElement=Mc;H.lazy=function(t){return{$$typeof:j0,_payload:{_status:-1,_result:t},_init:E0}};H.memo=function(t,e){return{$$typeof:S0,type:t,compare:e===void 0?null:e}};H.startTransition=function(t){var e=ta.transition;ta.transition={};try{t()}finally{ta.transition=e}};H.unstable_act=Wh;H.useCallback=function(t,e){return Le.current.useCallback(t,e)};H.useContext=function(t){return Le.current.useContext(t)};H.useDebugValue=function(){};H.useDeferredValue=function(t){return Le.current.useDeferredValue(t)};H.useEffect=function(t,e){return Le.current.useEffect(t,e)};H.useId=function(){return Le.current.useId()};H.useImperativeHandle=function(t,e,n){return Le.current.useImperativeHandle(t,e,n)};H.useInsertionEffect=function(t,e){return Le.current.useInsertionEffect(t,e)};H.useLayoutEffect=function(t,e){return Le.current.useLayoutEffect(t,e)};H.useMemo=function(t,e){return Le.current.useMemo(t,e)};H.useReducer=function(t,e,n){return Le.current.useReducer(t,e,n)};H.useRef=function(t){return Le.current.useRef(t)};H.useState=function(t){return Le.current.useState(t)};H.useSyncExternalStore=function(t,e,n){return Le.current.useSyncExternalStore(t,e,n)};H.useTransition=function(){return Le.current.useTransition()};H.version="18.3.1";Fh.exports=H;var M=Fh.exports;const to=p0(M),P0=m0({__proto__:null,default:to},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z0=M,A0=Symbol.for("react.element"),R0=Symbol.for("react.fragment"),F0=Object.prototype.hasOwnProperty,O0=z0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,I0={key:!0,ref:!0,__self:!0,__source:!0};function Hh(t,e,n){var i,s={},r=null,a=null;n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(a=e.ref);for(i in e)F0.call(e,i)&&!I0.hasOwnProperty(i)&&(s[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)s[i]===void 0&&(s[i]=e[i]);return{$$typeof:A0,type:t,key:r,ref:a,props:s,_owner:O0.current}}eo.Fragment=R0;eo.jsx=Hh;eo.jsxs=Hh;Rh.exports=eo;var d=Rh.exports,Uh={exports:{}},st={},Kh={exports:{}},Yh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(E,A){var O=E.length;E.push(A);e:for(;0<O;){var I=O-1>>>1,B=E[I];if(0<s(B,A))E[I]=A,E[O]=B,O=I;else break e}}function n(E){return E.length===0?null:E[0]}function i(E){if(E.length===0)return null;var A=E[0],O=E.pop();if(O!==A){E[0]=O;e:for(var I=0,B=E.length,Y=B>>>1;I<Y;){var ne=2*(I+1)-1,qe=E[ne],he=ne+1,Ee=E[he];if(0>s(qe,O))he<B&&0>s(Ee,qe)?(E[I]=Ee,E[he]=O,I=he):(E[I]=qe,E[ne]=O,I=ne);else if(he<B&&0>s(Ee,O))E[I]=Ee,E[he]=O,I=he;else break e}}return A}function s(E,A){var O=E.sortIndex-A.sortIndex;return O!==0?O:E.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,f=null,h=3,p=!1,x=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(E){for(var A=n(c);A!==null;){if(A.callback===null)i(c);else if(A.startTime<=E)i(c),A.sortIndex=A.expirationTime,e(l,A);else break;A=n(c)}}function _(E){if(m=!1,b(E),!x)if(n(l)!==null)x=!0,R(N);else{var A=n(c);A!==null&&W(_,A.startTime-E)}}function N(E,A){x=!1,m&&(m=!1,g(S),S=-1),p=!0;var O=h;try{for(b(A),f=n(l);f!==null&&(!(f.expirationTime>A)||E&&!z());){var I=f.callback;if(typeof I=="function"){f.callback=null,h=f.priorityLevel;var B=I(f.expirationTime<=A);A=t.unstable_now(),typeof B=="function"?f.callback=B:f===n(l)&&i(l),b(A)}else i(l);f=n(l)}if(f!==null)var Y=!0;else{var ne=n(c);ne!==null&&W(_,ne.startTime-A),Y=!1}return Y}finally{f=null,h=O,p=!1}}var w=!1,j=null,S=-1,k=5,C=-1;function z(){return!(t.unstable_now()-C<k)}function D(){if(j!==null){var E=t.unstable_now();C=E;var A=!0;try{A=j(!0,E)}finally{A?J():(w=!1,j=null)}}else w=!1}var J;if(typeof v=="function")J=function(){v(D)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,V=q.port2;q.port1.onmessage=D,J=function(){V.postMessage(null)}}else J=function(){y(D,0)};function R(E){j=E,w||(w=!0,J())}function W(E,A){S=y(function(){E(t.unstable_now())},A)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(E){E.callback=null},t.unstable_continueExecution=function(){x||p||(x=!0,R(N))},t.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<E?Math.floor(1e3/E):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(E){switch(h){case 1:case 2:case 3:var A=3;break;default:A=h}var O=h;h=A;try{return E()}finally{h=O}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(E,A){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var O=h;h=E;try{return A()}finally{h=O}},t.unstable_scheduleCallback=function(E,A,O){var I=t.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?I+O:I):O=I,E){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=O+B,E={id:u++,callback:A,priorityLevel:E,startTime:O,expirationTime:B,sortIndex:-1},O>I?(E.sortIndex=O,e(c,E),n(l)===null&&E===n(c)&&(m?(g(S),S=-1):m=!0,W(_,O-I))):(E.sortIndex=B,e(l,E),x||p||(x=!0,R(N))),E},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(E){var A=h;return function(){var O=h;h=A;try{return E.apply(this,arguments)}finally{h=O}}}})(Yh);Kh.exports=Yh;var D0=Kh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L0=M,it=D0;function T(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Xh=new Set,Bs={};function li(t,e){Ri(t,e),Ri(t+"Capture",e)}function Ri(t,e){for(Bs[t]=e,t=0;t<e.length;t++)Xh.add(e[t])}var Qt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hl=Object.prototype.hasOwnProperty,B0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vu={},$u={};function V0(t){return hl.call($u,t)?!0:hl.call(Vu,t)?!1:B0.test(t)?$u[t]=!0:(Vu[t]=!0,!1)}function $0(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function W0(t,e,n,i){if(e===null||typeof e>"u"||$0(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Be(t,e,n,i,s,r,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=r,this.removeEmptyString=a}var Ce={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ce[t]=new Be(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ce[e]=new Be(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ce[t]=new Be(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ce[t]=new Be(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ce[t]=new Be(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ce[t]=new Be(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ce[t]=new Be(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ce[t]=new Be(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ce[t]=new Be(t,5,!1,t.toLowerCase(),null,!1,!1)});var kc=/[\-:]([a-z])/g;function Cc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(kc,Cc);Ce[e]=new Be(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(kc,Cc);Ce[e]=new Be(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(kc,Cc);Ce[e]=new Be(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ce[t]=new Be(t,1,!1,t.toLowerCase(),null,!1,!1)});Ce.xlinkHref=new Be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ce[t]=new Be(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ec(t,e,n,i){var s=Ce.hasOwnProperty(e)?Ce[e]:null;(s!==null?s.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(W0(e,n,s,i)&&(n=null),i||s===null?V0(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,i=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var sn=L0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Sr=Symbol.for("react.element"),mi=Symbol.for("react.portal"),pi=Symbol.for("react.fragment"),Tc=Symbol.for("react.strict_mode"),ml=Symbol.for("react.profiler"),Jh=Symbol.for("react.provider"),Gh=Symbol.for("react.context"),Pc=Symbol.for("react.forward_ref"),pl=Symbol.for("react.suspense"),gl=Symbol.for("react.suspense_list"),zc=Symbol.for("react.memo"),fn=Symbol.for("react.lazy"),qh=Symbol.for("react.offscreen"),Wu=Symbol.iterator;function es(t){return t===null||typeof t!="object"?null:(t=Wu&&t[Wu]||t["@@iterator"],typeof t=="function"?t:null)}var de=Object.assign,Mo;function ms(t){if(Mo===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Mo=e&&e[1]||""}return`
`+Mo+t}var ko=!1;function Co(t,e){if(!t||ko)return"";ko=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),r=i.stack.split(`
`),a=s.length-1,o=r.length-1;1<=a&&0<=o&&s[a]!==r[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==r[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==r[o]){var l=`
`+s[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{ko=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ms(t):""}function H0(t){switch(t.tag){case 5:return ms(t.type);case 16:return ms("Lazy");case 13:return ms("Suspense");case 19:return ms("SuspenseList");case 0:case 2:case 15:return t=Co(t.type,!1),t;case 11:return t=Co(t.type.render,!1),t;case 1:return t=Co(t.type,!0),t;default:return""}}function xl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case pi:return"Fragment";case mi:return"Portal";case ml:return"Profiler";case Tc:return"StrictMode";case pl:return"Suspense";case gl:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Gh:return(t.displayName||"Context")+".Consumer";case Jh:return(t._context.displayName||"Context")+".Provider";case Pc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case zc:return e=t.displayName||null,e!==null?e:xl(t.type)||"Memo";case fn:e=t._payload,t=t._init;try{return xl(t(e))}catch{}}return null}function U0(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xl(e);case 8:return e===Tc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Tn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Qh(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function K0(t){var e=Qh(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,r=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){i=""+a,r.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function jr(t){t._valueTracker||(t._valueTracker=K0(t))}function Zh(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=Qh(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function pa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function vl(t,e){var n=e.checked;return de({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Hu(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=Tn(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function em(t,e){e=e.checked,e!=null&&Ec(t,"checked",e,!1)}function yl(t,e){em(t,e);var n=Tn(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?bl(t,e.type,n):e.hasOwnProperty("defaultValue")&&bl(t,e.type,Tn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Uu(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function bl(t,e,n){(e!=="number"||pa(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ps=Array.isArray;function ki(t,e,n,i){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Tn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,i&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function _l(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(T(91));return de({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ku(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(T(92));if(ps(n)){if(1<n.length)throw Error(T(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Tn(n)}}function tm(t,e){var n=Tn(e.value),i=Tn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function Yu(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function nm(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wl(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?nm(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Mr,im=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Mr=Mr||document.createElement("div"),Mr.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Mr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Vs(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ns={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Y0=["Webkit","ms","Moz","O"];Object.keys(Ns).forEach(function(t){Y0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ns[e]=Ns[t]})});function sm(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ns.hasOwnProperty(t)&&Ns[t]?(""+e).trim():e+"px"}function rm(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,s=sm(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,s):t[n]=s}}var X0=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nl(t,e){if(e){if(X0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(T(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(T(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(T(61))}if(e.style!=null&&typeof e.style!="object")throw Error(T(62))}}function Sl(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jl=null;function Ac(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ml=null,Ci=null,Ei=null;function Xu(t){if(t=gr(t)){if(typeof Ml!="function")throw Error(T(280));var e=t.stateNode;e&&(e=ao(e),Ml(t.stateNode,t.type,e))}}function am(t){Ci?Ei?Ei.push(t):Ei=[t]:Ci=t}function om(){if(Ci){var t=Ci,e=Ei;if(Ei=Ci=null,Xu(t),e)for(t=0;t<e.length;t++)Xu(e[t])}}function lm(t,e){return t(e)}function cm(){}var Eo=!1;function um(t,e,n){if(Eo)return t(e,n);Eo=!0;try{return lm(t,e,n)}finally{Eo=!1,(Ci!==null||Ei!==null)&&(cm(),om())}}function $s(t,e){var n=t.stateNode;if(n===null)return null;var i=ao(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(T(231,e,typeof n));return n}var kl=!1;if(Qt)try{var ts={};Object.defineProperty(ts,"passive",{get:function(){kl=!0}}),window.addEventListener("test",ts,ts),window.removeEventListener("test",ts,ts)}catch{kl=!1}function J0(t,e,n,i,s,r,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Ss=!1,ga=null,xa=!1,Cl=null,G0={onError:function(t){Ss=!0,ga=t}};function q0(t,e,n,i,s,r,a,o,l){Ss=!1,ga=null,J0.apply(G0,arguments)}function Q0(t,e,n,i,s,r,a,o,l){if(q0.apply(this,arguments),Ss){if(Ss){var c=ga;Ss=!1,ga=null}else throw Error(T(198));xa||(xa=!0,Cl=c)}}function ci(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function dm(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ju(t){if(ci(t)!==t)throw Error(T(188))}function Z0(t){var e=t.alternate;if(!e){if(e=ci(t),e===null)throw Error(T(188));return e!==t?null:t}for(var n=t,i=e;;){var s=n.return;if(s===null)break;var r=s.alternate;if(r===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===n)return Ju(s),t;if(r===i)return Ju(s),e;r=r.sibling}throw Error(T(188))}if(n.return!==i.return)n=s,i=r;else{for(var a=!1,o=s.child;o;){if(o===n){a=!0,n=s,i=r;break}if(o===i){a=!0,i=s,n=r;break}o=o.sibling}if(!a){for(o=r.child;o;){if(o===n){a=!0,n=r,i=s;break}if(o===i){a=!0,i=r,n=s;break}o=o.sibling}if(!a)throw Error(T(189))}}if(n.alternate!==i)throw Error(T(190))}if(n.tag!==3)throw Error(T(188));return n.stateNode.current===n?t:e}function fm(t){return t=Z0(t),t!==null?hm(t):null}function hm(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=hm(t);if(e!==null)return e;t=t.sibling}return null}var mm=it.unstable_scheduleCallback,Gu=it.unstable_cancelCallback,ex=it.unstable_shouldYield,tx=it.unstable_requestPaint,me=it.unstable_now,nx=it.unstable_getCurrentPriorityLevel,Rc=it.unstable_ImmediatePriority,pm=it.unstable_UserBlockingPriority,va=it.unstable_NormalPriority,ix=it.unstable_LowPriority,gm=it.unstable_IdlePriority,no=null,At=null;function sx(t){if(At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(no,t,void 0,(t.current.flags&128)===128)}catch{}}var wt=Math.clz32?Math.clz32:ox,rx=Math.log,ax=Math.LN2;function ox(t){return t>>>=0,t===0?32:31-(rx(t)/ax|0)|0}var kr=64,Cr=4194304;function gs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ya(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,s=t.suspendedLanes,r=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~s;o!==0?i=gs(o):(r&=a,r!==0&&(i=gs(r)))}else a=n&~s,a!==0?i=gs(a):r!==0&&(i=gs(r));if(i===0)return 0;if(e!==0&&e!==i&&!(e&s)&&(s=i&-i,r=e&-e,s>=r||s===16&&(r&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-wt(e),s=1<<n,i|=t[n],e&=~s;return i}function lx(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cx(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,r=t.pendingLanes;0<r;){var a=31-wt(r),o=1<<a,l=s[a];l===-1?(!(o&n)||o&i)&&(s[a]=lx(o,e)):l<=e&&(t.expiredLanes|=o),r&=~o}}function El(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function xm(){var t=kr;return kr<<=1,!(kr&4194240)&&(kr=64),t}function To(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function mr(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-wt(e),t[e]=n}function ux(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-wt(n),r=1<<s;e[s]=0,i[s]=-1,t[s]=-1,n&=~r}}function Fc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-wt(n),s=1<<i;s&e|t[i]&e&&(t[i]|=e),n&=~s}}var te=0;function vm(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ym,Oc,bm,_m,wm,Tl=!1,Er=[],bn=null,_n=null,wn=null,Ws=new Map,Hs=new Map,mn=[],dx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qu(t,e){switch(t){case"focusin":case"focusout":bn=null;break;case"dragenter":case"dragleave":_n=null;break;case"mouseover":case"mouseout":wn=null;break;case"pointerover":case"pointerout":Ws.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hs.delete(e.pointerId)}}function ns(t,e,n,i,s,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},e!==null&&(e=gr(e),e!==null&&Oc(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function fx(t,e,n,i,s){switch(e){case"focusin":return bn=ns(bn,t,e,n,i,s),!0;case"dragenter":return _n=ns(_n,t,e,n,i,s),!0;case"mouseover":return wn=ns(wn,t,e,n,i,s),!0;case"pointerover":var r=s.pointerId;return Ws.set(r,ns(Ws.get(r)||null,t,e,n,i,s)),!0;case"gotpointercapture":return r=s.pointerId,Hs.set(r,ns(Hs.get(r)||null,t,e,n,i,s)),!0}return!1}function Nm(t){var e=Jn(t.target);if(e!==null){var n=ci(e);if(n!==null){if(e=n.tag,e===13){if(e=dm(n),e!==null){t.blockedOn=e,wm(t.priority,function(){bm(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function na(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Pl(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);jl=i,n.target.dispatchEvent(i),jl=null}else return e=gr(n),e!==null&&Oc(e),t.blockedOn=n,!1;e.shift()}return!0}function Qu(t,e,n){na(t)&&n.delete(e)}function hx(){Tl=!1,bn!==null&&na(bn)&&(bn=null),_n!==null&&na(_n)&&(_n=null),wn!==null&&na(wn)&&(wn=null),Ws.forEach(Qu),Hs.forEach(Qu)}function is(t,e){t.blockedOn===e&&(t.blockedOn=null,Tl||(Tl=!0,it.unstable_scheduleCallback(it.unstable_NormalPriority,hx)))}function Us(t){function e(s){return is(s,t)}if(0<Er.length){is(Er[0],t);for(var n=1;n<Er.length;n++){var i=Er[n];i.blockedOn===t&&(i.blockedOn=null)}}for(bn!==null&&is(bn,t),_n!==null&&is(_n,t),wn!==null&&is(wn,t),Ws.forEach(e),Hs.forEach(e),n=0;n<mn.length;n++)i=mn[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<mn.length&&(n=mn[0],n.blockedOn===null);)Nm(n),n.blockedOn===null&&mn.shift()}var Ti=sn.ReactCurrentBatchConfig,ba=!0;function mx(t,e,n,i){var s=te,r=Ti.transition;Ti.transition=null;try{te=1,Ic(t,e,n,i)}finally{te=s,Ti.transition=r}}function px(t,e,n,i){var s=te,r=Ti.transition;Ti.transition=null;try{te=4,Ic(t,e,n,i)}finally{te=s,Ti.transition=r}}function Ic(t,e,n,i){if(ba){var s=Pl(t,e,n,i);if(s===null)Bo(t,e,i,_a,n),qu(t,i);else if(fx(s,t,e,n,i))i.stopPropagation();else if(qu(t,i),e&4&&-1<dx.indexOf(t)){for(;s!==null;){var r=gr(s);if(r!==null&&ym(r),r=Pl(t,e,n,i),r===null&&Bo(t,e,i,_a,n),r===s)break;s=r}s!==null&&i.stopPropagation()}else Bo(t,e,i,null,n)}}var _a=null;function Pl(t,e,n,i){if(_a=null,t=Ac(i),t=Jn(t),t!==null)if(e=ci(t),e===null)t=null;else if(n=e.tag,n===13){if(t=dm(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return _a=t,null}function Sm(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nx()){case Rc:return 1;case pm:return 4;case va:case ix:return 16;case gm:return 536870912;default:return 16}default:return 16}}var gn=null,Dc=null,ia=null;function jm(){if(ia)return ia;var t,e=Dc,n=e.length,i,s="value"in gn?gn.value:gn.textContent,r=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(i=1;i<=a&&e[n-i]===s[r-i];i++);return ia=s.slice(t,1<i?1-i:void 0)}function sa(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Tr(){return!0}function Zu(){return!1}function rt(t){function e(n,i,s,r,a){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=r,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(r):r[o]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Tr:Zu,this.isPropagationStopped=Zu,this}return de(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Tr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Tr)},persist:function(){},isPersistent:Tr}),e}var Yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lc=rt(Yi),pr=de({},Yi,{view:0,detail:0}),gx=rt(pr),Po,zo,ss,io=de({},pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ss&&(ss&&t.type==="mousemove"?(Po=t.screenX-ss.screenX,zo=t.screenY-ss.screenY):zo=Po=0,ss=t),Po)},movementY:function(t){return"movementY"in t?t.movementY:zo}}),ed=rt(io),xx=de({},io,{dataTransfer:0}),vx=rt(xx),yx=de({},pr,{relatedTarget:0}),Ao=rt(yx),bx=de({},Yi,{animationName:0,elapsedTime:0,pseudoElement:0}),_x=rt(bx),wx=de({},Yi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Nx=rt(wx),Sx=de({},Yi,{data:0}),td=rt(Sx),jx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cx(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=kx[t])?!!e[t]:!1}function Bc(){return Cx}var Ex=de({},pr,{key:function(t){if(t.key){var e=jx[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=sa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Mx[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bc,charCode:function(t){return t.type==="keypress"?sa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?sa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Tx=rt(Ex),Px=de({},io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nd=rt(Px),zx=de({},pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bc}),Ax=rt(zx),Rx=de({},Yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fx=rt(Rx),Ox=de({},io,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ix=rt(Ox),Dx=[9,13,27,32],Vc=Qt&&"CompositionEvent"in window,js=null;Qt&&"documentMode"in document&&(js=document.documentMode);var Lx=Qt&&"TextEvent"in window&&!js,Mm=Qt&&(!Vc||js&&8<js&&11>=js),id=" ",sd=!1;function km(t,e){switch(t){case"keyup":return Dx.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var gi=!1;function Bx(t,e){switch(t){case"compositionend":return Cm(e);case"keypress":return e.which!==32?null:(sd=!0,id);case"textInput":return t=e.data,t===id&&sd?null:t;default:return null}}function Vx(t,e){if(gi)return t==="compositionend"||!Vc&&km(t,e)?(t=jm(),ia=Dc=gn=null,gi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Mm&&e.locale!=="ko"?null:e.data;default:return null}}var $x={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!$x[t.type]:e==="textarea"}function Em(t,e,n,i){am(i),e=wa(e,"onChange"),0<e.length&&(n=new Lc("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Ms=null,Ks=null;function Wx(t){Bm(t,0)}function so(t){var e=yi(t);if(Zh(e))return t}function Hx(t,e){if(t==="change")return e}var Tm=!1;if(Qt){var Ro;if(Qt){var Fo="oninput"in document;if(!Fo){var ad=document.createElement("div");ad.setAttribute("oninput","return;"),Fo=typeof ad.oninput=="function"}Ro=Fo}else Ro=!1;Tm=Ro&&(!document.documentMode||9<document.documentMode)}function od(){Ms&&(Ms.detachEvent("onpropertychange",Pm),Ks=Ms=null)}function Pm(t){if(t.propertyName==="value"&&so(Ks)){var e=[];Em(e,Ks,t,Ac(t)),um(Wx,e)}}function Ux(t,e,n){t==="focusin"?(od(),Ms=e,Ks=n,Ms.attachEvent("onpropertychange",Pm)):t==="focusout"&&od()}function Kx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return so(Ks)}function Yx(t,e){if(t==="click")return so(e)}function Xx(t,e){if(t==="input"||t==="change")return so(e)}function Jx(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var St=typeof Object.is=="function"?Object.is:Jx;function Ys(t,e){if(St(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!hl.call(e,s)||!St(t[s],e[s]))return!1}return!0}function ld(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cd(t,e){var n=ld(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ld(n)}}function zm(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?zm(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Am(){for(var t=window,e=pa();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=pa(t.document)}return e}function $c(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Gx(t){var e=Am(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&zm(n.ownerDocument.documentElement,n)){if(i!==null&&$c(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,r=Math.min(i.start,s);i=i.end===void 0?r:Math.min(i.end,s),!t.extend&&r>i&&(s=i,i=r,r=s),s=cd(n,r);var a=cd(n,i);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),r>i?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var qx=Qt&&"documentMode"in document&&11>=document.documentMode,xi=null,zl=null,ks=null,Al=!1;function ud(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Al||xi==null||xi!==pa(i)||(i=xi,"selectionStart"in i&&$c(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ks&&Ys(ks,i)||(ks=i,i=wa(zl,"onSelect"),0<i.length&&(e=new Lc("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=xi)))}function Pr(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var vi={animationend:Pr("Animation","AnimationEnd"),animationiteration:Pr("Animation","AnimationIteration"),animationstart:Pr("Animation","AnimationStart"),transitionend:Pr("Transition","TransitionEnd")},Oo={},Rm={};Qt&&(Rm=document.createElement("div").style,"AnimationEvent"in window||(delete vi.animationend.animation,delete vi.animationiteration.animation,delete vi.animationstart.animation),"TransitionEvent"in window||delete vi.transitionend.transition);function ro(t){if(Oo[t])return Oo[t];if(!vi[t])return t;var e=vi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Rm)return Oo[t]=e[n];return t}var Fm=ro("animationend"),Om=ro("animationiteration"),Im=ro("animationstart"),Dm=ro("transitionend"),Lm=new Map,dd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function An(t,e){Lm.set(t,e),li(e,[t])}for(var Io=0;Io<dd.length;Io++){var Do=dd[Io],Qx=Do.toLowerCase(),Zx=Do[0].toUpperCase()+Do.slice(1);An(Qx,"on"+Zx)}An(Fm,"onAnimationEnd");An(Om,"onAnimationIteration");An(Im,"onAnimationStart");An("dblclick","onDoubleClick");An("focusin","onFocus");An("focusout","onBlur");An(Dm,"onTransitionEnd");Ri("onMouseEnter",["mouseout","mouseover"]);Ri("onMouseLeave",["mouseout","mouseover"]);Ri("onPointerEnter",["pointerout","pointerover"]);Ri("onPointerLeave",["pointerout","pointerover"]);li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));li("onBeforeInput",["compositionend","keypress","textInput","paste"]);li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ev=new Set("cancel close invalid load scroll toggle".split(" ").concat(xs));function fd(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,Q0(i,e,void 0,t),t.currentTarget=null}function Bm(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],s=i.event;i=i.listeners;e:{var r=void 0;if(e)for(var a=i.length-1;0<=a;a--){var o=i[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==r&&s.isPropagationStopped())break e;fd(s,o,c),r=l}else for(a=0;a<i.length;a++){if(o=i[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==r&&s.isPropagationStopped())break e;fd(s,o,c),r=l}}}if(xa)throw t=Cl,xa=!1,Cl=null,t}function se(t,e){var n=e[Dl];n===void 0&&(n=e[Dl]=new Set);var i=t+"__bubble";n.has(i)||(Vm(e,t,2,!1),n.add(i))}function Lo(t,e,n){var i=0;e&&(i|=4),Vm(n,t,i,e)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Xs(t){if(!t[zr]){t[zr]=!0,Xh.forEach(function(n){n!=="selectionchange"&&(ev.has(n)||Lo(n,!1,t),Lo(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[zr]||(e[zr]=!0,Lo("selectionchange",!1,e))}}function Vm(t,e,n,i){switch(Sm(e)){case 1:var s=mx;break;case 4:s=px;break;default:s=Ic}n=s.bind(null,e,n,t),s=void 0,!kl||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Bo(t,e,n,i,s){var r=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var o=i.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=i.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;o!==null;){if(a=Jn(o),a===null)return;if(l=a.tag,l===5||l===6){i=r=a;continue e}o=o.parentNode}}i=i.return}um(function(){var c=r,u=Ac(n),f=[];e:{var h=Lm.get(t);if(h!==void 0){var p=Lc,x=t;switch(t){case"keypress":if(sa(n)===0)break e;case"keydown":case"keyup":p=Tx;break;case"focusin":x="focus",p=Ao;break;case"focusout":x="blur",p=Ao;break;case"beforeblur":case"afterblur":p=Ao;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=ed;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=vx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Ax;break;case Fm:case Om:case Im:p=_x;break;case Dm:p=Fx;break;case"scroll":p=gx;break;case"wheel":p=Ix;break;case"copy":case"cut":case"paste":p=Nx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=nd}var m=(e&4)!==0,y=!m&&t==="scroll",g=m?h!==null?h+"Capture":null:h;m=[];for(var v=c,b;v!==null;){b=v;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,g!==null&&(_=$s(v,g),_!=null&&m.push(Js(v,_,b)))),y)break;v=v.return}0<m.length&&(h=new p(h,x,null,n,u),f.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==jl&&(x=n.relatedTarget||n.fromElement)&&(Jn(x)||x[Zt]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(x=n.relatedTarget||n.toElement,p=c,x=x?Jn(x):null,x!==null&&(y=ci(x),x!==y||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=c),p!==x)){if(m=ed,_="onMouseLeave",g="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(m=nd,_="onPointerLeave",g="onPointerEnter",v="pointer"),y=p==null?h:yi(p),b=x==null?h:yi(x),h=new m(_,v+"leave",p,n,u),h.target=y,h.relatedTarget=b,_=null,Jn(u)===c&&(m=new m(g,v+"enter",x,n,u),m.target=b,m.relatedTarget=y,_=m),y=_,p&&x)t:{for(m=p,g=x,v=0,b=m;b;b=di(b))v++;for(b=0,_=g;_;_=di(_))b++;for(;0<v-b;)m=di(m),v--;for(;0<b-v;)g=di(g),b--;for(;v--;){if(m===g||g!==null&&m===g.alternate)break t;m=di(m),g=di(g)}m=null}else m=null;p!==null&&hd(f,h,p,m,!1),x!==null&&y!==null&&hd(f,y,x,m,!0)}}e:{if(h=c?yi(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var N=Hx;else if(rd(h))if(Tm)N=Xx;else{N=Kx;var w=Ux}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=Yx);if(N&&(N=N(t,c))){Em(f,N,n,u);break e}w&&w(t,h,c),t==="focusout"&&(w=h._wrapperState)&&w.controlled&&h.type==="number"&&bl(h,"number",h.value)}switch(w=c?yi(c):window,t){case"focusin":(rd(w)||w.contentEditable==="true")&&(xi=w,zl=c,ks=null);break;case"focusout":ks=zl=xi=null;break;case"mousedown":Al=!0;break;case"contextmenu":case"mouseup":case"dragend":Al=!1,ud(f,n,u);break;case"selectionchange":if(qx)break;case"keydown":case"keyup":ud(f,n,u)}var j;if(Vc)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else gi?km(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(Mm&&n.locale!=="ko"&&(gi||S!=="onCompositionStart"?S==="onCompositionEnd"&&gi&&(j=jm()):(gn=u,Dc="value"in gn?gn.value:gn.textContent,gi=!0)),w=wa(c,S),0<w.length&&(S=new td(S,t,null,n,u),f.push({event:S,listeners:w}),j?S.data=j:(j=Cm(n),j!==null&&(S.data=j)))),(j=Lx?Bx(t,n):Vx(t,n))&&(c=wa(c,"onBeforeInput"),0<c.length&&(u=new td("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=j))}Bm(f,e)})}function Js(t,e,n){return{instance:t,listener:e,currentTarget:n}}function wa(t,e){for(var n=e+"Capture",i=[];t!==null;){var s=t,r=s.stateNode;s.tag===5&&r!==null&&(s=r,r=$s(t,n),r!=null&&i.unshift(Js(t,r,s)),r=$s(t,e),r!=null&&i.push(Js(t,r,s))),t=t.return}return i}function di(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function hd(t,e,n,i,s){for(var r=e._reactName,a=[];n!==null&&n!==i;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===i)break;o.tag===5&&c!==null&&(o=c,s?(l=$s(n,r),l!=null&&a.unshift(Js(n,l,o))):s||(l=$s(n,r),l!=null&&a.push(Js(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var tv=/\r\n?/g,nv=/\u0000|\uFFFD/g;function md(t){return(typeof t=="string"?t:""+t).replace(tv,`
`).replace(nv,"")}function Ar(t,e,n){if(e=md(e),md(t)!==e&&n)throw Error(T(425))}function Na(){}var Rl=null,Fl=null;function Ol(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Il=typeof setTimeout=="function"?setTimeout:void 0,iv=typeof clearTimeout=="function"?clearTimeout:void 0,pd=typeof Promise=="function"?Promise:void 0,sv=typeof queueMicrotask=="function"?queueMicrotask:typeof pd<"u"?function(t){return pd.resolve(null).then(t).catch(rv)}:Il;function rv(t){setTimeout(function(){throw t})}function Vo(t,e){var n=e,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(i===0){t.removeChild(s),Us(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=s}while(n);Us(e)}function Nn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function gd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Xi=Math.random().toString(36).slice(2),zt="__reactFiber$"+Xi,Gs="__reactProps$"+Xi,Zt="__reactContainer$"+Xi,Dl="__reactEvents$"+Xi,av="__reactListeners$"+Xi,ov="__reactHandles$"+Xi;function Jn(t){var e=t[zt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Zt]||n[zt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=gd(t);t!==null;){if(n=t[zt])return n;t=gd(t)}return e}t=n,n=t.parentNode}return null}function gr(t){return t=t[zt]||t[Zt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function yi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(T(33))}function ao(t){return t[Gs]||null}var Ll=[],bi=-1;function Rn(t){return{current:t}}function ae(t){0>bi||(t.current=Ll[bi],Ll[bi]=null,bi--)}function ie(t,e){bi++,Ll[bi]=t.current,t.current=e}var Pn={},Oe=Rn(Pn),Xe=Rn(!1),ni=Pn;function Fi(t,e){var n=t.type.contextTypes;if(!n)return Pn;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var s={},r;for(r in n)s[r]=e[r];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Je(t){return t=t.childContextTypes,t!=null}function Sa(){ae(Xe),ae(Oe)}function xd(t,e,n){if(Oe.current!==Pn)throw Error(T(168));ie(Oe,e),ie(Xe,n)}function $m(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var s in i)if(!(s in e))throw Error(T(108,U0(t)||"Unknown",s));return de({},n,i)}function ja(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Pn,ni=Oe.current,ie(Oe,t),ie(Xe,Xe.current),!0}function vd(t,e,n){var i=t.stateNode;if(!i)throw Error(T(169));n?(t=$m(t,e,ni),i.__reactInternalMemoizedMergedChildContext=t,ae(Xe),ae(Oe),ie(Oe,t)):ae(Xe),ie(Xe,n)}var Wt=null,oo=!1,$o=!1;function Wm(t){Wt===null?Wt=[t]:Wt.push(t)}function lv(t){oo=!0,Wm(t)}function Fn(){if(!$o&&Wt!==null){$o=!0;var t=0,e=te;try{var n=Wt;for(te=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Wt=null,oo=!1}catch(s){throw Wt!==null&&(Wt=Wt.slice(t+1)),mm(Rc,Fn),s}finally{te=e,$o=!1}}return null}var _i=[],wi=0,Ma=null,ka=0,ot=[],lt=0,ii=null,Kt=1,Yt="";function Hn(t,e){_i[wi++]=ka,_i[wi++]=Ma,Ma=t,ka=e}function Hm(t,e,n){ot[lt++]=Kt,ot[lt++]=Yt,ot[lt++]=ii,ii=t;var i=Kt;t=Yt;var s=32-wt(i)-1;i&=~(1<<s),n+=1;var r=32-wt(e)+s;if(30<r){var a=s-s%5;r=(i&(1<<a)-1).toString(32),i>>=a,s-=a,Kt=1<<32-wt(e)+s|n<<s|i,Yt=r+t}else Kt=1<<r|n<<s|i,Yt=t}function Wc(t){t.return!==null&&(Hn(t,1),Hm(t,1,0))}function Hc(t){for(;t===Ma;)Ma=_i[--wi],_i[wi]=null,ka=_i[--wi],_i[wi]=null;for(;t===ii;)ii=ot[--lt],ot[lt]=null,Yt=ot[--lt],ot[lt]=null,Kt=ot[--lt],ot[lt]=null}var nt=null,tt=null,oe=!1,bt=null;function Um(t,e){var n=ct(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function yd(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,nt=t,tt=Nn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,nt=t,tt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ii!==null?{id:Kt,overflow:Yt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ct(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,nt=t,tt=null,!0):!1;default:return!1}}function Bl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Vl(t){if(oe){var e=tt;if(e){var n=e;if(!yd(t,e)){if(Bl(t))throw Error(T(418));e=Nn(n.nextSibling);var i=nt;e&&yd(t,e)?Um(i,n):(t.flags=t.flags&-4097|2,oe=!1,nt=t)}}else{if(Bl(t))throw Error(T(418));t.flags=t.flags&-4097|2,oe=!1,nt=t}}}function bd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;nt=t}function Rr(t){if(t!==nt)return!1;if(!oe)return bd(t),oe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ol(t.type,t.memoizedProps)),e&&(e=tt)){if(Bl(t))throw Km(),Error(T(418));for(;e;)Um(t,e),e=Nn(e.nextSibling)}if(bd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(T(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){tt=Nn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}tt=null}}else tt=nt?Nn(t.stateNode.nextSibling):null;return!0}function Km(){for(var t=tt;t;)t=Nn(t.nextSibling)}function Oi(){tt=nt=null,oe=!1}function Uc(t){bt===null?bt=[t]:bt.push(t)}var cv=sn.ReactCurrentBatchConfig;function rs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(T(309));var i=n.stateNode}if(!i)throw Error(T(147,t));var s=i,r=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(a){var o=s.refs;a===null?delete o[r]:o[r]=a},e._stringRef=r,e)}if(typeof t!="string")throw Error(T(284));if(!n._owner)throw Error(T(290,t))}return t}function Fr(t,e){throw t=Object.prototype.toString.call(e),Error(T(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function _d(t){var e=t._init;return e(t._payload)}function Ym(t){function e(g,v){if(t){var b=g.deletions;b===null?(g.deletions=[v],g.flags|=16):b.push(v)}}function n(g,v){if(!t)return null;for(;v!==null;)e(g,v),v=v.sibling;return null}function i(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function s(g,v){return g=kn(g,v),g.index=0,g.sibling=null,g}function r(g,v,b){return g.index=b,t?(b=g.alternate,b!==null?(b=b.index,b<v?(g.flags|=2,v):b):(g.flags|=2,v)):(g.flags|=1048576,v)}function a(g){return t&&g.alternate===null&&(g.flags|=2),g}function o(g,v,b,_){return v===null||v.tag!==6?(v=Jo(b,g.mode,_),v.return=g,v):(v=s(v,b),v.return=g,v)}function l(g,v,b,_){var N=b.type;return N===pi?u(g,v,b.props.children,_,b.key):v!==null&&(v.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===fn&&_d(N)===v.type)?(_=s(v,b.props),_.ref=rs(g,v,b),_.return=g,_):(_=da(b.type,b.key,b.props,null,g.mode,_),_.ref=rs(g,v,b),_.return=g,_)}function c(g,v,b,_){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=Go(b,g.mode,_),v.return=g,v):(v=s(v,b.children||[]),v.return=g,v)}function u(g,v,b,_,N){return v===null||v.tag!==7?(v=ei(b,g.mode,_,N),v.return=g,v):(v=s(v,b),v.return=g,v)}function f(g,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Jo(""+v,g.mode,b),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Sr:return b=da(v.type,v.key,v.props,null,g.mode,b),b.ref=rs(g,null,v),b.return=g,b;case mi:return v=Go(v,g.mode,b),v.return=g,v;case fn:var _=v._init;return f(g,_(v._payload),b)}if(ps(v)||es(v))return v=ei(v,g.mode,b,null),v.return=g,v;Fr(g,v)}return null}function h(g,v,b,_){var N=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return N!==null?null:o(g,v,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Sr:return b.key===N?l(g,v,b,_):null;case mi:return b.key===N?c(g,v,b,_):null;case fn:return N=b._init,h(g,v,N(b._payload),_)}if(ps(b)||es(b))return N!==null?null:u(g,v,b,_,null);Fr(g,b)}return null}function p(g,v,b,_,N){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(b)||null,o(v,g,""+_,N);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Sr:return g=g.get(_.key===null?b:_.key)||null,l(v,g,_,N);case mi:return g=g.get(_.key===null?b:_.key)||null,c(v,g,_,N);case fn:var w=_._init;return p(g,v,b,w(_._payload),N)}if(ps(_)||es(_))return g=g.get(b)||null,u(v,g,_,N,null);Fr(v,_)}return null}function x(g,v,b,_){for(var N=null,w=null,j=v,S=v=0,k=null;j!==null&&S<b.length;S++){j.index>S?(k=j,j=null):k=j.sibling;var C=h(g,j,b[S],_);if(C===null){j===null&&(j=k);break}t&&j&&C.alternate===null&&e(g,j),v=r(C,v,S),w===null?N=C:w.sibling=C,w=C,j=k}if(S===b.length)return n(g,j),oe&&Hn(g,S),N;if(j===null){for(;S<b.length;S++)j=f(g,b[S],_),j!==null&&(v=r(j,v,S),w===null?N=j:w.sibling=j,w=j);return oe&&Hn(g,S),N}for(j=i(g,j);S<b.length;S++)k=p(j,g,S,b[S],_),k!==null&&(t&&k.alternate!==null&&j.delete(k.key===null?S:k.key),v=r(k,v,S),w===null?N=k:w.sibling=k,w=k);return t&&j.forEach(function(z){return e(g,z)}),oe&&Hn(g,S),N}function m(g,v,b,_){var N=es(b);if(typeof N!="function")throw Error(T(150));if(b=N.call(b),b==null)throw Error(T(151));for(var w=N=null,j=v,S=v=0,k=null,C=b.next();j!==null&&!C.done;S++,C=b.next()){j.index>S?(k=j,j=null):k=j.sibling;var z=h(g,j,C.value,_);if(z===null){j===null&&(j=k);break}t&&j&&z.alternate===null&&e(g,j),v=r(z,v,S),w===null?N=z:w.sibling=z,w=z,j=k}if(C.done)return n(g,j),oe&&Hn(g,S),N;if(j===null){for(;!C.done;S++,C=b.next())C=f(g,C.value,_),C!==null&&(v=r(C,v,S),w===null?N=C:w.sibling=C,w=C);return oe&&Hn(g,S),N}for(j=i(g,j);!C.done;S++,C=b.next())C=p(j,g,S,C.value,_),C!==null&&(t&&C.alternate!==null&&j.delete(C.key===null?S:C.key),v=r(C,v,S),w===null?N=C:w.sibling=C,w=C);return t&&j.forEach(function(D){return e(g,D)}),oe&&Hn(g,S),N}function y(g,v,b,_){if(typeof b=="object"&&b!==null&&b.type===pi&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Sr:e:{for(var N=b.key,w=v;w!==null;){if(w.key===N){if(N=b.type,N===pi){if(w.tag===7){n(g,w.sibling),v=s(w,b.props.children),v.return=g,g=v;break e}}else if(w.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===fn&&_d(N)===w.type){n(g,w.sibling),v=s(w,b.props),v.ref=rs(g,w,b),v.return=g,g=v;break e}n(g,w);break}else e(g,w);w=w.sibling}b.type===pi?(v=ei(b.props.children,g.mode,_,b.key),v.return=g,g=v):(_=da(b.type,b.key,b.props,null,g.mode,_),_.ref=rs(g,v,b),_.return=g,g=_)}return a(g);case mi:e:{for(w=b.key;v!==null;){if(v.key===w)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(g,v.sibling),v=s(v,b.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else e(g,v);v=v.sibling}v=Go(b,g.mode,_),v.return=g,g=v}return a(g);case fn:return w=b._init,y(g,v,w(b._payload),_)}if(ps(b))return x(g,v,b,_);if(es(b))return m(g,v,b,_);Fr(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(n(g,v.sibling),v=s(v,b),v.return=g,g=v):(n(g,v),v=Jo(b,g.mode,_),v.return=g,g=v),a(g)):n(g,v)}return y}var Ii=Ym(!0),Xm=Ym(!1),Ca=Rn(null),Ea=null,Ni=null,Kc=null;function Yc(){Kc=Ni=Ea=null}function Xc(t){var e=Ca.current;ae(Ca),t._currentValue=e}function $l(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Pi(t,e){Ea=t,Kc=Ni=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ke=!0),t.firstContext=null)}function ft(t){var e=t._currentValue;if(Kc!==t)if(t={context:t,memoizedValue:e,next:null},Ni===null){if(Ea===null)throw Error(T(308));Ni=t,Ea.dependencies={lanes:0,firstContext:t}}else Ni=Ni.next=t;return e}var Gn=null;function Jc(t){Gn===null?Gn=[t]:Gn.push(t)}function Jm(t,e,n,i){var s=e.interleaved;return s===null?(n.next=n,Jc(e)):(n.next=s.next,s.next=n),e.interleaved=n,en(t,i)}function en(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var hn=!1;function Gc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gm(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Jt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Sn(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,X&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,en(t,n)}return s=i.interleaved,s===null?(e.next=e,Jc(i)):(e.next=s.next,s.next=e),i.interleaved=e,en(t,n)}function ra(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Fc(t,n)}}function wd(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};r===null?s=r=a:r=r.next=a,n=n.next}while(n!==null);r===null?s=r=e:r=r.next=e}else s=r=e;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ta(t,e,n,i){var s=t.updateQueue;hn=!1;var r=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?r=c:a.next=c,a=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==a&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(r!==null){var f=s.baseState;a=0,u=c=l=null,o=r;do{var h=o.lane,p=o.eventTime;if((i&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var x=t,m=o;switch(h=e,p=n,m.tag){case 1:if(x=m.payload,typeof x=="function"){f=x.call(p,f,h);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=m.payload,h=typeof x=="function"?x.call(p,f,h):x,h==null)break e;f=de({},f,h);break e;case 2:hn=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=p,l=f):u=u.next=p,a|=h;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;h=o,o=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(u===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else r===null&&(s.shared.lanes=0);ri|=a,t.lanes=a,t.memoizedState=f}}function Nd(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],s=i.callback;if(s!==null){if(i.callback=null,i=n,typeof s!="function")throw Error(T(191,s));s.call(i)}}}var xr={},Rt=Rn(xr),qs=Rn(xr),Qs=Rn(xr);function qn(t){if(t===xr)throw Error(T(174));return t}function qc(t,e){switch(ie(Qs,e),ie(qs,t),ie(Rt,xr),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:wl(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=wl(e,t)}ae(Rt),ie(Rt,e)}function Di(){ae(Rt),ae(qs),ae(Qs)}function qm(t){qn(Qs.current);var e=qn(Rt.current),n=wl(e,t.type);e!==n&&(ie(qs,t),ie(Rt,n))}function Qc(t){qs.current===t&&(ae(Rt),ae(qs))}var le=Rn(0);function Pa(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Wo=[];function Zc(){for(var t=0;t<Wo.length;t++)Wo[t]._workInProgressVersionPrimary=null;Wo.length=0}var aa=sn.ReactCurrentDispatcher,Ho=sn.ReactCurrentBatchConfig,si=0,ce=null,xe=null,be=null,za=!1,Cs=!1,Zs=0,uv=0;function Pe(){throw Error(T(321))}function eu(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!St(t[n],e[n]))return!1;return!0}function tu(t,e,n,i,s,r){if(si=r,ce=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,aa.current=t===null||t.memoizedState===null?mv:pv,t=n(i,s),Cs){r=0;do{if(Cs=!1,Zs=0,25<=r)throw Error(T(301));r+=1,be=xe=null,e.updateQueue=null,aa.current=gv,t=n(i,s)}while(Cs)}if(aa.current=Aa,e=xe!==null&&xe.next!==null,si=0,be=xe=ce=null,za=!1,e)throw Error(T(300));return t}function nu(){var t=Zs!==0;return Zs=0,t}function Tt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?ce.memoizedState=be=t:be=be.next=t,be}function ht(){if(xe===null){var t=ce.alternate;t=t!==null?t.memoizedState:null}else t=xe.next;var e=be===null?ce.memoizedState:be.next;if(e!==null)be=e,xe=t;else{if(t===null)throw Error(T(310));xe=t,t={memoizedState:xe.memoizedState,baseState:xe.baseState,baseQueue:xe.baseQueue,queue:xe.queue,next:null},be===null?ce.memoizedState=be=t:be=be.next=t}return be}function er(t,e){return typeof e=="function"?e(t):e}function Uo(t){var e=ht(),n=e.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=t;var i=xe,s=i.baseQueue,r=n.pending;if(r!==null){if(s!==null){var a=s.next;s.next=r.next,r.next=a}i.baseQueue=s=r,n.pending=null}if(s!==null){r=s.next,i=i.baseState;var o=a=null,l=null,c=r;do{var u=c.lane;if((si&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:t(i,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,a=i):l=l.next=f,ce.lanes|=u,ri|=u}c=c.next}while(c!==null&&c!==r);l===null?a=i:l.next=o,St(i,e.memoizedState)||(Ke=!0),e.memoizedState=i,e.baseState=a,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){s=t;do r=s.lane,ce.lanes|=r,ri|=r,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ko(t){var e=ht(),n=e.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=t;var i=n.dispatch,s=n.pending,r=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do r=t(r,a.action),a=a.next;while(a!==s);St(r,e.memoizedState)||(Ke=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),n.lastRenderedState=r}return[r,i]}function Qm(){}function Zm(t,e){var n=ce,i=ht(),s=e(),r=!St(i.memoizedState,s);if(r&&(i.memoizedState=s,Ke=!0),i=i.queue,iu(np.bind(null,n,i,t),[t]),i.getSnapshot!==e||r||be!==null&&be.memoizedState.tag&1){if(n.flags|=2048,tr(9,tp.bind(null,n,i,s,e),void 0,null),Ne===null)throw Error(T(349));si&30||ep(n,e,s)}return s}function ep(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ce.updateQueue,e===null?(e={lastEffect:null,stores:null},ce.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function tp(t,e,n,i){e.value=n,e.getSnapshot=i,ip(e)&&sp(t)}function np(t,e,n){return n(function(){ip(e)&&sp(t)})}function ip(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!St(t,n)}catch{return!0}}function sp(t){var e=en(t,1);e!==null&&Nt(e,t,1,-1)}function Sd(t){var e=Tt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:t},e.queue=t,t=t.dispatch=hv.bind(null,ce,t),[e.memoizedState,t]}function tr(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=ce.updateQueue,e===null?(e={lastEffect:null,stores:null},ce.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function rp(){return ht().memoizedState}function oa(t,e,n,i){var s=Tt();ce.flags|=t,s.memoizedState=tr(1|e,n,void 0,i===void 0?null:i)}function lo(t,e,n,i){var s=ht();i=i===void 0?null:i;var r=void 0;if(xe!==null){var a=xe.memoizedState;if(r=a.destroy,i!==null&&eu(i,a.deps)){s.memoizedState=tr(e,n,r,i);return}}ce.flags|=t,s.memoizedState=tr(1|e,n,r,i)}function jd(t,e){return oa(8390656,8,t,e)}function iu(t,e){return lo(2048,8,t,e)}function ap(t,e){return lo(4,2,t,e)}function op(t,e){return lo(4,4,t,e)}function lp(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function cp(t,e,n){return n=n!=null?n.concat([t]):null,lo(4,4,lp.bind(null,e,t),n)}function su(){}function up(t,e){var n=ht();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&eu(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function dp(t,e){var n=ht();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&eu(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function fp(t,e,n){return si&21?(St(n,e)||(n=xm(),ce.lanes|=n,ri|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ke=!0),t.memoizedState=n)}function dv(t,e){var n=te;te=n!==0&&4>n?n:4,t(!0);var i=Ho.transition;Ho.transition={};try{t(!1),e()}finally{te=n,Ho.transition=i}}function hp(){return ht().memoizedState}function fv(t,e,n){var i=Mn(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},mp(t))pp(e,n);else if(n=Jm(t,e,n,i),n!==null){var s=De();Nt(n,t,i,s),gp(n,e,i)}}function hv(t,e,n){var i=Mn(t),s={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(mp(t))pp(e,s);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var a=e.lastRenderedState,o=r(a,n);if(s.hasEagerState=!0,s.eagerState=o,St(o,a)){var l=e.interleaved;l===null?(s.next=s,Jc(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=Jm(t,e,s,i),n!==null&&(s=De(),Nt(n,t,i,s),gp(n,e,i))}}function mp(t){var e=t.alternate;return t===ce||e!==null&&e===ce}function pp(t,e){Cs=za=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function gp(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Fc(t,n)}}var Aa={readContext:ft,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useInsertionEffect:Pe,useLayoutEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useMutableSource:Pe,useSyncExternalStore:Pe,useId:Pe,unstable_isNewReconciler:!1},mv={readContext:ft,useCallback:function(t,e){return Tt().memoizedState=[t,e===void 0?null:e],t},useContext:ft,useEffect:jd,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,oa(4194308,4,lp.bind(null,e,t),n)},useLayoutEffect:function(t,e){return oa(4194308,4,t,e)},useInsertionEffect:function(t,e){return oa(4,2,t,e)},useMemo:function(t,e){var n=Tt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Tt();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=fv.bind(null,ce,t),[i.memoizedState,t]},useRef:function(t){var e=Tt();return t={current:t},e.memoizedState=t},useState:Sd,useDebugValue:su,useDeferredValue:function(t){return Tt().memoizedState=t},useTransition:function(){var t=Sd(!1),e=t[0];return t=dv.bind(null,t[1]),Tt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=ce,s=Tt();if(oe){if(n===void 0)throw Error(T(407));n=n()}else{if(n=e(),Ne===null)throw Error(T(349));si&30||ep(i,e,n)}s.memoizedState=n;var r={value:n,getSnapshot:e};return s.queue=r,jd(np.bind(null,i,r,t),[t]),i.flags|=2048,tr(9,tp.bind(null,i,r,n,e),void 0,null),n},useId:function(){var t=Tt(),e=Ne.identifierPrefix;if(oe){var n=Yt,i=Kt;n=(i&~(1<<32-wt(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=Zs++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=uv++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},pv={readContext:ft,useCallback:up,useContext:ft,useEffect:iu,useImperativeHandle:cp,useInsertionEffect:ap,useLayoutEffect:op,useMemo:dp,useReducer:Uo,useRef:rp,useState:function(){return Uo(er)},useDebugValue:su,useDeferredValue:function(t){var e=ht();return fp(e,xe.memoizedState,t)},useTransition:function(){var t=Uo(er)[0],e=ht().memoizedState;return[t,e]},useMutableSource:Qm,useSyncExternalStore:Zm,useId:hp,unstable_isNewReconciler:!1},gv={readContext:ft,useCallback:up,useContext:ft,useEffect:iu,useImperativeHandle:cp,useInsertionEffect:ap,useLayoutEffect:op,useMemo:dp,useReducer:Ko,useRef:rp,useState:function(){return Ko(er)},useDebugValue:su,useDeferredValue:function(t){var e=ht();return xe===null?e.memoizedState=t:fp(e,xe.memoizedState,t)},useTransition:function(){var t=Ko(er)[0],e=ht().memoizedState;return[t,e]},useMutableSource:Qm,useSyncExternalStore:Zm,useId:hp,unstable_isNewReconciler:!1};function vt(t,e){if(t&&t.defaultProps){e=de({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Wl(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:de({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var co={isMounted:function(t){return(t=t._reactInternals)?ci(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=De(),s=Mn(t),r=Jt(i,s);r.payload=e,n!=null&&(r.callback=n),e=Sn(t,r,s),e!==null&&(Nt(e,t,s,i),ra(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=De(),s=Mn(t),r=Jt(i,s);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=Sn(t,r,s),e!==null&&(Nt(e,t,s,i),ra(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=De(),i=Mn(t),s=Jt(n,i);s.tag=2,e!=null&&(s.callback=e),e=Sn(t,s,i),e!==null&&(Nt(e,t,i,n),ra(e,t,i))}};function Md(t,e,n,i,s,r,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,r,a):e.prototype&&e.prototype.isPureReactComponent?!Ys(n,i)||!Ys(s,r):!0}function xp(t,e,n){var i=!1,s=Pn,r=e.contextType;return typeof r=="object"&&r!==null?r=ft(r):(s=Je(e)?ni:Oe.current,i=e.contextTypes,r=(i=i!=null)?Fi(t,s):Pn),e=new e(n,r),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=co,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=r),e}function kd(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&co.enqueueReplaceState(e,e.state,null)}function Hl(t,e,n,i){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Gc(t);var r=e.contextType;typeof r=="object"&&r!==null?s.context=ft(r):(r=Je(e)?ni:Oe.current,s.context=Fi(t,r)),s.state=t.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(Wl(t,e,r,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&co.enqueueReplaceState(s,s.state,null),Ta(t,n,s,i),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Li(t,e){try{var n="",i=e;do n+=H0(i),i=i.return;while(i);var s=n}catch(r){s=`
Error generating stack: `+r.message+`
`+r.stack}return{value:t,source:e,stack:s,digest:null}}function Yo(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ul(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var xv=typeof WeakMap=="function"?WeakMap:Map;function vp(t,e,n){n=Jt(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Fa||(Fa=!0,tc=i),Ul(t,e)},n}function yp(t,e,n){n=Jt(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var s=e.value;n.payload=function(){return i(s)},n.callback=function(){Ul(t,e)}}var r=t.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(n.callback=function(){Ul(t,e),typeof i!="function"&&(jn===null?jn=new Set([this]):jn.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Cd(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new xv;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(n)||(s.add(n),t=Pv.bind(null,t,e,n),e.then(t,t))}function Ed(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Td(t,e,n,i,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Jt(-1,1),e.tag=2,Sn(n,e,1))),n.lanes|=1),t)}var vv=sn.ReactCurrentOwner,Ke=!1;function Ie(t,e,n,i){e.child=t===null?Xm(e,null,n,i):Ii(e,t.child,n,i)}function Pd(t,e,n,i,s){n=n.render;var r=e.ref;return Pi(e,s),i=tu(t,e,n,i,r,s),n=nu(),t!==null&&!Ke?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,tn(t,e,s)):(oe&&n&&Wc(e),e.flags|=1,Ie(t,e,i,s),e.child)}function zd(t,e,n,i,s){if(t===null){var r=n.type;return typeof r=="function"&&!fu(r)&&r.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=r,bp(t,e,r,i,s)):(t=da(n.type,null,i,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!(t.lanes&s)){var a=r.memoizedProps;if(n=n.compare,n=n!==null?n:Ys,n(a,i)&&t.ref===e.ref)return tn(t,e,s)}return e.flags|=1,t=kn(r,i),t.ref=e.ref,t.return=e,e.child=t}function bp(t,e,n,i,s){if(t!==null){var r=t.memoizedProps;if(Ys(r,i)&&t.ref===e.ref)if(Ke=!1,e.pendingProps=i=r,(t.lanes&s)!==0)t.flags&131072&&(Ke=!0);else return e.lanes=t.lanes,tn(t,e,s)}return Kl(t,e,n,i,s)}function _p(t,e,n){var i=e.pendingProps,s=i.children,r=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ie(ji,et),et|=n;else{if(!(n&1073741824))return t=r!==null?r.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ie(ji,et),et|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=r!==null?r.baseLanes:n,ie(ji,et),et|=i}else r!==null?(i=r.baseLanes|n,e.memoizedState=null):i=n,ie(ji,et),et|=i;return Ie(t,e,s,n),e.child}function wp(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Kl(t,e,n,i,s){var r=Je(n)?ni:Oe.current;return r=Fi(e,r),Pi(e,s),n=tu(t,e,n,i,r,s),i=nu(),t!==null&&!Ke?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,tn(t,e,s)):(oe&&i&&Wc(e),e.flags|=1,Ie(t,e,n,s),e.child)}function Ad(t,e,n,i,s){if(Je(n)){var r=!0;ja(e)}else r=!1;if(Pi(e,s),e.stateNode===null)la(t,e),xp(e,n,i),Hl(e,n,i,s),i=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=ft(c):(c=Je(n)?ni:Oe.current,c=Fi(e,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==i||l!==c)&&kd(e,a,i,c),hn=!1;var h=e.memoizedState;a.state=h,Ta(e,i,a,s),l=e.memoizedState,o!==i||h!==l||Xe.current||hn?(typeof u=="function"&&(Wl(e,n,u,i),l=e.memoizedState),(o=hn||Md(e,n,o,i,h,l,c))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),a.props=i,a.state=l,a.context=c,i=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,Gm(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:vt(e.type,o),a.props=c,f=e.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=ft(l):(l=Je(n)?ni:Oe.current,l=Fi(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||h!==l)&&kd(e,a,i,l),hn=!1,h=e.memoizedState,a.state=h,Ta(e,i,a,s);var x=e.memoizedState;o!==f||h!==x||Xe.current||hn?(typeof p=="function"&&(Wl(e,n,p,i),x=e.memoizedState),(c=hn||Md(e,n,c,i,h,x,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,x,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,x,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=x),a.props=i,a.state=x,a.context=l,i=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),i=!1)}return Yl(t,e,n,i,r,s)}function Yl(t,e,n,i,s,r){wp(t,e);var a=(e.flags&128)!==0;if(!i&&!a)return s&&vd(e,n,!1),tn(t,e,r);i=e.stateNode,vv.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&a?(e.child=Ii(e,t.child,null,r),e.child=Ii(e,null,o,r)):Ie(t,e,o,r),e.memoizedState=i.state,s&&vd(e,n,!0),e.child}function Np(t){var e=t.stateNode;e.pendingContext?xd(t,e.pendingContext,e.pendingContext!==e.context):e.context&&xd(t,e.context,!1),qc(t,e.containerInfo)}function Rd(t,e,n,i,s){return Oi(),Uc(s),e.flags|=256,Ie(t,e,n,i),e.child}var Xl={dehydrated:null,treeContext:null,retryLane:0};function Jl(t){return{baseLanes:t,cachePool:null,transitions:null}}function Sp(t,e,n){var i=e.pendingProps,s=le.current,r=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(s&2)!==0),o?(r=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ie(le,s&1),t===null)return Vl(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=i.children,t=i.fallback,r?(i=e.mode,r=e.child,a={mode:"hidden",children:a},!(i&1)&&r!==null?(r.childLanes=0,r.pendingProps=a):r=ho(a,i,0,null),t=ei(t,i,n,null),r.return=e,t.return=e,r.sibling=t,e.child=r,e.child.memoizedState=Jl(n),e.memoizedState=Xl,t):ru(e,a));if(s=t.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return yv(t,e,a,i,o,s,n);if(r){r=i.fallback,a=e.mode,s=t.child,o=s.sibling;var l={mode:"hidden",children:i.children};return!(a&1)&&e.child!==s?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=kn(s,l),i.subtreeFlags=s.subtreeFlags&14680064),o!==null?r=kn(o,r):(r=ei(r,a,n,null),r.flags|=2),r.return=e,i.return=e,i.sibling=r,e.child=i,i=r,r=e.child,a=t.child.memoizedState,a=a===null?Jl(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},r.memoizedState=a,r.childLanes=t.childLanes&~n,e.memoizedState=Xl,i}return r=t.child,t=r.sibling,i=kn(r,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function ru(t,e){return e=ho({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Or(t,e,n,i){return i!==null&&Uc(i),Ii(e,t.child,null,n),t=ru(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function yv(t,e,n,i,s,r,a){if(n)return e.flags&256?(e.flags&=-257,i=Yo(Error(T(422))),Or(t,e,a,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(r=i.fallback,s=e.mode,i=ho({mode:"visible",children:i.children},s,0,null),r=ei(r,s,a,null),r.flags|=2,i.return=e,r.return=e,i.sibling=r,e.child=i,e.mode&1&&Ii(e,t.child,null,a),e.child.memoizedState=Jl(a),e.memoizedState=Xl,r);if(!(e.mode&1))return Or(t,e,a,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var o=i.dgst;return i=o,r=Error(T(419)),i=Yo(r,i,void 0),Or(t,e,a,i)}if(o=(a&t.childLanes)!==0,Ke||o){if(i=Ne,i!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|a)?0:s,s!==0&&s!==r.retryLane&&(r.retryLane=s,en(t,s),Nt(i,t,s,-1))}return du(),i=Yo(Error(T(421))),Or(t,e,a,i)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=zv.bind(null,t),s._reactRetry=e,null):(t=r.treeContext,tt=Nn(s.nextSibling),nt=e,oe=!0,bt=null,t!==null&&(ot[lt++]=Kt,ot[lt++]=Yt,ot[lt++]=ii,Kt=t.id,Yt=t.overflow,ii=e),e=ru(e,i.children),e.flags|=4096,e)}function Fd(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),$l(t.return,e,n)}function Xo(t,e,n,i,s){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=s)}function jp(t,e,n){var i=e.pendingProps,s=i.revealOrder,r=i.tail;if(Ie(t,e,i.children,n),i=le.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Fd(t,n,e);else if(t.tag===19)Fd(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(ie(le,i),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Pa(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Xo(e,!1,s,n,r);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Pa(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Xo(e,!0,n,null,r);break;case"together":Xo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function la(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function tn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ri|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(T(153));if(e.child!==null){for(t=e.child,n=kn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=kn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function bv(t,e,n){switch(e.tag){case 3:Np(e),Oi();break;case 5:qm(e);break;case 1:Je(e.type)&&ja(e);break;case 4:qc(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,s=e.memoizedProps.value;ie(Ca,i._currentValue),i._currentValue=s;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(ie(le,le.current&1),e.flags|=128,null):n&e.child.childLanes?Sp(t,e,n):(ie(le,le.current&1),t=tn(t,e,n),t!==null?t.sibling:null);ie(le,le.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return jp(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ie(le,le.current),i)break;return null;case 22:case 23:return e.lanes=0,_p(t,e,n)}return tn(t,e,n)}var Mp,Gl,kp,Cp;Mp=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Gl=function(){};kp=function(t,e,n,i){var s=t.memoizedProps;if(s!==i){t=e.stateNode,qn(Rt.current);var r=null;switch(n){case"input":s=vl(t,s),i=vl(t,i),r=[];break;case"select":s=de({},s,{value:void 0}),i=de({},i,{value:void 0}),r=[];break;case"textarea":s=_l(t,s),i=_l(t,i),r=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Na)}Nl(n,i);var a;n=null;for(c in s)if(!i.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var o=s[c];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Bs.hasOwnProperty(c)?r||(r=[]):(r=r||[]).push(c,null));for(c in i){var l=i[c];if(o=s!=null?s[c]:void 0,i.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(r||(r=[]),r.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(r=r||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(r=r||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Bs.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&se("scroll",t),r||o===l||(r=[])):(r=r||[]).push(c,l))}n&&(r=r||[]).push("style",n);var c=r;(e.updateQueue=c)&&(e.flags|=4)}};Cp=function(t,e,n,i){n!==i&&(e.flags|=4)};function as(t,e){if(!oe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function ze(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function _v(t,e,n){var i=e.pendingProps;switch(Hc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(e),null;case 1:return Je(e.type)&&Sa(),ze(e),null;case 3:return i=e.stateNode,Di(),ae(Xe),ae(Oe),Zc(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Rr(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,bt!==null&&(sc(bt),bt=null))),Gl(t,e),ze(e),null;case 5:Qc(e);var s=qn(Qs.current);if(n=e.type,t!==null&&e.stateNode!=null)kp(t,e,n,i,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(T(166));return ze(e),null}if(t=qn(Rt.current),Rr(e)){i=e.stateNode,n=e.type;var r=e.memoizedProps;switch(i[zt]=e,i[Gs]=r,t=(e.mode&1)!==0,n){case"dialog":se("cancel",i),se("close",i);break;case"iframe":case"object":case"embed":se("load",i);break;case"video":case"audio":for(s=0;s<xs.length;s++)se(xs[s],i);break;case"source":se("error",i);break;case"img":case"image":case"link":se("error",i),se("load",i);break;case"details":se("toggle",i);break;case"input":Hu(i,r),se("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!r.multiple},se("invalid",i);break;case"textarea":Ku(i,r),se("invalid",i)}Nl(n,r),s=null;for(var a in r)if(r.hasOwnProperty(a)){var o=r[a];a==="children"?typeof o=="string"?i.textContent!==o&&(r.suppressHydrationWarning!==!0&&Ar(i.textContent,o,t),s=["children",o]):typeof o=="number"&&i.textContent!==""+o&&(r.suppressHydrationWarning!==!0&&Ar(i.textContent,o,t),s=["children",""+o]):Bs.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&se("scroll",i)}switch(n){case"input":jr(i),Uu(i,r,!0);break;case"textarea":jr(i),Yu(i);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(i.onclick=Na)}i=s,e.updateQueue=i,i!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=nm(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=a.createElement(n,{is:i.is}):(t=a.createElement(n),n==="select"&&(a=t,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):t=a.createElementNS(t,n),t[zt]=e,t[Gs]=i,Mp(t,e,!1,!1),e.stateNode=t;e:{switch(a=Sl(n,i),n){case"dialog":se("cancel",t),se("close",t),s=i;break;case"iframe":case"object":case"embed":se("load",t),s=i;break;case"video":case"audio":for(s=0;s<xs.length;s++)se(xs[s],t);s=i;break;case"source":se("error",t),s=i;break;case"img":case"image":case"link":se("error",t),se("load",t),s=i;break;case"details":se("toggle",t),s=i;break;case"input":Hu(t,i),s=vl(t,i),se("invalid",t);break;case"option":s=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},s=de({},i,{value:void 0}),se("invalid",t);break;case"textarea":Ku(t,i),s=_l(t,i),se("invalid",t);break;default:s=i}Nl(n,s),o=s;for(r in o)if(o.hasOwnProperty(r)){var l=o[r];r==="style"?rm(t,l):r==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&im(t,l)):r==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Vs(t,l):typeof l=="number"&&Vs(t,""+l):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(Bs.hasOwnProperty(r)?l!=null&&r==="onScroll"&&se("scroll",t):l!=null&&Ec(t,r,l,a))}switch(n){case"input":jr(t),Uu(t,i,!1);break;case"textarea":jr(t),Yu(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Tn(i.value));break;case"select":t.multiple=!!i.multiple,r=i.value,r!=null?ki(t,!!i.multiple,r,!1):i.defaultValue!=null&&ki(t,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Na)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ze(e),null;case 6:if(t&&e.stateNode!=null)Cp(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(T(166));if(n=qn(Qs.current),qn(Rt.current),Rr(e)){if(i=e.stateNode,n=e.memoizedProps,i[zt]=e,(r=i.nodeValue!==n)&&(t=nt,t!==null))switch(t.tag){case 3:Ar(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ar(i.nodeValue,n,(t.mode&1)!==0)}r&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[zt]=e,e.stateNode=i}return ze(e),null;case 13:if(ae(le),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(oe&&tt!==null&&e.mode&1&&!(e.flags&128))Km(),Oi(),e.flags|=98560,r=!1;else if(r=Rr(e),i!==null&&i.dehydrated!==null){if(t===null){if(!r)throw Error(T(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(T(317));r[zt]=e}else Oi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ze(e),r=!1}else bt!==null&&(sc(bt),bt=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||le.current&1?ve===0&&(ve=3):du())),e.updateQueue!==null&&(e.flags|=4),ze(e),null);case 4:return Di(),Gl(t,e),t===null&&Xs(e.stateNode.containerInfo),ze(e),null;case 10:return Xc(e.type._context),ze(e),null;case 17:return Je(e.type)&&Sa(),ze(e),null;case 19:if(ae(le),r=e.memoizedState,r===null)return ze(e),null;if(i=(e.flags&128)!==0,a=r.rendering,a===null)if(i)as(r,!1);else{if(ve!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Pa(t),a!==null){for(e.flags|=128,as(r,!1),i=a.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)r=n,t=i,r.flags&=14680066,a=r.alternate,a===null?(r.childLanes=0,r.lanes=t,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=a.childLanes,r.lanes=a.lanes,r.child=a.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=a.memoizedProps,r.memoizedState=a.memoizedState,r.updateQueue=a.updateQueue,r.type=a.type,t=a.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ie(le,le.current&1|2),e.child}t=t.sibling}r.tail!==null&&me()>Bi&&(e.flags|=128,i=!0,as(r,!1),e.lanes=4194304)}else{if(!i)if(t=Pa(a),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),as(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!oe)return ze(e),null}else 2*me()-r.renderingStartTime>Bi&&n!==1073741824&&(e.flags|=128,i=!0,as(r,!1),e.lanes=4194304);r.isBackwards?(a.sibling=e.child,e.child=a):(n=r.last,n!==null?n.sibling=a:e.child=a,r.last=a)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=me(),e.sibling=null,n=le.current,ie(le,i?n&1|2:n&1),e):(ze(e),null);case 22:case 23:return uu(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?et&1073741824&&(ze(e),e.subtreeFlags&6&&(e.flags|=8192)):ze(e),null;case 24:return null;case 25:return null}throw Error(T(156,e.tag))}function wv(t,e){switch(Hc(e),e.tag){case 1:return Je(e.type)&&Sa(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Di(),ae(Xe),ae(Oe),Zc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Qc(e),null;case 13:if(ae(le),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(T(340));Oi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ae(le),null;case 4:return Di(),null;case 10:return Xc(e.type._context),null;case 22:case 23:return uu(),null;case 24:return null;default:return null}}var Ir=!1,Re=!1,Nv=typeof WeakSet=="function"?WeakSet:Set,P=null;function Si(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){fe(t,e,i)}else n.current=null}function ql(t,e,n){try{n()}catch(i){fe(t,e,i)}}var Od=!1;function Sv(t,e){if(Rl=ba,t=Am(),$c(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,c=0,u=0,f=t,h=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(o=a+s),f!==r||i!==0&&f.nodeType!==3||(l=a+i),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===n&&++c===s&&(o=a),h===r&&++u===i&&(l=a),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Fl={focusedElem:t,selectionRange:n},ba=!1,P=e;P!==null;)if(e=P,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,P=t;else for(;P!==null;){e=P;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var m=x.memoizedProps,y=x.memoizedState,g=e.stateNode,v=g.getSnapshotBeforeUpdate(e.elementType===e.type?m:vt(e.type,m),y);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(_){fe(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,P=t;break}P=e.return}return x=Od,Od=!1,x}function Es(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&t)===t){var r=s.destroy;s.destroy=void 0,r!==void 0&&ql(e,n,r)}s=s.next}while(s!==i)}}function uo(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function Ql(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Ep(t){var e=t.alternate;e!==null&&(t.alternate=null,Ep(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[zt],delete e[Gs],delete e[Dl],delete e[av],delete e[ov])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Tp(t){return t.tag===5||t.tag===3||t.tag===4}function Id(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Tp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zl(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Na));else if(i!==4&&(t=t.child,t!==null))for(Zl(t,e,n),t=t.sibling;t!==null;)Zl(t,e,n),t=t.sibling}function ec(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(ec(t,e,n),t=t.sibling;t!==null;)ec(t,e,n),t=t.sibling}var Me=null,yt=!1;function cn(t,e,n){for(n=n.child;n!==null;)Pp(t,e,n),n=n.sibling}function Pp(t,e,n){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(no,n)}catch{}switch(n.tag){case 5:Re||Si(n,e);case 6:var i=Me,s=yt;Me=null,cn(t,e,n),Me=i,yt=s,Me!==null&&(yt?(t=Me,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Me.removeChild(n.stateNode));break;case 18:Me!==null&&(yt?(t=Me,n=n.stateNode,t.nodeType===8?Vo(t.parentNode,n):t.nodeType===1&&Vo(t,n),Us(t)):Vo(Me,n.stateNode));break;case 4:i=Me,s=yt,Me=n.stateNode.containerInfo,yt=!0,cn(t,e,n),Me=i,yt=s;break;case 0:case 11:case 14:case 15:if(!Re&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var r=s,a=r.destroy;r=r.tag,a!==void 0&&(r&2||r&4)&&ql(n,e,a),s=s.next}while(s!==i)}cn(t,e,n);break;case 1:if(!Re&&(Si(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(o){fe(n,e,o)}cn(t,e,n);break;case 21:cn(t,e,n);break;case 22:n.mode&1?(Re=(i=Re)||n.memoizedState!==null,cn(t,e,n),Re=i):cn(t,e,n);break;default:cn(t,e,n)}}function Dd(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Nv),e.forEach(function(i){var s=Av.bind(null,t,i);n.has(i)||(n.add(i),i.then(s,s))})}}function xt(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];try{var r=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Me=o.stateNode,yt=!1;break e;case 3:Me=o.stateNode.containerInfo,yt=!0;break e;case 4:Me=o.stateNode.containerInfo,yt=!0;break e}o=o.return}if(Me===null)throw Error(T(160));Pp(r,a,s),Me=null,yt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){fe(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)zp(e,t),e=e.sibling}function zp(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xt(e,t),kt(t),i&4){try{Es(3,t,t.return),uo(3,t)}catch(m){fe(t,t.return,m)}try{Es(5,t,t.return)}catch(m){fe(t,t.return,m)}}break;case 1:xt(e,t),kt(t),i&512&&n!==null&&Si(n,n.return);break;case 5:if(xt(e,t),kt(t),i&512&&n!==null&&Si(n,n.return),t.flags&32){var s=t.stateNode;try{Vs(s,"")}catch(m){fe(t,t.return,m)}}if(i&4&&(s=t.stateNode,s!=null)){var r=t.memoizedProps,a=n!==null?n.memoizedProps:r,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&r.type==="radio"&&r.name!=null&&em(s,r),Sl(o,a);var c=Sl(o,r);for(a=0;a<l.length;a+=2){var u=l[a],f=l[a+1];u==="style"?rm(s,f):u==="dangerouslySetInnerHTML"?im(s,f):u==="children"?Vs(s,f):Ec(s,u,f,c)}switch(o){case"input":yl(s,r);break;case"textarea":tm(s,r);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!r.multiple;var p=r.value;p!=null?ki(s,!!r.multiple,p,!1):h!==!!r.multiple&&(r.defaultValue!=null?ki(s,!!r.multiple,r.defaultValue,!0):ki(s,!!r.multiple,r.multiple?[]:"",!1))}s[Gs]=r}catch(m){fe(t,t.return,m)}}break;case 6:if(xt(e,t),kt(t),i&4){if(t.stateNode===null)throw Error(T(162));s=t.stateNode,r=t.memoizedProps;try{s.nodeValue=r}catch(m){fe(t,t.return,m)}}break;case 3:if(xt(e,t),kt(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Us(e.containerInfo)}catch(m){fe(t,t.return,m)}break;case 4:xt(e,t),kt(t);break;case 13:xt(e,t),kt(t),s=t.child,s.flags&8192&&(r=s.memoizedState!==null,s.stateNode.isHidden=r,!r||s.alternate!==null&&s.alternate.memoizedState!==null||(lu=me())),i&4&&Dd(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Re=(c=Re)||u,xt(e,t),Re=c):xt(e,t),kt(t),i&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(P=t,u=t.child;u!==null;){for(f=P=u;P!==null;){switch(h=P,p=h.child,h.tag){case 0:case 11:case 14:case 15:Es(4,h,h.return);break;case 1:Si(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){i=h,n=h.return;try{e=i,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(m){fe(i,n,m)}}break;case 5:Si(h,h.return);break;case 22:if(h.memoizedState!==null){Bd(f);continue}}p!==null?(p.return=h,P=p):Bd(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{s=f.stateNode,c?(r=s.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(o=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=sm("display",a))}catch(m){fe(t,t.return,m)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(m){fe(t,t.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:xt(e,t),kt(t),i&4&&Dd(t);break;case 21:break;default:xt(e,t),kt(t)}}function kt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Tp(n)){var i=n;break e}n=n.return}throw Error(T(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(Vs(s,""),i.flags&=-33);var r=Id(t);ec(t,r,s);break;case 3:case 4:var a=i.stateNode.containerInfo,o=Id(t);Zl(t,o,a);break;default:throw Error(T(161))}}catch(l){fe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function jv(t,e,n){P=t,Ap(t)}function Ap(t,e,n){for(var i=(t.mode&1)!==0;P!==null;){var s=P,r=s.child;if(s.tag===22&&i){var a=s.memoizedState!==null||Ir;if(!a){var o=s.alternate,l=o!==null&&o.memoizedState!==null||Re;o=Ir;var c=Re;if(Ir=a,(Re=l)&&!c)for(P=s;P!==null;)a=P,l=a.child,a.tag===22&&a.memoizedState!==null?Vd(s):l!==null?(l.return=a,P=l):Vd(s);for(;r!==null;)P=r,Ap(r),r=r.sibling;P=s,Ir=o,Re=c}Ld(t)}else s.subtreeFlags&8772&&r!==null?(r.return=s,P=r):Ld(t)}}function Ld(t){for(;P!==null;){var e=P;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Re||uo(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Re)if(n===null)i.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:vt(e.type,n.memoizedProps);i.componentDidUpdate(s,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&Nd(e,r,i);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Nd(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Us(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}Re||e.flags&512&&Ql(e)}catch(h){fe(e,e.return,h)}}if(e===t){P=null;break}if(n=e.sibling,n!==null){n.return=e.return,P=n;break}P=e.return}}function Bd(t){for(;P!==null;){var e=P;if(e===t){P=null;break}var n=e.sibling;if(n!==null){n.return=e.return,P=n;break}P=e.return}}function Vd(t){for(;P!==null;){var e=P;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{uo(4,e)}catch(l){fe(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var s=e.return;try{i.componentDidMount()}catch(l){fe(e,s,l)}}var r=e.return;try{Ql(e)}catch(l){fe(e,r,l)}break;case 5:var a=e.return;try{Ql(e)}catch(l){fe(e,a,l)}}}catch(l){fe(e,e.return,l)}if(e===t){P=null;break}var o=e.sibling;if(o!==null){o.return=e.return,P=o;break}P=e.return}}var Mv=Math.ceil,Ra=sn.ReactCurrentDispatcher,au=sn.ReactCurrentOwner,dt=sn.ReactCurrentBatchConfig,X=0,Ne=null,ge=null,ke=0,et=0,ji=Rn(0),ve=0,nr=null,ri=0,fo=0,ou=0,Ts=null,He=null,lu=0,Bi=1/0,$t=null,Fa=!1,tc=null,jn=null,Dr=!1,xn=null,Oa=0,Ps=0,nc=null,ca=-1,ua=0;function De(){return X&6?me():ca!==-1?ca:ca=me()}function Mn(t){return t.mode&1?X&2&&ke!==0?ke&-ke:cv.transition!==null?(ua===0&&(ua=xm()),ua):(t=te,t!==0||(t=window.event,t=t===void 0?16:Sm(t.type)),t):1}function Nt(t,e,n,i){if(50<Ps)throw Ps=0,nc=null,Error(T(185));mr(t,n,i),(!(X&2)||t!==Ne)&&(t===Ne&&(!(X&2)&&(fo|=n),ve===4&&pn(t,ke)),Ge(t,i),n===1&&X===0&&!(e.mode&1)&&(Bi=me()+500,oo&&Fn()))}function Ge(t,e){var n=t.callbackNode;cx(t,e);var i=ya(t,t===Ne?ke:0);if(i===0)n!==null&&Gu(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&Gu(n),e===1)t.tag===0?lv($d.bind(null,t)):Wm($d.bind(null,t)),sv(function(){!(X&6)&&Fn()}),n=null;else{switch(vm(i)){case 1:n=Rc;break;case 4:n=pm;break;case 16:n=va;break;case 536870912:n=gm;break;default:n=va}n=Vp(n,Rp.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Rp(t,e){if(ca=-1,ua=0,X&6)throw Error(T(327));var n=t.callbackNode;if(zi()&&t.callbackNode!==n)return null;var i=ya(t,t===Ne?ke:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=Ia(t,i);else{e=i;var s=X;X|=2;var r=Op();(Ne!==t||ke!==e)&&($t=null,Bi=me()+500,Zn(t,e));do try{Ev();break}catch(o){Fp(t,o)}while(!0);Yc(),Ra.current=r,X=s,ge!==null?e=0:(Ne=null,ke=0,e=ve)}if(e!==0){if(e===2&&(s=El(t),s!==0&&(i=s,e=ic(t,s))),e===1)throw n=nr,Zn(t,0),pn(t,i),Ge(t,me()),n;if(e===6)pn(t,i);else{if(s=t.current.alternate,!(i&30)&&!kv(s)&&(e=Ia(t,i),e===2&&(r=El(t),r!==0&&(i=r,e=ic(t,r))),e===1))throw n=nr,Zn(t,0),pn(t,i),Ge(t,me()),n;switch(t.finishedWork=s,t.finishedLanes=i,e){case 0:case 1:throw Error(T(345));case 2:Un(t,He,$t);break;case 3:if(pn(t,i),(i&130023424)===i&&(e=lu+500-me(),10<e)){if(ya(t,0)!==0)break;if(s=t.suspendedLanes,(s&i)!==i){De(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Il(Un.bind(null,t,He,$t),e);break}Un(t,He,$t);break;case 4:if(pn(t,i),(i&4194240)===i)break;for(e=t.eventTimes,s=-1;0<i;){var a=31-wt(i);r=1<<a,a=e[a],a>s&&(s=a),i&=~r}if(i=s,i=me()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Mv(i/1960))-i,10<i){t.timeoutHandle=Il(Un.bind(null,t,He,$t),i);break}Un(t,He,$t);break;case 5:Un(t,He,$t);break;default:throw Error(T(329))}}}return Ge(t,me()),t.callbackNode===n?Rp.bind(null,t):null}function ic(t,e){var n=Ts;return t.current.memoizedState.isDehydrated&&(Zn(t,e).flags|=256),t=Ia(t,e),t!==2&&(e=He,He=n,e!==null&&sc(e)),t}function sc(t){He===null?He=t:He.push.apply(He,t)}function kv(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var s=n[i],r=s.getSnapshot;s=s.value;try{if(!St(r(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function pn(t,e){for(e&=~ou,e&=~fo,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-wt(e),i=1<<n;t[n]=-1,e&=~i}}function $d(t){if(X&6)throw Error(T(327));zi();var e=ya(t,0);if(!(e&1))return Ge(t,me()),null;var n=Ia(t,e);if(t.tag!==0&&n===2){var i=El(t);i!==0&&(e=i,n=ic(t,i))}if(n===1)throw n=nr,Zn(t,0),pn(t,e),Ge(t,me()),n;if(n===6)throw Error(T(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Un(t,He,$t),Ge(t,me()),null}function cu(t,e){var n=X;X|=1;try{return t(e)}finally{X=n,X===0&&(Bi=me()+500,oo&&Fn())}}function ai(t){xn!==null&&xn.tag===0&&!(X&6)&&zi();var e=X;X|=1;var n=dt.transition,i=te;try{if(dt.transition=null,te=1,t)return t()}finally{te=i,dt.transition=n,X=e,!(X&6)&&Fn()}}function uu(){et=ji.current,ae(ji)}function Zn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,iv(n)),ge!==null)for(n=ge.return;n!==null;){var i=n;switch(Hc(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Sa();break;case 3:Di(),ae(Xe),ae(Oe),Zc();break;case 5:Qc(i);break;case 4:Di();break;case 13:ae(le);break;case 19:ae(le);break;case 10:Xc(i.type._context);break;case 22:case 23:uu()}n=n.return}if(Ne=t,ge=t=kn(t.current,null),ke=et=e,ve=0,nr=null,ou=fo=ri=0,He=Ts=null,Gn!==null){for(e=0;e<Gn.length;e++)if(n=Gn[e],i=n.interleaved,i!==null){n.interleaved=null;var s=i.next,r=n.pending;if(r!==null){var a=r.next;r.next=s,i.next=a}n.pending=i}Gn=null}return t}function Fp(t,e){do{var n=ge;try{if(Yc(),aa.current=Aa,za){for(var i=ce.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}za=!1}if(si=0,be=xe=ce=null,Cs=!1,Zs=0,au.current=null,n===null||n.return===null){ve=1,nr=e,ge=null;break}e:{var r=t,a=n.return,o=n,l=e;if(e=ke,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=Ed(a);if(p!==null){p.flags&=-257,Td(p,a,o,r,e),p.mode&1&&Cd(r,c,e),e=p,l=c;var x=e.updateQueue;if(x===null){var m=new Set;m.add(l),e.updateQueue=m}else x.add(l);break e}else{if(!(e&1)){Cd(r,c,e),du();break e}l=Error(T(426))}}else if(oe&&o.mode&1){var y=Ed(a);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Td(y,a,o,r,e),Uc(Li(l,o));break e}}r=l=Li(l,o),ve!==4&&(ve=2),Ts===null?Ts=[r]:Ts.push(r),r=a;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var g=vp(r,l,e);wd(r,g);break e;case 1:o=l;var v=r.type,b=r.stateNode;if(!(r.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(jn===null||!jn.has(b)))){r.flags|=65536,e&=-e,r.lanes|=e;var _=yp(r,o,e);wd(r,_);break e}}r=r.return}while(r!==null)}Dp(n)}catch(N){e=N,ge===n&&n!==null&&(ge=n=n.return);continue}break}while(!0)}function Op(){var t=Ra.current;return Ra.current=Aa,t===null?Aa:t}function du(){(ve===0||ve===3||ve===2)&&(ve=4),Ne===null||!(ri&268435455)&&!(fo&268435455)||pn(Ne,ke)}function Ia(t,e){var n=X;X|=2;var i=Op();(Ne!==t||ke!==e)&&($t=null,Zn(t,e));do try{Cv();break}catch(s){Fp(t,s)}while(!0);if(Yc(),X=n,Ra.current=i,ge!==null)throw Error(T(261));return Ne=null,ke=0,ve}function Cv(){for(;ge!==null;)Ip(ge)}function Ev(){for(;ge!==null&&!ex();)Ip(ge)}function Ip(t){var e=Bp(t.alternate,t,et);t.memoizedProps=t.pendingProps,e===null?Dp(t):ge=e,au.current=null}function Dp(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=wv(n,e),n!==null){n.flags&=32767,ge=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ve=6,ge=null;return}}else if(n=_v(n,e,et),n!==null){ge=n;return}if(e=e.sibling,e!==null){ge=e;return}ge=e=t}while(e!==null);ve===0&&(ve=5)}function Un(t,e,n){var i=te,s=dt.transition;try{dt.transition=null,te=1,Tv(t,e,n,i)}finally{dt.transition=s,te=i}return null}function Tv(t,e,n,i){do zi();while(xn!==null);if(X&6)throw Error(T(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(T(177));t.callbackNode=null,t.callbackPriority=0;var r=n.lanes|n.childLanes;if(ux(t,r),t===Ne&&(ge=Ne=null,ke=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Dr||(Dr=!0,Vp(va,function(){return zi(),null})),r=(n.flags&15990)!==0,n.subtreeFlags&15990||r){r=dt.transition,dt.transition=null;var a=te;te=1;var o=X;X|=4,au.current=null,Sv(t,n),zp(n,t),Gx(Fl),ba=!!Rl,Fl=Rl=null,t.current=n,jv(n),tx(),X=o,te=a,dt.transition=r}else t.current=n;if(Dr&&(Dr=!1,xn=t,Oa=s),r=t.pendingLanes,r===0&&(jn=null),sx(n.stateNode),Ge(t,me()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],i(s.value,{componentStack:s.stack,digest:s.digest});if(Fa)throw Fa=!1,t=tc,tc=null,t;return Oa&1&&t.tag!==0&&zi(),r=t.pendingLanes,r&1?t===nc?Ps++:(Ps=0,nc=t):Ps=0,Fn(),null}function zi(){if(xn!==null){var t=vm(Oa),e=dt.transition,n=te;try{if(dt.transition=null,te=16>t?16:t,xn===null)var i=!1;else{if(t=xn,xn=null,Oa=0,X&6)throw Error(T(331));var s=X;for(X|=4,P=t.current;P!==null;){var r=P,a=r.child;if(P.flags&16){var o=r.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(P=c;P!==null;){var u=P;switch(u.tag){case 0:case 11:case 15:Es(8,u,r)}var f=u.child;if(f!==null)f.return=u,P=f;else for(;P!==null;){u=P;var h=u.sibling,p=u.return;if(Ep(u),u===c){P=null;break}if(h!==null){h.return=p,P=h;break}P=p}}}var x=r.alternate;if(x!==null){var m=x.child;if(m!==null){x.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}P=r}}if(r.subtreeFlags&2064&&a!==null)a.return=r,P=a;else e:for(;P!==null;){if(r=P,r.flags&2048)switch(r.tag){case 0:case 11:case 15:Es(9,r,r.return)}var g=r.sibling;if(g!==null){g.return=r.return,P=g;break e}P=r.return}}var v=t.current;for(P=v;P!==null;){a=P;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,P=b;else e:for(a=v;P!==null;){if(o=P,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:uo(9,o)}}catch(N){fe(o,o.return,N)}if(o===a){P=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,P=_;break e}P=o.return}}if(X=s,Fn(),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(no,t)}catch{}i=!0}return i}finally{te=n,dt.transition=e}}return!1}function Wd(t,e,n){e=Li(n,e),e=vp(t,e,1),t=Sn(t,e,1),e=De(),t!==null&&(mr(t,1,e),Ge(t,e))}function fe(t,e,n){if(t.tag===3)Wd(t,t,n);else for(;e!==null;){if(e.tag===3){Wd(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(jn===null||!jn.has(i))){t=Li(n,t),t=yp(e,t,1),e=Sn(e,t,1),t=De(),e!==null&&(mr(e,1,t),Ge(e,t));break}}e=e.return}}function Pv(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=De(),t.pingedLanes|=t.suspendedLanes&n,Ne===t&&(ke&n)===n&&(ve===4||ve===3&&(ke&130023424)===ke&&500>me()-lu?Zn(t,0):ou|=n),Ge(t,e)}function Lp(t,e){e===0&&(t.mode&1?(e=Cr,Cr<<=1,!(Cr&130023424)&&(Cr=4194304)):e=1);var n=De();t=en(t,e),t!==null&&(mr(t,e,n),Ge(t,n))}function zv(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Lp(t,n)}function Av(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(T(314))}i!==null&&i.delete(e),Lp(t,n)}var Bp;Bp=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Xe.current)Ke=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ke=!1,bv(t,e,n);Ke=!!(t.flags&131072)}else Ke=!1,oe&&e.flags&1048576&&Hm(e,ka,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;la(t,e),t=e.pendingProps;var s=Fi(e,Oe.current);Pi(e,n),s=tu(null,e,i,t,s,n);var r=nu();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Je(i)?(r=!0,ja(e)):r=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Gc(e),s.updater=co,e.stateNode=s,s._reactInternals=e,Hl(e,i,t,n),e=Yl(null,e,i,!0,r,n)):(e.tag=0,oe&&r&&Wc(e),Ie(null,e,s,n),e=e.child),e;case 16:i=e.elementType;e:{switch(la(t,e),t=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=Fv(i),t=vt(i,t),s){case 0:e=Kl(null,e,i,t,n);break e;case 1:e=Ad(null,e,i,t,n);break e;case 11:e=Pd(null,e,i,t,n);break e;case 14:e=zd(null,e,i,vt(i.type,t),n);break e}throw Error(T(306,i,""))}return e;case 0:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:vt(i,s),Kl(t,e,i,s,n);case 1:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:vt(i,s),Ad(t,e,i,s,n);case 3:e:{if(Np(e),t===null)throw Error(T(387));i=e.pendingProps,r=e.memoizedState,s=r.element,Gm(t,e),Ta(e,i,null,n);var a=e.memoizedState;if(i=a.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){s=Li(Error(T(423)),e),e=Rd(t,e,i,n,s);break e}else if(i!==s){s=Li(Error(T(424)),e),e=Rd(t,e,i,n,s);break e}else for(tt=Nn(e.stateNode.containerInfo.firstChild),nt=e,oe=!0,bt=null,n=Xm(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Oi(),i===s){e=tn(t,e,n);break e}Ie(t,e,i,n)}e=e.child}return e;case 5:return qm(e),t===null&&Vl(e),i=e.type,s=e.pendingProps,r=t!==null?t.memoizedProps:null,a=s.children,Ol(i,s)?a=null:r!==null&&Ol(i,r)&&(e.flags|=32),wp(t,e),Ie(t,e,a,n),e.child;case 6:return t===null&&Vl(e),null;case 13:return Sp(t,e,n);case 4:return qc(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Ii(e,null,i,n):Ie(t,e,i,n),e.child;case 11:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:vt(i,s),Pd(t,e,i,s,n);case 7:return Ie(t,e,e.pendingProps,n),e.child;case 8:return Ie(t,e,e.pendingProps.children,n),e.child;case 12:return Ie(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,s=e.pendingProps,r=e.memoizedProps,a=s.value,ie(Ca,i._currentValue),i._currentValue=a,r!==null)if(St(r.value,a)){if(r.children===s.children&&!Xe.current){e=tn(t,e,n);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var o=r.dependencies;if(o!==null){a=r.child;for(var l=o.firstContext;l!==null;){if(l.context===i){if(r.tag===1){l=Jt(-1,n&-n),l.tag=2;var c=r.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}r.lanes|=n,l=r.alternate,l!==null&&(l.lanes|=n),$l(r.return,n,e),o.lanes|=n;break}l=l.next}}else if(r.tag===10)a=r.type===e.type?null:r.child;else if(r.tag===18){if(a=r.return,a===null)throw Error(T(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),$l(a,n,e),a=r.sibling}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===e){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}Ie(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,i=e.pendingProps.children,Pi(e,n),s=ft(s),i=i(s),e.flags|=1,Ie(t,e,i,n),e.child;case 14:return i=e.type,s=vt(i,e.pendingProps),s=vt(i.type,s),zd(t,e,i,s,n);case 15:return bp(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:vt(i,s),la(t,e),e.tag=1,Je(i)?(t=!0,ja(e)):t=!1,Pi(e,n),xp(e,i,s),Hl(e,i,s,n),Yl(null,e,i,!0,t,n);case 19:return jp(t,e,n);case 22:return _p(t,e,n)}throw Error(T(156,e.tag))};function Vp(t,e){return mm(t,e)}function Rv(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ct(t,e,n,i){return new Rv(t,e,n,i)}function fu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Fv(t){if(typeof t=="function")return fu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Pc)return 11;if(t===zc)return 14}return 2}function kn(t,e){var n=t.alternate;return n===null?(n=ct(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function da(t,e,n,i,s,r){var a=2;if(i=t,typeof t=="function")fu(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case pi:return ei(n.children,s,r,e);case Tc:a=8,s|=8;break;case ml:return t=ct(12,n,e,s|2),t.elementType=ml,t.lanes=r,t;case pl:return t=ct(13,n,e,s),t.elementType=pl,t.lanes=r,t;case gl:return t=ct(19,n,e,s),t.elementType=gl,t.lanes=r,t;case qh:return ho(n,s,r,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Jh:a=10;break e;case Gh:a=9;break e;case Pc:a=11;break e;case zc:a=14;break e;case fn:a=16,i=null;break e}throw Error(T(130,t==null?t:typeof t,""))}return e=ct(a,n,e,s),e.elementType=t,e.type=i,e.lanes=r,e}function ei(t,e,n,i){return t=ct(7,t,i,e),t.lanes=n,t}function ho(t,e,n,i){return t=ct(22,t,i,e),t.elementType=qh,t.lanes=n,t.stateNode={isHidden:!1},t}function Jo(t,e,n){return t=ct(6,t,null,e),t.lanes=n,t}function Go(t,e,n){return e=ct(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ov(t,e,n,i,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=To(0),this.expirationTimes=To(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=To(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function hu(t,e,n,i,s,r,a,o,l){return t=new Ov(t,e,n,o,l),e===1?(e=1,r===!0&&(e|=8)):e=0,r=ct(3,null,null,e),t.current=r,r.stateNode=t,r.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gc(r),t}function Iv(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mi,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function $p(t){if(!t)return Pn;t=t._reactInternals;e:{if(ci(t)!==t||t.tag!==1)throw Error(T(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Je(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(T(171))}if(t.tag===1){var n=t.type;if(Je(n))return $m(t,n,e)}return e}function Wp(t,e,n,i,s,r,a,o,l){return t=hu(n,i,!0,t,s,r,a,o,l),t.context=$p(null),n=t.current,i=De(),s=Mn(n),r=Jt(i,s),r.callback=e??null,Sn(n,r,s),t.current.lanes=s,mr(t,s,i),Ge(t,i),t}function mo(t,e,n,i){var s=e.current,r=De(),a=Mn(s);return n=$p(n),e.context===null?e.context=n:e.pendingContext=n,e=Jt(r,a),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=Sn(s,e,a),t!==null&&(Nt(t,s,a,r),ra(t,s,a)),a}function Da(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Hd(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function mu(t,e){Hd(t,e),(t=t.alternate)&&Hd(t,e)}function Dv(){return null}var Hp=typeof reportError=="function"?reportError:function(t){console.error(t)};function pu(t){this._internalRoot=t}po.prototype.render=pu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(T(409));mo(t,e,null,null)};po.prototype.unmount=pu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ai(function(){mo(null,t,null,null)}),e[Zt]=null}};function po(t){this._internalRoot=t}po.prototype.unstable_scheduleHydration=function(t){if(t){var e=_m();t={blockedOn:null,target:t,priority:e};for(var n=0;n<mn.length&&e!==0&&e<mn[n].priority;n++);mn.splice(n,0,t),n===0&&Nm(t)}};function gu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function go(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ud(){}function Lv(t,e,n,i,s){if(s){if(typeof i=="function"){var r=i;i=function(){var c=Da(a);r.call(c)}}var a=Wp(e,i,t,0,null,!1,!1,"",Ud);return t._reactRootContainer=a,t[Zt]=a.current,Xs(t.nodeType===8?t.parentNode:t),ai(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof i=="function"){var o=i;i=function(){var c=Da(l);o.call(c)}}var l=hu(t,0,!1,null,null,!1,!1,"",Ud);return t._reactRootContainer=l,t[Zt]=l.current,Xs(t.nodeType===8?t.parentNode:t),ai(function(){mo(e,l,n,i)}),l}function xo(t,e,n,i,s){var r=n._reactRootContainer;if(r){var a=r;if(typeof s=="function"){var o=s;s=function(){var l=Da(a);o.call(l)}}mo(e,a,t,s)}else a=Lv(n,e,t,s,i);return Da(a)}ym=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=gs(e.pendingLanes);n!==0&&(Fc(e,n|1),Ge(e,me()),!(X&6)&&(Bi=me()+500,Fn()))}break;case 13:ai(function(){var i=en(t,1);if(i!==null){var s=De();Nt(i,t,1,s)}}),mu(t,1)}};Oc=function(t){if(t.tag===13){var e=en(t,134217728);if(e!==null){var n=De();Nt(e,t,134217728,n)}mu(t,134217728)}};bm=function(t){if(t.tag===13){var e=Mn(t),n=en(t,e);if(n!==null){var i=De();Nt(n,t,e,i)}mu(t,e)}};_m=function(){return te};wm=function(t,e){var n=te;try{return te=t,e()}finally{te=n}};Ml=function(t,e,n){switch(e){case"input":if(yl(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var s=ao(i);if(!s)throw Error(T(90));Zh(i),yl(i,s)}}}break;case"textarea":tm(t,n);break;case"select":e=n.value,e!=null&&ki(t,!!n.multiple,e,!1)}};lm=cu;cm=ai;var Bv={usingClientEntryPoint:!1,Events:[gr,yi,ao,am,om,cu]},os={findFiberByHostInstance:Jn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Vv={bundleType:os.bundleType,version:os.version,rendererPackageName:os.rendererPackageName,rendererConfig:os.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:sn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=fm(t),t===null?null:t.stateNode},findFiberByHostInstance:os.findFiberByHostInstance||Dv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lr.isDisabled&&Lr.supportsFiber)try{no=Lr.inject(Vv),At=Lr}catch{}}st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bv;st.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gu(e))throw Error(T(200));return Iv(t,e,null,n)};st.createRoot=function(t,e){if(!gu(t))throw Error(T(299));var n=!1,i="",s=Hp;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=hu(t,1,!1,null,null,n,!1,i,s),t[Zt]=e.current,Xs(t.nodeType===8?t.parentNode:t),new pu(e)};st.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(T(188)):(t=Object.keys(t).join(","),Error(T(268,t)));return t=fm(e),t=t===null?null:t.stateNode,t};st.flushSync=function(t){return ai(t)};st.hydrate=function(t,e,n){if(!go(e))throw Error(T(200));return xo(null,t,e,!0,n)};st.hydrateRoot=function(t,e,n){if(!gu(t))throw Error(T(405));var i=n!=null&&n.hydratedSources||null,s=!1,r="",a=Hp;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=Wp(e,null,t,1,n??null,s,!1,r,a),t[Zt]=e.current,Xs(t),i)for(t=0;t<i.length;t++)n=i[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new po(e)};st.render=function(t,e,n){if(!go(e))throw Error(T(200));return xo(null,t,e,!1,n)};st.unmountComponentAtNode=function(t){if(!go(t))throw Error(T(40));return t._reactRootContainer?(ai(function(){xo(null,null,t,!1,function(){t._reactRootContainer=null,t[Zt]=null})}),!0):!1};st.unstable_batchedUpdates=cu;st.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!go(n))throw Error(T(200));if(t==null||t._reactInternals===void 0)throw Error(T(38));return xo(t,e,n,!1,i)};st.version="18.3.1-next-f1338f8080-20240426";function Up(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Up)}catch(t){console.error(t)}}Up(),Uh.exports=st;var $v=Uh.exports,Kp,Kd=$v;Kp=Kd.createRoot,Kd.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ir(){return ir=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ir.apply(this,arguments)}var vn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(vn||(vn={}));const Yd="popstate";function Wv(t){t===void 0&&(t={});function e(i,s){let{pathname:r,search:a,hash:o}=i.location;return rc("",{pathname:r,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){return typeof s=="string"?s:La(s)}return Uv(e,n,null,t)}function ue(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Yp(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Hv(){return Math.random().toString(36).substr(2,8)}function Xd(t,e){return{usr:t.state,key:t.key,idx:e}}function rc(t,e,n,i){return n===void 0&&(n=null),ir({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ji(e):e,{state:n,key:e&&e.key||i||Hv()})}function La(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Ji(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function Uv(t,e,n,i){i===void 0&&(i={});let{window:s=document.defaultView,v5Compat:r=!1}=i,a=s.history,o=vn.Pop,l=null,c=u();c==null&&(c=0,a.replaceState(ir({},a.state,{idx:c}),""));function u(){return(a.state||{idx:null}).idx}function f(){o=vn.Pop;let y=u(),g=y==null?null:y-c;c=y,l&&l({action:o,location:m.location,delta:g})}function h(y,g){o=vn.Push;let v=rc(m.location,y,g);c=u()+1;let b=Xd(v,c),_=m.createHref(v);try{a.pushState(b,"",_)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(_)}r&&l&&l({action:o,location:m.location,delta:1})}function p(y,g){o=vn.Replace;let v=rc(m.location,y,g);c=u();let b=Xd(v,c),_=m.createHref(v);a.replaceState(b,"",_),r&&l&&l({action:o,location:m.location,delta:0})}function x(y){let g=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof y=="string"?y:La(y);return v=v.replace(/ $/,"%20"),ue(g,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,g)}let m={get action(){return o},get location(){return t(s,a)},listen(y){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Yd,f),l=y,()=>{s.removeEventListener(Yd,f),l=null}},createHref(y){return e(s,y)},createURL:x,encodeLocation(y){let g=x(y);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:p,go(y){return a.go(y)}};return m}var Jd;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Jd||(Jd={}));function Kv(t,e,n){return n===void 0&&(n="/"),Yv(t,e,n)}function Yv(t,e,n,i){let s=typeof e=="string"?Ji(e):e,r=Vi(s.pathname||"/",n);if(r==null)return null;let a=Xp(t);Xv(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=ry(r);o=iy(a[l],c)}return o}function Xp(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let s=(r,a,o)=>{let l={relativePath:o===void 0?r.path||"":o,caseSensitive:r.caseSensitive===!0,childrenIndex:a,route:r};l.relativePath.startsWith("/")&&(ue(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let c=Cn([i,l.relativePath]),u=n.concat(l);r.children&&r.children.length>0&&(ue(r.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Xp(r.children,e,u,c)),!(r.path==null&&!r.index)&&e.push({path:c,score:ty(c,r.index),routesMeta:u})};return t.forEach((r,a)=>{var o;if(r.path===""||!((o=r.path)!=null&&o.includes("?")))s(r,a);else for(let l of Jp(r.path))s(r,a,l)}),e}function Jp(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,s=n.endsWith("?"),r=n.replace(/\?$/,"");if(i.length===0)return s?[r,""]:[r];let a=Jp(i.join("/")),o=[];return o.push(...a.map(l=>l===""?r:[r,l].join("/"))),s&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function Xv(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ny(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const Jv=/^:[\w-]+$/,Gv=3,qv=2,Qv=1,Zv=10,ey=-2,Gd=t=>t==="*";function ty(t,e){let n=t.split("/"),i=n.length;return n.some(Gd)&&(i+=ey),e&&(i+=qv),n.filter(s=>!Gd(s)).reduce((s,r)=>s+(Jv.test(r)?Gv:r===""?Qv:Zv),i)}function ny(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function iy(t,e,n){let{routesMeta:i}=t,s={},r="/",a=[];for(let o=0;o<i.length;++o){let l=i[o],c=o===i.length-1,u=r==="/"?e:e.slice(r.length)||"/",f=ac({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:Cn([r,f.pathname]),pathnameBase:cy(Cn([r,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(r=Cn([r,f.pathnameBase]))}return a}function ac(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=sy(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let r=s[0],a=r.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:i.reduce((c,u,f)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let m=o[f]||"";a=r.slice(0,r.length-m.length).replace(/(.)\/+$/,"$1")}const x=o[f];return p&&!x?c[h]=void 0:c[h]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:r,pathnameBase:a,pattern:t}}function sy(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Yp(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(i.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function ry(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Yp(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Vi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function ay(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:s=""}=typeof t=="string"?Ji(t):t;return{pathname:n?n.startsWith("/")?n:oy(n,e):e,search:uy(i),hash:dy(s)}}function oy(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function qo(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ly(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function xu(t,e){let n=ly(t);return e?n.map((i,s)=>s===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function vu(t,e,n,i){i===void 0&&(i=!1);let s;typeof t=="string"?s=Ji(t):(s=ir({},t),ue(!s.pathname||!s.pathname.includes("?"),qo("?","pathname","search",s)),ue(!s.pathname||!s.pathname.includes("#"),qo("#","pathname","hash",s)),ue(!s.search||!s.search.includes("#"),qo("#","search","hash",s)));let r=t===""||s.pathname==="",a=r?"/":s.pathname,o;if(a==null)o=n;else{let f=e.length-1;if(!i&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}o=f>=0?e[f]:"/"}let l=ay(s,o),c=a&&a!=="/"&&a.endsWith("/"),u=(r||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Cn=t=>t.join("/").replace(/\/\/+/g,"/"),cy=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),uy=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,dy=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function fy(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Gp=["post","put","patch","delete"];new Set(Gp);const hy=["get",...Gp];new Set(hy);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sr(){return sr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},sr.apply(this,arguments)}const vo=M.createContext(null),qp=M.createContext(null),rn=M.createContext(null),yo=M.createContext(null),Ot=M.createContext({outlet:null,matches:[],isDataRoute:!1}),Qp=M.createContext(null);function my(t,e){let{relative:n}=e===void 0?{}:e;Gi()||ue(!1);let{basename:i,navigator:s}=M.useContext(rn),{hash:r,pathname:a,search:o}=bo(t,{relative:n}),l=a;return i!=="/"&&(l=a==="/"?i:Cn([i,a])),s.createHref({pathname:l,search:o,hash:r})}function Gi(){return M.useContext(yo)!=null}function It(){return Gi()||ue(!1),M.useContext(yo).location}function Zp(t){M.useContext(rn).static||M.useLayoutEffect(t)}function an(){let{isDataRoute:t}=M.useContext(Ot);return t?Ty():py()}function py(){Gi()||ue(!1);let t=M.useContext(vo),{basename:e,future:n,navigator:i}=M.useContext(rn),{matches:s}=M.useContext(Ot),{pathname:r}=It(),a=JSON.stringify(xu(s,n.v7_relativeSplatPath)),o=M.useRef(!1);return Zp(()=>{o.current=!0}),M.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){i.go(c);return}let f=vu(c,JSON.parse(a),r,u.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Cn([e,f.pathname])),(u.replace?i.replace:i.push)(f,u.state,u)},[e,i,a,r,t])}const gy=M.createContext(null);function xy(t){let e=M.useContext(Ot).outlet;return e&&M.createElement(gy.Provider,{value:t},e)}function vy(){let{matches:t}=M.useContext(Ot),e=t[t.length-1];return e?e.params:{}}function bo(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=M.useContext(rn),{matches:s}=M.useContext(Ot),{pathname:r}=It(),a=JSON.stringify(xu(s,i.v7_relativeSplatPath));return M.useMemo(()=>vu(t,JSON.parse(a),r,n==="path"),[t,a,r,n])}function yy(t,e){return by(t,e)}function by(t,e,n,i){Gi()||ue(!1);let{navigator:s}=M.useContext(rn),{matches:r}=M.useContext(Ot),a=r[r.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=It(),u;if(e){var f;let y=typeof e=="string"?Ji(e):e;l==="/"||(f=y.pathname)!=null&&f.startsWith(l)||ue(!1),u=y}else u=c;let h=u.pathname||"/",p=h;if(l!=="/"){let y=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let x=Kv(t,{pathname:p}),m=jy(x&&x.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:Cn([l,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:Cn([l,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),r,n,i);return e&&m?M.createElement(yo.Provider,{value:{location:sr({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:vn.Pop}},m):m}function _y(){let t=Ey(),e=fy(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:s},n):null,null)}const wy=M.createElement(_y,null);class Ny extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?M.createElement(Ot.Provider,{value:this.props.routeContext},M.createElement(Qp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Sy(t){let{routeContext:e,match:n,children:i}=t,s=M.useContext(vo);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),M.createElement(Ot.Provider,{value:e},i)}function jy(t,e,n,i){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var r;if(!n)return null;if(n.errors)t=n.matches;else if((r=i)!=null&&r.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=(s=n)==null?void 0:s.errors;if(o!=null){let u=a.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);u>=0||ue(!1),a=a.slice(0,Math.min(a.length,u+1))}let l=!1,c=-1;if(n&&i&&i.v7_partialHydration)for(let u=0;u<a.length;u++){let f=a[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:h,errors:p}=n,x=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||x){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((u,f,h)=>{let p,x=!1,m=null,y=null;n&&(p=o&&f.route.id?o[f.route.id]:void 0,m=f.route.errorElement||wy,l&&(c<0&&h===0?(Py("route-fallback"),x=!0,y=null):c===h&&(x=!0,y=f.route.hydrateFallbackElement||null)));let g=e.concat(a.slice(0,h+1)),v=()=>{let b;return p?b=m:x?b=y:f.route.Component?b=M.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=u,M.createElement(Sy,{match:f,routeContext:{outlet:u,matches:g,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?M.createElement(Ny,{location:n.location,revalidation:n.revalidation,component:m,error:p,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}var eg=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(eg||{}),tg=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(tg||{});function My(t){let e=M.useContext(vo);return e||ue(!1),e}function ky(t){let e=M.useContext(qp);return e||ue(!1),e}function Cy(t){let e=M.useContext(Ot);return e||ue(!1),e}function ng(t){let e=Cy(),n=e.matches[e.matches.length-1];return n.route.id||ue(!1),n.route.id}function Ey(){var t;let e=M.useContext(Qp),n=ky(),i=ng();return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function Ty(){let{router:t}=My(eg.UseNavigateStable),e=ng(tg.UseNavigateStable),n=M.useRef(!1);return Zp(()=>{n.current=!0}),M.useCallback(function(s,r){r===void 0&&(r={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,sr({fromRouteId:e},r)))},[t,e])}const qd={};function Py(t,e,n){qd[t]||(qd[t]=!0)}function zy(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Ba(t){let{to:e,replace:n,state:i,relative:s}=t;Gi()||ue(!1);let{future:r,static:a}=M.useContext(rn),{matches:o}=M.useContext(Ot),{pathname:l}=It(),c=an(),u=vu(e,xu(o,r.v7_relativeSplatPath),l,s==="path"),f=JSON.stringify(u);return M.useEffect(()=>c(JSON.parse(f),{replace:n,state:i,relative:s}),[c,f,s,n,i]),null}function Ay(t){return xy(t.context)}function We(t){ue(!1)}function Ry(t){let{basename:e="/",children:n=null,location:i,navigationType:s=vn.Pop,navigator:r,static:a=!1,future:o}=t;Gi()&&ue(!1);let l=e.replace(/^\/*/,"/"),c=M.useMemo(()=>({basename:l,navigator:r,static:a,future:sr({v7_relativeSplatPath:!1},o)}),[l,o,r,a]);typeof i=="string"&&(i=Ji(i));let{pathname:u="/",search:f="",hash:h="",state:p=null,key:x="default"}=i,m=M.useMemo(()=>{let y=Vi(u,l);return y==null?null:{location:{pathname:y,search:f,hash:h,state:p,key:x},navigationType:s}},[l,u,f,h,p,x,s]);return m==null?null:M.createElement(rn.Provider,{value:c},M.createElement(yo.Provider,{children:n,value:m}))}function Fy(t){let{children:e,location:n}=t;return yy(oc(e),n)}new Promise(()=>{});function oc(t,e){e===void 0&&(e=[]);let n=[];return M.Children.forEach(t,(i,s)=>{if(!M.isValidElement(i))return;let r=[...e,s];if(i.type===M.Fragment){n.push.apply(n,oc(i.props.children,r));return}i.type!==We&&ue(!1),!i.props.index||!i.props.children||ue(!1);let a={id:i.props.id||r.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=oc(i.props.children,r)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Va(){return Va=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Va.apply(this,arguments)}function ig(t,e){if(t==null)return{};var n={},i=Object.keys(t),s,r;for(r=0;r<i.length;r++)s=i[r],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Oy(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Iy(t,e){return t.button===0&&(!e||e==="_self")&&!Oy(t)}const Dy=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Ly=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],By="6";try{window.__reactRouterVersion=By}catch{}const Vy=M.createContext({isTransitioning:!1}),$y="startTransition",Qd=P0[$y];function Wy(t){let{basename:e,children:n,future:i,window:s}=t,r=M.useRef();r.current==null&&(r.current=Wv({window:s,v5Compat:!0}));let a=r.current,[o,l]=M.useState({action:a.action,location:a.location}),{v7_startTransition:c}=i||{},u=M.useCallback(f=>{c&&Qd?Qd(()=>l(f)):l(f)},[l,c]);return M.useLayoutEffect(()=>a.listen(u),[a,u]),M.useEffect(()=>zy(i),[i]),M.createElement(Ry,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:a,future:i})}const Hy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Uy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xn=M.forwardRef(function(e,n){let{onClick:i,relative:s,reloadDocument:r,replace:a,state:o,target:l,to:c,preventScrollReset:u,viewTransition:f}=e,h=ig(e,Dy),{basename:p}=M.useContext(rn),x,m=!1;if(typeof c=="string"&&Uy.test(c)&&(x=c,Hy))try{let b=new URL(window.location.href),_=c.startsWith("//")?new URL(b.protocol+c):new URL(c),N=Vi(_.pathname,p);_.origin===b.origin&&N!=null?c=N+_.search+_.hash:m=!0}catch{}let y=my(c,{relative:s}),g=Xy(c,{replace:a,state:o,target:l,preventScrollReset:u,relative:s,viewTransition:f});function v(b){i&&i(b),b.defaultPrevented||g(b)}return M.createElement("a",Va({},h,{href:x||y,onClick:m||r?i:v,ref:n,target:l}))}),Ky=M.forwardRef(function(e,n){let{"aria-current":i="page",caseSensitive:s=!1,className:r="",end:a=!1,style:o,to:l,viewTransition:c,children:u}=e,f=ig(e,Ly),h=bo(l,{relative:f.relative}),p=It(),x=M.useContext(qp),{navigator:m,basename:y}=M.useContext(rn),g=x!=null&&Jy(h)&&c===!0,v=m.encodeLocation?m.encodeLocation(h).pathname:h.pathname,b=p.pathname,_=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;s||(b=b.toLowerCase(),_=_?_.toLowerCase():null,v=v.toLowerCase()),_&&y&&(_=Vi(_,y)||_);const N=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let w=b===v||!a&&b.startsWith(v)&&b.charAt(N)==="/",j=_!=null&&(_===v||!a&&_.startsWith(v)&&_.charAt(v.length)==="/"),S={isActive:w,isPending:j,isTransitioning:g},k=w?i:void 0,C;typeof r=="function"?C=r(S):C=[r,w?"active":null,j?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let z=typeof o=="function"?o(S):o;return M.createElement(Xn,Va({},f,{"aria-current":k,className:C,ref:n,style:z,to:l,viewTransition:c}),typeof u=="function"?u(S):u)});var lc;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(lc||(lc={}));var Zd;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Zd||(Zd={}));function Yy(t){let e=M.useContext(vo);return e||ue(!1),e}function Xy(t,e){let{target:n,replace:i,state:s,preventScrollReset:r,relative:a,viewTransition:o}=e===void 0?{}:e,l=an(),c=It(),u=bo(t,{relative:a});return M.useCallback(f=>{if(Iy(f,n)){f.preventDefault();let h=i!==void 0?i:La(c)===La(u);l(t,{replace:h,state:s,preventScrollReset:r,relative:a,viewTransition:o})}},[c,l,u,i,s,n,t,r,a,o])}function Jy(t,e){e===void 0&&(e={});let n=M.useContext(Vy);n==null&&ue(!1);let{basename:i}=Yy(lc.useViewTransitionState),s=bo(t,{relative:e.relative});if(!n.isTransitioning)return!1;let r=Vi(n.currentLocation.pathname,i)||n.currentLocation.pathname,a=Vi(n.nextLocation.pathname,i)||n.nextLocation.pathname;return ac(s.pathname,a)!=null||ac(s.pathname,r)!=null}class Ut{constructor({id:e=null,numero:n="",nombre:i="",descripcion:s="",tema:r=null,estado:a="ACTIVO",formulas:o=[],creadoEn:l=null}={}){this.id=sg(e),this.numero=n??"",this.nombre=i??"",this.descripcion=s??"",this.tema=r??null,this.estado=a??"ACTIVO",this.formulas=Array.isArray(o)?o.slice():Gy(o),this.creadoEn=l??null}get desc(){return this.descripcion}estaActivo(){return this.estado!=="INACTIVO"}formulasClave(){return this.formulas.map(e=>String(e).trim()).filter(Boolean)}toJSON(){return{id:this.id,numero:this.numero,nombre:this.nombre,descripcion:this.descripcion,tema:this.tema,estado:this.estado,formulas:this.formulas.slice(),creadoEn:this.creadoEn,desc:this.descripcion}}clone(){return new Ut(this.toJSON())}static desdeJSON(e={}){return new Ut(e)}}var fl;let $i=(fl=class{static list(){return this.niveles.map(e=>e.clone())}static findById(e){if(e==null)return null;const n=sg(e),i=this.niveles.find(s=>String(s.id)===String(n));return i?i.clone():null}},$(fl,"niveles",[new Ut({id:1,numero:"1",nombre:"Trabajo: fuerza constante",tema:"trabajo-constante",descripcion:"Trabajo mecnico con fuerzas constantes",formulas:["W = Fd","W_net = W_aplicado + W_fric"]}),new Ut({id:2,numero:"2",nombre:"Trabajo: fuerza variable",tema:"trabajo-variable",descripcion:"Trabajo con fuerzas dependientes de la distancia",formulas:["W =  F(x) dx"]}),new Ut({id:3,numero:"3",nombre:"Energa Cintica",tema:"energia-cinetica",descripcion:"Relacin trabajoenerga",formulas:["K =  m v","W_net = K"]}),new Ut({id:4,numero:"4",nombre:"Potencia",tema:"potencia",descripcion:"Tasa de trabajo",formulas:["P = dW/dt","P = Fv"]}),new Ut({id:5,numero:"5",nombre:"Fuerzas Conservativas",tema:"conservativas",descripcion:"E_m se conserva",formulas:["W_conserv = -U","E_m = cte"]})]),fl);function sg(t){if(t==null)return null;const e=Number(t);return Number.isNaN(e)?t:e}function Gy(t){if(!t)return[];if(Array.isArray(t))return t.slice();const e=String(t).trim();if(!e)return[];try{const n=JSON.parse(e);if(Array.isArray(n))return n}catch{}return e.split(/\r?\n|\s*\|\s*/).map(n=>n.trim()).filter(Boolean)}const Qo={},qy=(Qo==null?void 0:Qo.VITE_API_URL)??"http://localhost:4000/api";let rg=null;function yu(t){rg=t||null}async function ye({ruta:t,metodo:e="GET",cuerpo:n,token:i,cabeceras:s={}}){const r=t.startsWith("http")?t:`${qy}${t}`,a={Accept:"application/json",...s},o=i??rg;o&&(a.Authorization=`Bearer ${o}`);const l={method:e,headers:a};n!=null&&(a["Content-Type"]=a["Content-Type"]||"application/json",l.body=typeof n=="string"?n:JSON.stringify(n));const c=await fetch(r,l),u=await c.text();let f=null;if(u)try{f=JSON.parse(u)}catch{f=u}if(!c.ok){const h=typeof f=="object"&&f!==null&&f.mensaje||"Error en la solicitud",p=new Error(h);throw p.datos=f,p.estado=c.status,p}return f}async function ag(){const t=await ye({ruta:"/niveles",metodo:"GET"});return(Array.isArray(t==null?void 0:t.datos)?t.datos:[]).map(n=>Ut.desdeJSON(n))}function Qy(){const t=an(),e=M.useMemo(()=>$i.list().map(a=>({id:a.id,numero:a.numero,nombre:a.nombre,desc:a.desc})),[]),[n,i]=M.useState(e),[s,r]=M.useState("");return M.useEffect(()=>{(async()=>{try{const o=await ag();if(!Array.isArray(o)||o.length===0)return;const l=o.map(c=>({id:c.id,numero:c.numero,nombre:c.nombre,desc:c.descripcion??"Sin descripcin disponible."}));i(l)}catch(o){console.warn("No se pudo cargar niveles dinmicos.",o),r("Mostrando niveles predeterminados. Intenta ms tarde para ver actualizaciones.")}})()},[]),d.jsxs("section",{className:"grid gap-4",children:[d.jsx("div",{className:"card",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-semibold",children:"Niveles"}),d.jsx("p",{className:"text-slate-600 text-sm",children:"Selecciona un nivel para ejecutar su simulacin correspondiente."})]}),d.jsx("button",{className:"btn btn-outline",onClick:()=>t("/inicio"),children:"Volver"})]})}),s&&d.jsx("div",{className:"panel-mint px-4 py-3 text-amber-600 text-sm",children:s}),d.jsx("div",{className:"grid gap-3",children:n.map(a=>d.jsxs("div",{className:"card flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"m-0",children:["Nivel ",a.numero,": ",a.nombre]}),d.jsx("p",{className:"m-0 text-slate-600 text-sm",children:a.desc})]}),d.jsx(Xn,{to:`/niveles/${a.id}`,className:"btn",style:{background:"#38bdf8",color:"#001"},children:"Entrar"})]},a.id))})]})}let _o=class cc{constructor({id:e=null,nombre:n="",descripcion:i="",icono:s="",formulas:r="",estado:a=null,creadoPor:o=null,creadoEn:l=null,actualizadoEn:c=null}={}){this.id=Zy(e),this.nombre=n??"",this.descripcion=i??"",this.icono=s??"",this.formulas=r??"",this.estado=a??null,this.creadoPor=o??null,this.creadoEn=l??null,this.actualizadoEn=c??null}formulasClave(){if(!this.formulas)return[];if(Array.isArray(this.formulas))return this.formulas.map(n=>String(n).trim()).filter(Boolean);const e=String(this.formulas).trim();if(!e)return[];try{const n=JSON.parse(e);if(Array.isArray(n))return n.map(i=>String(i).trim()).filter(Boolean)}catch{}return e.split(/\r?\n|\s*\|\s*/).map(n=>n.trim()).filter(Boolean)}toJSON(){return{id:this.id,nombre:this.nombre,descripcion:this.descripcion,icono:this.icono,formulas:this.formulas,estado:this.estado,creadoPor:this.creadoPor,creadoEn:this.creadoEn,actualizadoEn:this.actualizadoEn}}clone(){return new cc(this.toJSON())}static desdeJSON(e={}){return new cc(e)}};function Zy(t){if(t==null)return null;const e=Number(t);return Number.isNaN(e)?t:e}async function eb(){const t=await ye({ruta:"/contenido",metodo:"GET"});return(Array.isArray(t==null?void 0:t.datos)?t.datos:[]).map(n=>_o.desdeJSON(n))}async function tb(t){const e=await ye({ruta:"/contenido",metodo:"POST",cuerpo:t});return _o.desdeJSON(e)}async function nb(t,e){if(!t)throw new Error("Se requiere id de la temtica.");const n=await ye({ruta:`/contenido/${t}`,metodo:"PUT",cuerpo:e});return _o.desdeJSON(n)}async function ib(t){if(!t)throw new Error("Se requiere id de la temtica.");return ye({ruta:`/contenido/${t}`,metodo:"DELETE"})}async function og(){const t=await ye({ruta:"/contenido/publico",metodo:"GET"});return(Array.isArray(t==null?void 0:t.datos)?t.datos:[]).map(n=>_o.desdeJSON(n))}function sb(){const t=an(),[e,n]=M.useState(null),[i,s]=M.useState([]),[r,a]=M.useState("");return M.useEffect(()=>{(async()=>{try{const l=await og();if(!Array.isArray(l)||l.length===0){s([]);return}s(l.map(c=>({id:c.id,titulo:c.nombre??"Tema sin ttulo",resumen:c.descripcion??"Sin descripcin disponible.",icono:c.icono??"",estado:c.estado??"",formulas:Array.isArray(c.formulas)?c.formulas:typeof c.formulas=="string"?c.formulas.split(/\r?\n/).filter(Boolean):[]}))),a("")}catch(l){console.warn("No se pudo cargar contenido dinmico.",l),a("No se pudo cargar el contenido temtico. Intenta nuevamente ms tarde.")}})()},[]),d.jsxs("section",{className:"grid gap-4",children:[d.jsxs("div",{className:"card",children:[d.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Contenido temtico"}),d.jsx("p",{className:"text-slate-600 text-sm",children:"Resumen terico y frmulas clave de cada tema para orientarte antes de ejecutar la simulacin."}),d.jsx("div",{className:"mt-2",children:d.jsx("button",{className:"btn btn-outline",onClick:()=>t("/inicio"),children:"Volver"})})]}),r&&d.jsx("div",{className:"panel-mint px-4 py-3 text-amber-600 text-sm",children:r}),i.length===0?d.jsx("div",{className:"panel-mint px-4 py-6 text-center text-slate-600",children:"No hay temticas registradas todava."}):d.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:i.map(o=>d.jsxs("article",{className:"tema-card",children:[d.jsxs("div",{className:"tema-card-body",children:[d.jsxs("h3",{className:"flex items-center gap-2",children:[o.icono&&d.jsx("span",{className:"text-2xl","aria-hidden":"true",children:o.icono}),d.jsx("span",{children:o.titulo})]}),d.jsx("p",{children:ab(o.resumen)})]}),d.jsx("footer",{className:"tema-card-footer",children:d.jsx("button",{className:"btn btn-green",onClick:()=>n(o),children:"Ver"})})]},o.id))}),e&&d.jsx(rb,{contenido:e,onClose:()=>n(null)})]})}function rb({contenido:t,onClose:e}){const n=M.useMemo(()=>ub(t==null?void 0:t.resumen),[t==null?void 0:t.resumen]),i=Array.isArray(t==null?void 0:t.formulas)?t.formulas.filter(Boolean):[];return d.jsx("div",{className:"modal-overlay",children:d.jsxs("article",{className:"modal-card",children:[d.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[d.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:t==null?void 0:t.titulo}),d.jsx("button",{className:"btn btn-outline",onClick:e,children:"Cerrar"})]}),d.jsxs("div",{className:"modal-scroll",children:[d.jsx("section",{className:"modal-section",children:n.length===0?d.jsx("p",{className:"modal-text",children:"No se registr una descripcin para esta temtica."}):n.map((s,r)=>d.jsx(db,{bloque:s},r))}),i.length>0&&d.jsxs("section",{className:"modal-section",children:[d.jsx("h4",{children:"Frmulas clave"}),d.jsx("ul",{className:"modal-list",children:i.map((s,r)=>d.jsx("li",{children:s},r))})]})]})]})})}function ab(t){if(!t)return"Descripcin no disponible.";const e=t.split(/\r?\n/).map(s=>s.trim()).filter(Boolean),n=e.filter(s=>!/:\s*$/.test(s)).filter(s=>!/^[-*]\s+/.test(s)),i=n.length>0?n[0]:e[0]||t;return i?i.length<=180?i:`${i.slice(0,177)}`:"Descripcin no disponible."}function ob(t){return/^[-*]\s+/.test(t)}function lb(t){return t.replace(/^[-*]\s+/,"").trim()}function cb(t){if(!t)return!1;const e=t.replace(/:\s*$/,"");return e.length>0&&e!==t}function ub(t){if(!t||typeof t!="string")return[];const e=t.split(/\r?\n/).map(o=>o.trim()),n=[];let i=[],s=[];const r=()=>{if(i.length===0)return;const o=i.join(" ");o.trim()&&n.push({tipo:"parrafo",texto:o.trim()}),i=[]},a=()=>{s.length!==0&&(n.push({tipo:"lista",items:s.slice()}),s=[])};return e.forEach(o=>{if(cb(o)){r(),a(),n.push({tipo:"encabezado",texto:o.replace(/:\s*$/,"")});return}if(!o){r(),a();return}ob(o)?(r(),s.push(lb(o))):(a(),i.push(o))}),r(),a(),n}function db({bloque:t}){return t?t.tipo==="encabezado"?d.jsx("p",{className:"modal-heading",children:t.texto}):t.tipo==="lista"?d.jsx("ul",{className:"modal-list",children:t.items.map((e,n)=>d.jsx("li",{children:e},n))}):d.jsx("p",{className:"modal-text",children:t.texto}):null}function fb(){const t=an(),{state:e}=It(),n=(e==null?void 0:e.result)??e??null,i=l=>l?Array.isArray(l)?l:Object.entries(l).map(([c,u])=>({etiqueta:c,valor:u})):[],s=i((e==null?void 0:e.metricas)??(n==null?void 0:n.metricas)??null),r=i((e==null?void 0:e.resumen)??(n==null?void 0:n.resumen)??null),a=Array.isArray((e==null?void 0:e.graficas)??(n==null?void 0:n.graficas))?(e==null?void 0:e.graficas)??(n==null?void 0:n.graficas):[],o=(e==null?void 0:e.notas)??(n==null?void 0:n.notas)??(n==null?void 0:n.comentarios)??"";return d.jsxs("div",{className:"max-w-[1280px] mx-auto px-4",children:[d.jsx("header",{className:"header-bar rounded-b-xl",children:d.jsx("h2",{className:"header-title",children:"Resultados"})}),d.jsxs("section",{className:"mt-4 grid gap-4",children:[d.jsx("div",{className:"card p-4 text-sm text-slate-700",children:d.jsx("p",{className:"m-0",children:"Las simulaciones muestran sus mtricas y grficas dentro de cada escenario. Si necesitas revisar un resultado especfico, utiliza el resumen rpido que aparece a continuacin o vuelve al nivel para repetir la actividad."})}),r.length>0&&d.jsxs("div",{className:"panel-mint p-4",children:[d.jsx("h3",{className:"text-slate-800 font-semibold text-base mb-3",children:"Resumen"}),d.jsx("ul",{className:"text-sm text-slate-700 grid gap-2",children:r.map(({etiqueta:l,valor:c})=>d.jsxs("li",{className:"flex justify-between",children:[d.jsx("span",{children:l}),d.jsx("span",{className:"font-semibold text-slate-900",children:ef(c)})]},l))})]}),s.length>0&&d.jsxs("div",{className:"card p-4",children:[d.jsx("h3",{className:"text-slate-800 font-semibold text-base mb-3",children:"Mtricas registradas"}),d.jsx("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(160px,1fr))] gap-3 text-sm",children:s.map(({etiqueta:l,valor:c})=>d.jsxs("div",{className:"panel-mint px-3 py-2",children:[d.jsx("p",{className:"text-slate-500 m-0 text-xs uppercase tracking-wide",children:l}),d.jsx("p",{className:"text-slate-900 m-0 font-semibold",children:ef(c)})]},l))})]}),a.length>0&&d.jsxs("div",{className:"card p-4",children:[d.jsx("h3",{className:"text-slate-800 font-semibold text-base mb-3",children:"Grficas calculadas"}),d.jsx("ul",{className:"list-disc pl-5 text-sm text-slate-700 space-y-1",children:a.map((l,c)=>d.jsxs("li",{children:[(l==null?void 0:l.titulo)??(l==null?void 0:l.id)??`Grafica ${c+1}`,Array.isArray(l==null?void 0:l.datos)&&d.jsxs("span",{className:"text-slate-500",children:["  ",l.datos.length," puntos"]})]},(l==null?void 0:l.id)??c))})]}),o&&d.jsxs("div",{className:"panel-mint p-4 text-sm text-slate-700",children:[d.jsx("h3",{className:"text-slate-800 font-semibold text-base mb-2",children:"Notas"}),d.jsx("p",{className:"m-0 whitespace-pre-wrap",children:o})]}),n&&d.jsxs("details",{className:"card p-4 text-xs text-slate-600",children:[d.jsx("summary",{className:"cursor-pointer font-semibold text-slate-800",children:"Ver datos originales"}),d.jsx("pre",{className:"mt-3 bg-slate-900 text-slate-100 rounded-lg p-3 overflow-x-auto",children:JSON.stringify(n,null,2)})]})]}),d.jsxs("section",{className:"mt-4 flex justify-end gap-2",children:[d.jsx("button",{className:"btn btn-purple",onClick:()=>t("/niveles/1"),children:"Reintentar"}),d.jsx("button",{className:"btn btn-outline",onClick:()=>t("/niveles"),children:"Volver al men"})]})]})}function ef(t){return t==null?"":typeof t=="number"&&Number.isFinite(t)?Math.abs(t)>=1e3?t.toFixed(0):Math.abs(t)>=1?t.toFixed(2):t.toPrecision(3):String(t)}class bu{constructor({id:e=null,nombre:n="Usuario",correo:i=null,email:s=null,rol:r="ESTUDIANTE",estado:a="ACTIVO"}={}){this.id=e??hb(),this.nombre=n;const o=i??s;this.correo=o,this.email=o,this.rol=r,this.estado=a}esAdmin(){return this.rol==="ADMIN"}esEstudiante(){return this.rol==="ESTUDIANTE"}tieneRol(e){return e?this.rol===e:!1}estaActivo(){return this.estado==="ACTIVO"}toJSON(){return{id:this.id,nombre:this.nombre,correo:this.correo,rol:this.rol,estado:this.estado}}}function hb(){try{return typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`u_${Math.random().toString(36).slice(2,10)}`}catch{return`u_${Math.random().toString(36).slice(2,10)}`}}const zs=t=>{if(t==null)return null;const e=Number(t);return Number.isNaN(e)?t:e},mb=t=>t?Array.isArray(t)?t.reduce((e,n={})=>(n!=null&&n.nombre&&(e[n.nombre]=n.valor??""),e),{}):typeof t=="object"?Object.entries(t).reduce((e,[n,i])=>(e[n]=i??"",e),{}):{}:{},pb=t=>Array.isArray(t)?t.map(dg):[];function lg(t={}){return{id:zs(t.id),nombre:t.nombre??"",correo:t.correo??"",rol:t.rol??"ESTUDIANTE",estado:t.estado??"ACTIVO",creadoEn:t.creadoEn??t.creado_en??null,actualizadoEn:t.actualizadoEn??t.actualizado_en??null}}function cg(t={}){return{nivelId:zs(t.nivelId??t.nivel_id),tipoSimulacion:t.tipoSimulacion??t.tipo_simulacion??"",cantidad:Number.isFinite(Number(t.cantidad))?Number(t.cantidad):0}}function ug(t,e){return{nombre:t??"",valor:e??""}}function dg(t={}){return{nombre:t.nombre??t.id??"",valor:t.valor??"",unidad:t.unidad??null}}function fg(t={}){var r,a,o,l;const e=t.tipoSimulacion??((r=t.resumen)==null?void 0:r.tipo)??"",n=t.interpretacion??((o=(a=t.resumen)==null?void 0:a.resumenDominio)==null?void 0:o.interpretacion)??"",i=mb(t.parametros),s=pb((l=t.resumen)==null?void 0:l.metricasTiempoReal);return{id:zs(t.id),usuarioId:zs(t.usuarioId),nivelId:zs(t.nivelId),tipoSimulacion:e,interpretacion:n,fechaEjecucion:t.fechaEjecucion??null,creadoEn:t.creadoEn??null,parametros:i,parametrosLista:Object.entries(i).map(([c,u])=>ug(c,u)),metricas:s,resumen:{tipo:e,metricasTiempoReal:s,resumenDominio:{interpretacion:n}}}}function hg(t=[]){return Array.isArray(t)?t.map(lg):[]}function mg(t=[]){return Array.isArray(t)?t.map(cg):[]}function _u(t=[]){return Array.isArray(t)?t.map(fg):[]}const gb={crearReporteEstudiante:lg,crearResumenSimulacion:cg,crearRegistroSimulacion:fg,crearParametroSimulacion:ug,crearMetricaSimulacion:dg,mapearReportesEstudiantes:hg,mapearResumenesSimulacion:mg,mapearHistorialSimulaciones:_u};class tf{constructor(){this._reportes=[]}registrarReporte(e){e&&this._reportes.push(e)}listarReportes(){return[...this._reportes]}generarResumen(){if(this._reportes.length===0)return null;const e=this._reportes[this._reportes.length-1];return!e||typeof e!="object"?{total:this._reportes.length}:{total:this._reportes.length,ultimo:e}}static get Reportes(){return gb}}class wu extends bu{constructor(e={}){super(e),this.nivelSeleccionado=null,this._historico=new tf}static get Historico(){return tf}listarNiveles(){return $i.list()}obtenerNivel(e){return $i.findById(e)}seleccionarNivel(e){return this.nivelSeleccionado=this.obtenerNivel(e),this.nivelSeleccionado}obtenerHistorico(){return this._historico}}const Gt={usuario:"sim2_usuario",token:"sim2_token",refresh:"sim2_refresh"};async function xb({nombre:t,correo:e,clave:n}){const i=await ye({ruta:"/autenticacion/registro",metodo:"POST",cuerpo:{nombre:t,correo:e,clave:n}});return pg(i),i}async function vb({correo:t,clave:e}){const n=await ye({ruta:"/autenticacion/inicio-sesion",metodo:"POST",cuerpo:{correo:t,clave:e}});return pg(n),n}async function yb(t){if(!t)throw new Error("No hay token de refresco disponible.");const e=await ye({ruta:"/autenticacion/refrescar",metodo:"POST",cuerpo:{token:t}});return gg(e.token,e.refresh??t),e}function bb(){yu(null),window.localStorage.removeItem(Gt.usuario),window.localStorage.removeItem(Gt.token),window.localStorage.removeItem(Gt.refresh)}function _b(){try{const t=window.localStorage.getItem(Gt.usuario),e=window.localStorage.getItem(Gt.token),n=window.localStorage.getItem(Gt.refresh);return!t||!e?null:(yu(e),{usuario:JSON.parse(t),token:e,refresh:n})}catch(t){return console.warn("No se pudo recuperar la sesin previa.",t),null}}function pg({usuario:t,token:e,refresh:n}){if(!t||!e)throw new Error("Respuesta de autenticacin incompleta.");window.localStorage.setItem(Gt.usuario,JSON.stringify(t)),gg(e,n)}function gg(t,e){window.localStorage.setItem(Gt.token,t),e&&window.localStorage.setItem(Gt.refresh,e),yu(t)}class wb extends bu{constructor(e={}){super({...e,rol:"ADMIN"})}puedeGestionarUsuarios(){return!0}puedeGestionarContenido(){return!0}puedeVerReportes(){return!0}}function Zo(t={}){if(!t||typeof t!="object")return null;const e=typeof t.estado=="string"?t.estado:typeof t.estaActivo=="boolean"?t.estaActivo?"ACTIVO":"INACTIVO":"ACTIVO",n={id:t.id??t.usuarioId??null,nombre:t.nombre??t.fullName??"",correo:t.correo??t.email??null,rol:t.rol??"ESTUDIANTE",estado:e,grado:t.grado??null,grupo:t.grupo??null};return n.rol==="ADMIN"?new wb(n):n.rol==="ESTUDIANTE"?new wu(n):new bu(n)}const xg=M.createContext(null);function Nb({children:t}){const[e,n]=M.useState(null),[i,s]=M.useState(null),[r,a]=M.useState(null),[o,l]=M.useState(!0);M.useEffect(()=>{const x=_b();x&&(n(Zo(x.usuario)),s(x.token),a(x.refresh??null)),l(!1)},[]);const c=async({correo:x,clave:m})=>{const y=await vb({correo:x,clave:m}),g=Zo(y.usuario);return n(g),s(y.token),a(y.refresh??null),g},u=async({nombre:x,correo:m,clave:y})=>{const g=await xb({nombre:x,correo:m,clave:y}),v=Zo(g.usuario);return n(v),s(g.token),a(g.refresh??null),v},f=()=>{bb(),n(null),s(null),a(null)},h=async()=>{if(!r)return null;const{token:x,refresh:m}=await yb(r);return s(x),a(m??r),x},p=M.useMemo(()=>({usuario:e,token:i,refresh:r,cargando:o,estaAutenticado:!!(e&&i),autenticar:c,registrar:u,cerrarSesion:f,renovarToken:h}),[e,i,r,o]);return d.jsx(xg.Provider,{value:p,children:t})}function qi(){const t=M.useContext(xg);if(!t)throw new Error("useAuth debe usarse dentro de <AuthProvider>");return t}function Sb(){const t=an(),{usuario:e}=qi(),n=M.useMemo(()=>e?new wu({nombre:e.nombre||"Estudiante",email:e.correo}):null,[e]),i=M.useMemo(()=>{var a;return((a=n==null?void 0:n.listarNiveles)==null?void 0:a.call(n))||[]},[n]),[s,r]=M.useState([]);return M.useEffect(()=>{(async()=>{try{const o=await og();r(Array.isArray(o)?o:[])}catch(o){console.warn("No se pudieron cargar temticas pblicas.",o),r([])}})()},[]),d.jsxs("section",{className:"grid gap-4",children:[d.jsxs("div",{className:"card",children:[d.jsxs("h2",{className:"text-lg font-semibold mb-2",children:["Bienvenido/a ",n!=null&&n.nombre?`, ${n.nombre}`:""]}),d.jsx("p",{className:"text-slate-600 text-sm",children:"Elige por dnde empezar: explora los niveles prcticos o revisa el contenido temtico para orientarte antes de simular."}),d.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-3 text-sm text-slate-600",children:[d.jsxs("div",{className:"card",children:[d.jsx("strong",{children:"Niveles disponibles:"})," ",i.length]}),d.jsxs("div",{className:"card",children:[d.jsx("strong",{children:"Temas disponibles:"})," ",s.length]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"card grid gap-2",children:[d.jsx("h3",{className:"font-semibold",children:"Ver niveles"}),d.jsx("p",{className:"text-sm text-slate-600",children:"Accede a las simulaciones por niveles (Trabajo, Energa, Potencia, etc.)."}),d.jsx("div",{children:d.jsx("button",{className:"btn btn-green",onClick:()=>t("/niveles"),children:"Ir a Niveles"})})]}),d.jsxs("div",{className:"card grid gap-2",children:[d.jsx("h3",{className:"font-semibold",children:"Ver contenido temtico"}),d.jsx("p",{className:"text-sm text-slate-600",children:"Lee un resumen terico y frmulas clave de cada tema antes de simular."}),d.jsx("div",{children:d.jsx("button",{className:"btn btn-green",onClick:()=>t("/contenido"),children:"Ir a Contenido"})})]})]})]})}function jb(){const t=an(),e=It(),{autenticar:n,registrar:i,estaAutenticado:s,cargando:r}=qi(),[a,o]=M.useState("login"),[l,c]=M.useState(""),[u,f]=M.useState(""),[h,p]=M.useState(""),[x,m]=M.useState(!1),[y,g]=M.useState("");M.useEffect(()=>{var N;if(s&&!r){const w=((N=e.state)==null?void 0:N.desde)??"/inicio";t(w,{replace:!0})}},[s,r,t,e.state]);const v=()=>{c(""),f(""),p(""),g("")},b=N=>{a!==N&&(o(N),v())},_=async N=>{var w,j;if(N.preventDefault(),!u.trim()){g("Ingresa tu correo.");return}if(!h.trim()){g("Ingresa tu contrasea.");return}if(a==="registro"&&!l.trim()){g("Ingresa tu nombre.");return}m(!0),g("");try{a==="login"?await n({correo:u,clave:h}):await i({nombre:l,correo:u,clave:h});const S=((w=e.state)==null?void 0:w.desde)??"/inicio";t(S,{replace:!0})}catch(S){const k=((j=S==null?void 0:S.datos)==null?void 0:j.mensaje)||(S==null?void 0:S.message)||"No se pudo completar la solicitud.";g(k)}finally{m(!1)}};return r?d.jsx("section",{className:"grid place-items-center py-12 text-slate-600",children:"Verificando sesin..."}):d.jsx("section",{className:"grid place-items-center",children:d.jsxs("form",{onSubmit:_,className:"card w-[min(95%,420px)] grid gap-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h2",{className:"text-lg font-semibold",children:a==="login"?"Iniciar sesin":"Crear cuenta"}),d.jsxs("div",{className:"flex gap-2 text-xs",children:[d.jsx("button",{type:"button",className:`btn btn-outline ${a==="login"?"btn-active":""}`,onClick:()=>b("login"),children:"Acceder"}),d.jsx("button",{type:"button",className:`btn btn-outline ${a==="registro"?"btn-active":""}`,onClick:()=>b("registro"),children:"Registrarse"})]})]}),d.jsx("p",{className:"text-sm text-slate-600 m-0",children:a==="login"?"Ingresa con tu cuenta para continuar con las simulaciones.":"Completa tus datos para crear una cuenta de estudiante."}),a==="registro"&&d.jsxs("label",{className:"text-sm text-slate-700",children:["Nombre",d.jsx("input",{className:"mt-1 w-full border rounded-lg px-3 py-2",value:l,onChange:N=>c(N.target.value),placeholder:"Tu nombre",autoComplete:"name"})]}),d.jsxs("label",{className:"text-sm text-slate-700",children:["Correo",d.jsx("input",{className:"mt-1 w-full border rounded-lg px-3 py-2",type:"email",value:u,onChange:N=>f(N.target.value),placeholder:"correo@ejemplo.com",autoComplete:"email"})]}),d.jsxs("label",{className:"text-sm text-slate-700",children:["Contrasea",d.jsx("input",{className:"mt-1 w-full border rounded-lg px-3 py-2",type:"password",value:h,onChange:N=>p(N.target.value),placeholder:"",autoComplete:a==="login"?"current-password":"new-password"})]}),y&&d.jsx("div",{className:"text-rose-600 text-sm",children:y}),d.jsx("div",{className:"flex gap-2 justify-end mt-1",children:d.jsx("button",{type:"submit",className:"btn btn-green",disabled:x,children:x?"Enviando...":a==="login"?"Entrar":"Registrar"})}),d.jsx("small",{className:"text-slate-500",children:a==="login"?"Primera vez aqu? Cambia a Registrarse para crear tu cuenta.":"Ya tienes cuenta? Usa Acceder para iniciar sesin."})]})})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function vr(t){return t+.5|0}const yn=(t,e,n)=>Math.max(Math.min(t,n),e);function vs(t){return yn(vr(t*2.55),0,255)}function En(t){return yn(vr(t*255),0,255)}function Ht(t){return yn(vr(t/2.55)/100,0,1)}function nf(t){return yn(vr(t*100),0,100)}const at={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},uc=[..."0123456789ABCDEF"],Mb=t=>uc[t&15],kb=t=>uc[(t&240)>>4]+uc[t&15],Br=t=>(t&240)>>4===(t&15),Cb=t=>Br(t.r)&&Br(t.g)&&Br(t.b)&&Br(t.a);function Eb(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&at[t[1]]*17,g:255&at[t[2]]*17,b:255&at[t[3]]*17,a:e===5?at[t[4]]*17:255}:(e===7||e===9)&&(n={r:at[t[1]]<<4|at[t[2]],g:at[t[3]]<<4|at[t[4]],b:at[t[5]]<<4|at[t[6]],a:e===9?at[t[7]]<<4|at[t[8]]:255})),n}const Tb=(t,e)=>t<255?e(t):"";function Pb(t){var e=Cb(t)?Mb:kb;return t?"#"+e(t.r)+e(t.g)+e(t.b)+Tb(t.a,e):void 0}const zb=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function vg(t,e,n){const i=e*Math.min(n,1-n),s=(r,a=(r+t/30)%12)=>n-i*Math.max(Math.min(a-3,9-a,1),-1);return[s(0),s(8),s(4)]}function Ab(t,e,n){const i=(s,r=(s+t/60)%6)=>n-n*e*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function Rb(t,e,n){const i=vg(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)i[s]*=1-e-n,i[s]+=e;return i}function Fb(t,e,n,i,s){return t===s?(e-n)/i+(e<n?6:0):e===s?(n-t)/i+2:(t-e)/i+4}function Nu(t){const n=t.r/255,i=t.g/255,s=t.b/255,r=Math.max(n,i,s),a=Math.min(n,i,s),o=(r+a)/2;let l,c,u;return r!==a&&(u=r-a,c=o>.5?u/(2-r-a):u/(r+a),l=Fb(n,i,s,u,r),l=l*60+.5),[l|0,c||0,o]}function Su(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(En)}function ju(t,e,n){return Su(vg,t,e,n)}function Ob(t,e,n){return Su(Rb,t,e,n)}function Ib(t,e,n){return Su(Ab,t,e,n)}function yg(t){return(t%360+360)%360}function Db(t){const e=zb.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?vs(+e[5]):En(+e[5]));const s=yg(+e[2]),r=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?i=Ob(s,r,a):e[1]==="hsv"?i=Ib(s,r,a):i=ju(s,r,a),{r:i[0],g:i[1],b:i[2],a:n}}function Lb(t,e){var n=Nu(t);n[0]=yg(n[0]+e),n=ju(n),t.r=n[0],t.g=n[1],t.b=n[2]}function Bb(t){if(!t)return;const e=Nu(t),n=e[0],i=nf(e[1]),s=nf(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${s}%, ${Ht(t.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const sf={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},rf={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Vb(){const t={},e=Object.keys(rf),n=Object.keys(sf);let i,s,r,a,o;for(i=0;i<e.length;i++){for(a=o=e[i],s=0;s<n.length;s++)r=n[s],o=o.replace(r,sf[r]);r=parseInt(rf[a],16),t[o]=[r>>16&255,r>>8&255,r&255]}return t}let Vr;function $b(t){Vr||(Vr=Vb(),Vr.transparent=[0,0,0,0]);const e=Vr[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Wb=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Hb(t){const e=Wb.exec(t);let n=255,i,s,r;if(e){if(e[7]!==i){const a=+e[7];n=e[8]?vs(a):yn(a*255,0,255)}return i=+e[1],s=+e[3],r=+e[5],i=255&(e[2]?vs(i):yn(i,0,255)),s=255&(e[4]?vs(s):yn(s,0,255)),r=255&(e[6]?vs(r):yn(r,0,255)),{r:i,g:s,b:r,a:n}}}function Ub(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Ht(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const el=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,fi=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Kb(t,e,n){const i=fi(Ht(t.r)),s=fi(Ht(t.g)),r=fi(Ht(t.b));return{r:En(el(i+n*(fi(Ht(e.r))-i))),g:En(el(s+n*(fi(Ht(e.g))-s))),b:En(el(r+n*(fi(Ht(e.b))-r))),a:t.a+n*(e.a-t.a)}}function $r(t,e,n){if(t){let i=Nu(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=ju(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function bg(t,e){return t&&Object.assign(e||{},t)}function af(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=En(t[3]))):(e=bg(t,{r:0,g:0,b:0,a:1}),e.a=En(e.a)),e}function Yb(t){return t.charAt(0)==="r"?Hb(t):Db(t)}class rr{constructor(e){if(e instanceof rr)return e;const n=typeof e;let i;n==="object"?i=af(e):n==="string"&&(i=Eb(e)||$b(e)||Yb(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=bg(this._rgb);return e&&(e.a=Ht(e.a)),e}set rgb(e){this._rgb=af(e)}rgbString(){return this._valid?Ub(this._rgb):void 0}hexString(){return this._valid?Pb(this._rgb):void 0}hslString(){return this._valid?Bb(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,s=e.rgb;let r;const a=n===r?.5:n,o=2*a-1,l=i.a-s.a,c=((o*l===-1?o:(o+l)/(1+o*l))+1)/2;r=1-c,i.r=255&c*i.r+r*s.r+.5,i.g=255&c*i.g+r*s.g+.5,i.b=255&c*i.b+r*s.b+.5,i.a=a*i.a+(1-a)*s.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=Kb(this._rgb,e._rgb,n)),this}clone(){return new rr(this.rgb)}alpha(e){return this._rgb.a=En(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=vr(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return $r(this._rgb,2,e),this}darken(e){return $r(this._rgb,2,-e),this}saturate(e){return $r(this._rgb,1,e),this}desaturate(e){return $r(this._rgb,1,-e),this}rotate(e){return Lb(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Dt(){}const Xb=(()=>{let t=0;return()=>t++})();function ee(t){return t==null}function _e(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Q(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function mt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Ct(t,e){return mt(t)?t:e}function K(t,e){return typeof t>"u"?e:t}const Jb=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function re(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Z(t,e,n,i){let s,r,a;if(_e(t))for(r=t.length,s=0;s<r;s++)e.call(n,t[s],s);else if(Q(t))for(a=Object.keys(t),r=a.length,s=0;s<r;s++)e.call(n,t[a[s]],a[s])}function $a(t,e){let n,i,s,r;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(s=t[n],r=e[n],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function Wa(t){if(_e(t))return t.map(Wa);if(Q(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let s=0;for(;s<i;++s)e[n[s]]=Wa(t[n[s]]);return e}return t}function _g(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function Gb(t,e,n,i){if(!_g(t))return;const s=e[t],r=n[t];Q(s)&&Q(r)?ar(s,r,i):e[t]=Wa(r)}function ar(t,e,n){const i=_e(e)?e:[e],s=i.length;if(!Q(t))return t;n=n||{};const r=n.merger||Gb;let a;for(let o=0;o<s;++o){if(a=i[o],!Q(a))continue;const l=Object.keys(a);for(let c=0,u=l.length;c<u;++c)r(l[c],t,a,n)}return t}function As(t,e){return ar(t,e,{merger:qb})}function qb(t,e,n){if(!_g(t))return;const i=e[t],s=n[t];Q(i)&&Q(s)?As(i,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Wa(s))}const of={"":t=>t,x:t=>t.x,y:t=>t.y};function Qb(t){const e=t.split("."),n=[];let i="";for(const s of e)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function Zb(t){const e=Qb(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function Ha(t,e){return(of[e]||(of[e]=Zb(e)))(t)}function Mu(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Ua=t=>typeof t<"u",zn=t=>typeof t=="function",lf=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function e_(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Se=Math.PI,Ft=2*Se,t_=Ft+Se,Ka=Number.POSITIVE_INFINITY,n_=Se/180,_t=Se/2,Bn=Se/4,cf=Se*2/3,wg=Math.log10,Wi=Math.sign;function Rs(t,e,n){return Math.abs(t-e)<n}function uf(t){const e=Math.round(t);t=Rs(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(wg(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function i_(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((s,r)=>s-r).pop(),e}function s_(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function or(t){return!s_(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function r_(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function a_(t,e,n){let i,s,r;for(i=0,s=t.length;i<s;i++)r=t[i][n],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function Qn(t){return t*(Se/180)}function o_(t){return t*(180/Se)}function df(t){if(!mt(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function l_(t,e){const n=e.x-t.x,i=e.y-t.y,s=Math.sqrt(n*n+i*i);let r=Math.atan2(i,n);return r<-.5*Se&&(r+=Ft),{angle:r,distance:s}}function dc(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function c_(t,e){return(t-e+t_)%Ft-Se}function dn(t){return(t%Ft+Ft)%Ft}function Ng(t,e,n,i){const s=dn(t),r=dn(e),a=dn(n),o=dn(r-s),l=dn(a-s),c=dn(s-r),u=dn(s-a);return s===r||s===a||i&&r===a||o>l&&c<u}function Ye(t,e,n){return Math.max(e,Math.min(n,t))}function u_(t){return Ye(t,-32768,32767)}function ys(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function ku(t,e,n){n=n||(a=>t[a]<e);let i=t.length-1,s=0,r;for(;i-s>1;)r=s+i>>1,n(r)?s=r:i=r;return{lo:s,hi:i}}const Xt=(t,e,n,i)=>ku(t,n,i?s=>{const r=t[s][e];return r<n||r===n&&t[s+1][e]===n}:s=>t[s][e]<n),d_=(t,e,n)=>ku(t,n,i=>t[i][e]>=n);function f_(t,e,n){let i=0,s=t.length;for(;i<s&&t[i]<e;)i++;for(;s>i&&t[s-1]>n;)s--;return i>0||s<t.length?t.slice(i,s):t}const Sg=["push","pop","shift","splice","unshift"];function h_(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Sg.forEach(n=>{const i="_onData"+Mu(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...r){const a=s.apply(this,r);return t._chartjs.listeners.forEach(o=>{typeof o[i]=="function"&&o[i](...r)}),a}})})}function ff(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(e);s!==-1&&i.splice(s,1),!(i.length>0)&&(Sg.forEach(r=>{delete t[r]}),delete t._chartjs)}function m_(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const jg=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function Mg(t,e){let n=[],i=!1;return function(...s){n=s,i||(i=!0,jg.call(window,()=>{i=!1,t.apply(e,n)}))}}function p_(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const Cu=t=>t==="start"?"left":t==="end"?"right":"center",Ae=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,g_=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function x_(t,e,n){const i=e.length;let s=0,r=i;if(t._sorted){const{iScale:a,vScale:o,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=a.axis,{min:f,max:h,minDefined:p,maxDefined:x}=a.getUserBounds();if(p){if(s=Math.min(Xt(l,u,f).lo,n?i:Xt(e,u,a.getPixelForValue(f)).lo),c){const m=l.slice(0,s+1).reverse().findIndex(y=>!ee(y[o.axis]));s-=Math.max(0,m)}s=Ye(s,0,i-1)}if(x){let m=Math.max(Xt(l,a.axis,h,!0).hi+1,n?0:Xt(e,u,a.getPixelForValue(h),!0).hi+1);if(c){const y=l.slice(m-1).findIndex(g=>!ee(g[o.axis]));m+=Math.max(0,y)}r=Ye(m,s,i)-s}else r=i-s}return{start:s,count:r}}function v_(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,s={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=s,!0;const r=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,s),r}const Wr=t=>t===0||t===1,hf=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Ft/n)),mf=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Ft/n)+1,Fs={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*_t)+1,easeOutSine:t=>Math.sin(t*_t),easeInOutSine:t=>-.5*(Math.cos(Se*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Wr(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Wr(t)?t:hf(t,.075,.3),easeOutElastic:t=>Wr(t)?t:mf(t,.075,.3),easeInOutElastic(t){return Wr(t)?t:t<.5?.5*hf(t*2,.1125,.45):.5+.5*mf(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Fs.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Fs.easeInBounce(t*2)*.5:Fs.easeOutBounce(t*2-1)*.5+.5};function Eu(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function pf(t){return Eu(t)?t:new rr(t)}function tl(t){return Eu(t)?t:new rr(t).saturate(.5).darken(.1).hexString()}const y_=["x","y","borderWidth","radius","tension"],b_=["color","borderColor","backgroundColor"];function __(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:b_},numbers:{type:"number",properties:y_}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function w_(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const gf=new Map;function N_(t,e){e=e||{};const n=t+JSON.stringify(e);let i=gf.get(n);return i||(i=new Intl.NumberFormat(t,e),gf.set(n,i)),i}function kg(t,e,n){return N_(e,n).format(t)}const S_={values(t){return _e(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let s,r=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),r=j_(t,n)}const a=wg(Math.abs(r)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:s,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),kg(t,i,l)}};function j_(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Cg={formatters:S_};function M_(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Cg.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const oi=Object.create(null),fc=Object.create(null);function Os(t,e){if(!e)return t;const n=e.split(".");for(let i=0,s=n.length;i<s;++i){const r=n[i];t=t[r]||(t[r]=Object.create(null))}return t}function nl(t,e,n){return typeof e=="string"?ar(Os(t,e),n):ar(Os(t,""),e)}class k_{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>tl(s.backgroundColor),this.hoverBorderColor=(i,s)=>tl(s.borderColor),this.hoverColor=(i,s)=>tl(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return nl(this,e,n)}get(e){return Os(this,e)}describe(e,n){return nl(fc,e,n)}override(e,n){return nl(oi,e,n)}route(e,n,i,s){const r=Os(this,e),a=Os(this,i),o="_"+n;Object.defineProperties(r,{[o]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[o],c=a[s];return Q(l)?Object.assign({},c,l):K(l,c)},set(l){this[o]=l}}})}apply(e){e.forEach(n=>n(this))}}var pe=new k_({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[__,w_,M_]);function C_(t){return!t||ee(t.size)||ee(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function xf(t,e,n,i,s){let r=e[s];return r||(r=e[s]=t.measureText(s).width,n.push(s)),r>i&&(i=r),i}function Vn(t,e,n){const i=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*i)/i+s}function vf(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function hc(t,e,n,i){Eg(t,e,n,i,null)}function Eg(t,e,n,i,s){let r,a,o,l,c,u,f,h;const p=e.pointStyle,x=e.rotation,m=e.radius;let y=(x||0)*n_;if(p&&typeof p=="object"&&(r=p.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(y),t.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),t.restore();return}if(!(isNaN(m)||m<=0)){switch(t.beginPath(),p){default:s?t.ellipse(n,i,s/2,m,0,0,Ft):t.arc(n,i,m,0,Ft),t.closePath();break;case"triangle":u=s?s/2:m,t.moveTo(n+Math.sin(y)*u,i-Math.cos(y)*m),y+=cf,t.lineTo(n+Math.sin(y)*u,i-Math.cos(y)*m),y+=cf,t.lineTo(n+Math.sin(y)*u,i-Math.cos(y)*m),t.closePath();break;case"rectRounded":c=m*.516,l=m-c,a=Math.cos(y+Bn)*l,f=Math.cos(y+Bn)*(s?s/2-c:l),o=Math.sin(y+Bn)*l,h=Math.sin(y+Bn)*(s?s/2-c:l),t.arc(n-f,i-o,c,y-Se,y-_t),t.arc(n+h,i-a,c,y-_t,y),t.arc(n+f,i+o,c,y,y+_t),t.arc(n-h,i+a,c,y+_t,y+Se),t.closePath();break;case"rect":if(!x){l=Math.SQRT1_2*m,u=s?s/2:l,t.rect(n-u,i-l,2*u,2*l);break}y+=Bn;case"rectRot":f=Math.cos(y)*(s?s/2:m),a=Math.cos(y)*m,o=Math.sin(y)*m,h=Math.sin(y)*(s?s/2:m),t.moveTo(n-f,i-o),t.lineTo(n+h,i-a),t.lineTo(n+f,i+o),t.lineTo(n-h,i+a),t.closePath();break;case"crossRot":y+=Bn;case"cross":f=Math.cos(y)*(s?s/2:m),a=Math.cos(y)*m,o=Math.sin(y)*m,h=Math.sin(y)*(s?s/2:m),t.moveTo(n-f,i-o),t.lineTo(n+f,i+o),t.moveTo(n+h,i-a),t.lineTo(n-h,i+a);break;case"star":f=Math.cos(y)*(s?s/2:m),a=Math.cos(y)*m,o=Math.sin(y)*m,h=Math.sin(y)*(s?s/2:m),t.moveTo(n-f,i-o),t.lineTo(n+f,i+o),t.moveTo(n+h,i-a),t.lineTo(n-h,i+a),y+=Bn,f=Math.cos(y)*(s?s/2:m),a=Math.cos(y)*m,o=Math.sin(y)*m,h=Math.sin(y)*(s?s/2:m),t.moveTo(n-f,i-o),t.lineTo(n+f,i+o),t.moveTo(n+h,i-a),t.lineTo(n-h,i+a);break;case"line":a=s?s/2:Math.cos(y)*m,o=Math.sin(y)*m,t.moveTo(n-a,i-o),t.lineTo(n+a,i+o);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(y)*(s?s/2:m),i+Math.sin(y)*m);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function lr(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Tu(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Pu(t){t.restore()}function E_(t,e,n,i,s){if(!e)return t.lineTo(n.x,n.y);if(s==="middle"){const r=(e.x+n.x)/2;t.lineTo(r,e.y),t.lineTo(r,n.y)}else s==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function T_(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function P_(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),ee(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function z_(t,e,n,i,s){if(s.strikethrough||s.underline){const r=t.measureText(i),a=e-r.actualBoundingBoxLeft,o=e+r.actualBoundingBoxRight,l=n-r.actualBoundingBoxAscent,c=n+r.actualBoundingBoxDescent,u=s.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(a,u),t.lineTo(o,u),t.stroke()}}function A_(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function cr(t,e,n,i,s,r={}){const a=_e(e)?e:[e],o=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(t.save(),t.font=s.string,P_(t,r),l=0;l<a.length;++l)c=a[l],r.backdrop&&A_(t,r.backdrop),o&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),ee(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(c,n,i,r.maxWidth)),t.fillText(c,n,i,r.maxWidth),z_(t,n,i,c,r),i+=Number(s.lineHeight);t.restore()}function mc(t,e){const{x:n,y:i,w:s,h:r,radius:a}=e;t.arc(n+a.topLeft,i+a.topLeft,a.topLeft,1.5*Se,Se,!0),t.lineTo(n,i+r-a.bottomLeft),t.arc(n+a.bottomLeft,i+r-a.bottomLeft,a.bottomLeft,Se,_t,!0),t.lineTo(n+s-a.bottomRight,i+r),t.arc(n+s-a.bottomRight,i+r-a.bottomRight,a.bottomRight,_t,0,!0),t.lineTo(n+s,i+a.topRight),t.arc(n+s-a.topRight,i+a.topRight,a.topRight,0,-_t,!0),t.lineTo(n+a.topLeft,i)}const R_=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,F_=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function O_(t,e){const n=(""+t).match(R_);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const I_=t=>+t||0;function Tg(t,e){const n={},i=Q(e),s=i?Object.keys(e):e,r=Q(t)?i?a=>K(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of s)n[a]=I_(r(a));return n}function D_(t){return Tg(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Is(t){return Tg(t,["topLeft","topRight","bottomLeft","bottomRight"])}function pt(t){const e=D_(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Fe(t,e){t=t||{},e=e||pe.font;let n=K(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=K(t.style,e.style);i&&!(""+i).match(F_)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:K(t.family,e.family),lineHeight:O_(K(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:K(t.weight,e.weight),string:""};return s.string=C_(s),s}function bs(t,e,n,i){let s,r,a;for(s=0,r=t.length;s<r;++s)if(a=t[s],a!==void 0&&a!==void 0)return a}function L_(t,e,n){const{min:i,max:s}=t,r=Jb(e,(s-i)/2),a=(o,l)=>n&&o===0?0:o+l;return{min:a(i,-Math.abs(r)),max:a(s,r)}}function ui(t,e){return Object.assign(Object.create(t),e)}function zu(t,e=[""],n,i,s=()=>t[0]){const r=n||t;typeof i>"u"&&(i=Rg("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:i,_getTarget:s,override:o=>zu([o,...t],e,r,i)};return new Proxy(a,{deleteProperty(o,l){return delete o[l],delete o._keys,delete t[0][l],!0},get(o,l){return zg(o,l,()=>Y_(l,e,t,o))},getOwnPropertyDescriptor(o,l){return Reflect.getOwnPropertyDescriptor(o._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(o,l){return bf(o).includes(l)},ownKeys(o){return bf(o)},set(o,l,c){const u=o._storage||(o._storage=s());return o[l]=u[l]=c,delete o._keys,!0}})}function Hi(t,e,n,i){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:Pg(t,i),setContext:r=>Hi(t,r,n,i),override:r=>Hi(t.override(r),e,n,i)};return new Proxy(s,{deleteProperty(r,a){return delete r[a],delete t[a],!0},get(r,a,o){return zg(r,a,()=>V_(r,a,o))},getOwnPropertyDescriptor(r,a){return r._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(r,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(r,a,o){return t[a]=o,delete r[a],!0}})}function Pg(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:i,isScriptable:zn(n)?n:()=>n,isIndexable:zn(i)?i:()=>i}}const B_=(t,e)=>t?t+Mu(e):e,Au=(t,e)=>Q(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function zg(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function V_(t,e,n){const{_proxy:i,_context:s,_subProxy:r,_descriptors:a}=t;let o=i[e];return zn(o)&&a.isScriptable(e)&&(o=$_(e,o,t,n)),_e(o)&&o.length&&(o=W_(e,o,t,a.isIndexable)),Au(e,o)&&(o=Hi(o,s,r&&r[e],a)),o}function $_(t,e,n,i){const{_proxy:s,_context:r,_subProxy:a,_stack:o}=n;if(o.has(t))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+t);o.add(t);let l=e(r,a||i);return o.delete(t),Au(t,l)&&(l=Ru(s._scopes,s,t,l)),l}function W_(t,e,n,i){const{_proxy:s,_context:r,_subProxy:a,_descriptors:o}=n;if(typeof r.index<"u"&&i(t))return e[r.index%e.length];if(Q(e[0])){const l=e,c=s._scopes.filter(u=>u!==l);e=[];for(const u of l){const f=Ru(c,s,t,u);e.push(Hi(f,r,a&&a[t],o))}}return e}function Ag(t,e,n){return zn(t)?t(e,n):t}const H_=(t,e)=>t===!0?e:typeof t=="string"?Ha(e,t):void 0;function U_(t,e,n,i,s){for(const r of e){const a=H_(n,r);if(a){t.add(a);const o=Ag(a._fallback,n,s);if(typeof o<"u"&&o!==n&&o!==i)return o}else if(a===!1&&typeof i<"u"&&n!==i)return null}return!1}function Ru(t,e,n,i){const s=e._rootScopes,r=Ag(e._fallback,n,i),a=[...t,...s],o=new Set;o.add(i);let l=yf(o,a,n,r||n,i);return l===null||typeof r<"u"&&r!==n&&(l=yf(o,a,r,l,i),l===null)?!1:zu(Array.from(o),[""],s,r,()=>K_(e,n,i))}function yf(t,e,n,i,s){for(;n;)n=U_(t,e,n,i,s);return n}function K_(t,e,n){const i=t._getTarget();e in i||(i[e]={});const s=i[e];return _e(s)&&Q(n)?n:s||{}}function Y_(t,e,n,i){let s;for(const r of e)if(s=Rg(B_(r,t),n),typeof s<"u")return Au(t,s)?Ru(n,i,t,s):s}function Rg(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function bf(t){let e=t._keys;return e||(e=t._keys=X_(t._scopes)),e}function X_(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(i);return Array.from(e)}const J_=Number.EPSILON||1e-14,Ui=(t,e)=>e<t.length&&!t[e].skip&&t[e],Fg=t=>t==="x"?"y":"x";function G_(t,e,n,i){const s=t.skip?e:t,r=e,a=n.skip?e:n,o=dc(r,s),l=dc(a,r);let c=o/(o+l),u=l/(o+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const f=i*c,h=i*u;return{previous:{x:r.x-f*(a.x-s.x),y:r.y-f*(a.y-s.y)},next:{x:r.x+h*(a.x-s.x),y:r.y+h*(a.y-s.y)}}}function q_(t,e,n){const i=t.length;let s,r,a,o,l,c=Ui(t,0);for(let u=0;u<i-1;++u)if(l=c,c=Ui(t,u+1),!(!l||!c)){if(Rs(e[u],0,J_)){n[u]=n[u+1]=0;continue}s=n[u]/e[u],r=n[u+1]/e[u],o=Math.pow(s,2)+Math.pow(r,2),!(o<=9)&&(a=3/Math.sqrt(o),n[u]=s*a*e[u],n[u+1]=r*a*e[u])}}function Q_(t,e,n="x"){const i=Fg(n),s=t.length;let r,a,o,l=Ui(t,0);for(let c=0;c<s;++c){if(a=o,o=l,l=Ui(t,c+1),!o)continue;const u=o[n],f=o[i];a&&(r=(u-a[n])/3,o[`cp1${n}`]=u-r,o[`cp1${i}`]=f-r*e[c]),l&&(r=(l[n]-u)/3,o[`cp2${n}`]=u+r,o[`cp2${i}`]=f+r*e[c])}}function Z_(t,e="x"){const n=Fg(e),i=t.length,s=Array(i).fill(0),r=Array(i);let a,o,l,c=Ui(t,0);for(a=0;a<i;++a)if(o=l,l=c,c=Ui(t,a+1),!!l){if(c){const u=c[e]-l[e];s[a]=u!==0?(c[n]-l[n])/u:0}r[a]=o?c?Wi(s[a-1])!==Wi(s[a])?0:(s[a-1]+s[a])/2:s[a-1]:s[a]}q_(t,s,r),Q_(t,r,e)}function Hr(t,e,n){return Math.max(Math.min(t,n),e)}function ew(t,e){let n,i,s,r,a,o=lr(t[0],e);for(n=0,i=t.length;n<i;++n)a=r,r=o,o=n<i-1&&lr(t[n+1],e),r&&(s=t[n],a&&(s.cp1x=Hr(s.cp1x,e.left,e.right),s.cp1y=Hr(s.cp1y,e.top,e.bottom)),o&&(s.cp2x=Hr(s.cp2x,e.left,e.right),s.cp2y=Hr(s.cp2y,e.top,e.bottom)))}function tw(t,e,n,i,s){let r,a,o,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")Z_(t,s);else{let c=i?t[t.length-1]:t[0];for(r=0,a=t.length;r<a;++r)o=t[r],l=G_(c,o,t[Math.min(r+1,a-(i?0:1))%a],e.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,c=o}e.capBezierPoints&&ew(t,n)}function Fu(){return typeof window<"u"&&typeof document<"u"}function Ou(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Ya(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const wo=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function nw(t,e){return wo(t).getPropertyValue(e)}const iw=["top","right","bottom","left"];function ti(t,e,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const r=iw[s];i[r]=parseFloat(t[e+"-"+r+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const sw=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function rw(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:s,offsetY:r}=i;let a=!1,o,l;if(sw(s,r,t.target))o=s,l=r;else{const c=e.getBoundingClientRect();o=i.clientX-c.left,l=i.clientY-c.top,a=!0}return{x:o,y:l,box:a}}function Kn(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,s=wo(n),r=s.boxSizing==="border-box",a=ti(s,"padding"),o=ti(s,"border","width"),{x:l,y:c,box:u}=rw(t,n),f=a.left+(u&&o.left),h=a.top+(u&&o.top);let{width:p,height:x}=e;return r&&(p-=a.width+o.width,x-=a.height+o.height),{x:Math.round((l-f)/p*n.width/i),y:Math.round((c-h)/x*n.height/i)}}function aw(t,e,n){let i,s;if(e===void 0||n===void 0){const r=t&&Ou(t);if(!r)e=t.clientWidth,n=t.clientHeight;else{const a=r.getBoundingClientRect(),o=wo(r),l=ti(o,"border","width"),c=ti(o,"padding");e=a.width-c.width-l.width,n=a.height-c.height-l.height,i=Ya(o.maxWidth,r,"clientWidth"),s=Ya(o.maxHeight,r,"clientHeight")}}return{width:e,height:n,maxWidth:i||Ka,maxHeight:s||Ka}}const Ur=t=>Math.round(t*10)/10;function ow(t,e,n,i){const s=wo(t),r=ti(s,"margin"),a=Ya(s.maxWidth,t,"clientWidth")||Ka,o=Ya(s.maxHeight,t,"clientHeight")||Ka,l=aw(t,e,n);let{width:c,height:u}=l;if(s.boxSizing==="content-box"){const h=ti(s,"border","width"),p=ti(s,"padding");c-=p.width+h.width,u-=p.height+h.height}return c=Math.max(0,c-r.width),u=Math.max(0,i?c/i:u-r.height),c=Ur(Math.min(c,a,l.maxWidth)),u=Ur(Math.min(u,o,l.maxHeight)),c&&!u&&(u=Ur(c/2)),(e!==void 0||n!==void 0)&&i&&l.height&&u>l.height&&(u=l.height,c=Ur(Math.floor(u*i))),{width:c,height:u}}function _f(t,e,n){const i=e||1,s=Math.floor(t.height*i),r=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||a.height!==s||a.width!==r?(t.currentDevicePixelRatio=i,a.height=s,a.width=r,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const lw=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Fu()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function wf(t,e){const n=nw(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Yn(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function cw(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function uw(t,e,n,i){const s={x:t.cp2x,y:t.cp2y},r={x:e.cp1x,y:e.cp1y},a=Yn(t,s,n),o=Yn(s,r,n),l=Yn(r,e,n),c=Yn(a,o,n),u=Yn(o,l,n);return Yn(c,u,n)}const dw=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},fw=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Ai(t,e,n){return t?dw(e,n):fw()}function Og(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function Ig(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Dg(t){return t==="angle"?{between:Ng,compare:c_,normalize:dn}:{between:ys,compare:(e,n)=>e-n,normalize:e=>e}}function Nf({start:t,end:e,count:n,loop:i,style:s}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:s}}function hw(t,e,n){const{property:i,start:s,end:r}=n,{between:a,normalize:o}=Dg(i),l=e.length;let{start:c,end:u,loop:f}=t,h,p;if(f){for(c+=l,u+=l,h=0,p=l;h<p&&a(o(e[c%l][i]),s,r);++h)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:f,style:t.style}}function mw(t,e,n){if(!n)return[t];const{property:i,start:s,end:r}=n,a=e.length,{compare:o,between:l,normalize:c}=Dg(i),{start:u,end:f,loop:h,style:p}=hw(t,e,n),x=[];let m=!1,y=null,g,v,b;const _=()=>l(s,b,g)&&o(s,b)!==0,N=()=>o(r,g)===0||l(r,b,g),w=()=>m||_(),j=()=>!m||N();for(let S=u,k=u;S<=f;++S)v=e[S%a],!v.skip&&(g=c(v[i]),g!==b&&(m=l(g,s,r),y===null&&w()&&(y=o(g,s)===0?S:k),y!==null&&j()&&(x.push(Nf({start:y,end:S,loop:h,count:a,style:p})),y=null),k=S,b=g));return y!==null&&x.push(Nf({start:y,end:f,loop:h,count:a,style:p})),x}function pw(t,e){const n=[],i=t.segments;for(let s=0;s<i.length;s++){const r=mw(i[s],t.points,e);r.length&&n.push(...r)}return n}function gw(t,e,n,i){let s=0,r=e-1;if(n&&!i)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(r+=s);r>s&&t[r%e].skip;)r--;return r%=e,{start:s,end:r}}function xw(t,e,n,i){const s=t.length,r=[];let a=e,o=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%s];c.skip||c.stop?o.skip||(i=!1,r.push({start:e%s,end:(l-1)%s,loop:i}),e=a=c.stop?l:null):(a=l,o.skip&&(e=l)),o=c}return a!==null&&r.push({start:e%s,end:a%s,loop:i}),r}function vw(t,e){const n=t.points,i=t.options.spanGaps,s=n.length;if(!s)return[];const r=!!t._loop,{start:a,end:o}=gw(n,s,r,i);if(i===!0)return Sf(t,[{start:a,end:o,loop:r}],n,e);const l=o<a?o+s:o,c=!!t._fullLoop&&a===0&&o===s-1;return Sf(t,xw(n,a,l,c),n,e)}function Sf(t,e,n,i){return!i||!i.setContext||!n?e:yw(t,e,n,i)}function yw(t,e,n,i){const s=t._chart.getContext(),r=jf(t.options),{_datasetIndex:a,options:{spanGaps:o}}=t,l=n.length,c=[];let u=r,f=e[0].start,h=f;function p(x,m,y,g){const v=o?-1:1;if(x!==m){for(x+=l;n[x%l].skip;)x-=v;for(;n[m%l].skip;)m+=v;x%l!==m%l&&(c.push({start:x%l,end:m%l,loop:y,style:g}),u=g,f=m%l)}}for(const x of e){f=o?f:x.start;let m=n[f%l],y;for(h=f+1;h<=x.end;h++){const g=n[h%l];y=jf(i.setContext(ui(s,{type:"segment",p0:m,p1:g,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:a}))),bw(y,u)&&p(f,h-1,x.loop,u),m=g,u=y}f<h-1&&p(f,h-1,x.loop,u)}return c}function jf(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function bw(t,e){if(!e)return!1;const n=[],i=function(s,r){return Eu(r)?(n.includes(r)||n.push(r),n.indexOf(r)):r};return JSON.stringify(t,i)!==JSON.stringify(e,i)}function Kr(t,e,n){return t.options.clip?t[n]:e[n]}function _w(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:Kr(n,e,"left"),right:Kr(n,e,"right"),top:Kr(i,e,"top"),bottom:Kr(i,e,"bottom")}:e}function ww(t,e){const n=e._clip;if(n.disabled)return!1;const i=_w(e,t.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:i.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Nw{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,s){const r=n.listeners[s],a=n.duration;r.forEach(o=>o({chart:e,initial:n.initial,numSteps:a,currentStep:Math.min(i-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=jg.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const r=i.items;let a=r.length-1,o=!1,l;for(;a>=0;--a)l=r[a],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),o=!0):(r[a]=r[r.length-1],r.pop());o&&(s.draw(),this._notify(s,i,e,"progress")),r.length||(i.running=!1,this._notify(s,i,e,"complete"),i.initial=!1),n+=r.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Bt=new Nw;const Mf="transparent",Sw={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=pf(t||Mf),s=i.valid&&pf(e||Mf);return s&&s.valid?s.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class jw{constructor(e,n,i,s){const r=n[i];s=bs([e.to,s,r,e.from]);const a=bs([e.from,r,s]);this._active=!0,this._fn=e.fn||Sw[e.type||typeof a],this._easing=Fs[e.easing]||Fs.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=a,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],r=i-this._start,a=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=bs([e.to,n,s,e.from]),this._from=bs([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,s=this._prop,r=this._from,a=this._loop,o=this._to;let l;if(this._active=r!==o&&(a||n<i),!this._active){this._target[s]=o,this._notify(!0);return}if(n<0){this._target[s]=r;return}l=n/i%2,l=a&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(r,o,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}class Lg{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Q(e))return;const n=Object.keys(pe.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const r=e[s];if(!Q(r))return;const a={};for(const o of n)a[o]=r[o];(_e(r.properties)&&r.properties||[s]).forEach(o=>{(o===s||!i.has(o))&&i.set(o,a)})})}_animateOptions(e,n){const i=n.options,s=kw(e,i);if(!s)return[];const r=this._createAnimations(s,i);return i.$shared&&Mw(e.options.$animations,i).then(()=>{e.options=i},()=>{}),r}_createAnimations(e,n){const i=this._properties,s=[],r=e.$animations||(e.$animations={}),a=Object.keys(n),o=Date.now();let l;for(l=a.length-1;l>=0;--l){const c=a[l];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(e,n));continue}const u=n[c];let f=r[c];const h=i.get(c);if(f)if(h&&f.active()){f.update(h,u,o);continue}else f.cancel();if(!h||!h.duration){e[c]=u;continue}r[c]=f=new jw(h,e,c,u),s.push(f)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return Bt.add(this._chart,i),!0}}function Mw(t,e){const n=[],i=Object.keys(e);for(let s=0;s<i.length;s++){const r=t[i[s]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function kw(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function kf(t,e){const n=t&&t.options||{},i=n.reverse,s=n.min===void 0?e:0,r=n.max===void 0?e:0;return{start:i?r:s,end:i?s:r}}function Cw(t,e,n){if(n===!1)return!1;const i=kf(t,n),s=kf(e,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function Ew(t){let e,n,i,s;return Q(t)?(e=t.top,n=t.right,i=t.bottom,s=t.left):e=n=i=s=t,{top:e,right:n,bottom:i,left:s,disabled:t===!1}}function Bg(t,e){const n=[],i=t._getSortedDatasetMetas(e);let s,r;for(s=0,r=i.length;s<r;++s)n.push(i[s].index);return n}function Cf(t,e,n,i={}){const s=t.keys,r=i.mode==="single";let a,o,l,c;if(e===null)return;let u=!1;for(a=0,o=s.length;a<o;++a){if(l=+s[a],l===n){if(u=!0,i.all)continue;break}c=t.values[l],mt(c)&&(r||e===0||Wi(e)===Wi(c))&&(e+=c)}return!u&&!i.all?0:e}function Tw(t,e){const{iScale:n,vScale:i}=e,s=n.axis==="x"?"x":"y",r=i.axis==="x"?"x":"y",a=Object.keys(t),o=new Array(a.length);let l,c,u;for(l=0,c=a.length;l<c;++l)u=a[l],o[l]={[s]:u,[r]:t[u]};return o}function il(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function Pw(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function zw(t){const{min:e,max:n,minDefined:i,maxDefined:s}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function Aw(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function Ef(t,e,n,i){for(const s of e.getMatchingVisibleMetas(i).reverse()){const r=t[s.index];if(n&&r>0||!n&&r<0)return s.index}return null}function Tf(t,e){const{chart:n,_cachedMeta:i}=t,s=n._stacks||(n._stacks={}),{iScale:r,vScale:a,index:o}=i,l=r.axis,c=a.axis,u=Pw(r,a,i),f=e.length;let h;for(let p=0;p<f;++p){const x=e[p],{[l]:m,[c]:y}=x,g=x._stacks||(x._stacks={});h=g[c]=Aw(s,u,m),h[o]=y,h._top=Ef(h,a,!0,i.type),h._bottom=Ef(h,a,!1,i.type);const v=h._visualValues||(h._visualValues={});v[o]=y}}function sl(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function Rw(t,e){return ui(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Fw(t,e,n){return ui(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function ls(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const s of e){const r=s._stacks;if(!r||r[i]===void 0||r[i][n]===void 0)return;delete r[i][n],r[i]._visualValues!==void 0&&r[i]._visualValues[n]!==void 0&&delete r[i]._visualValues[n]}}}const rl=t=>t==="reset"||t==="none",Pf=(t,e)=>e?t:Object.assign({},t),Ow=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:Bg(n,!0),values:null};class Ds{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=il(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&ls(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(f,h,p,x)=>f==="x"?h:f==="r"?x:p,r=n.xAxisID=K(i.xAxisID,sl(e,"x")),a=n.yAxisID=K(i.yAxisID,sl(e,"y")),o=n.rAxisID=K(i.rAxisID,sl(e,"r")),l=n.indexAxis,c=n.iAxisID=s(l,r,a,o),u=n.vAxisID=s(l,a,r,o);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(o),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&ff(this._data,this),e._stacked&&ls(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(Q(n)){const s=this._cachedMeta;this._data=Tw(n,s)}else if(i!==n){if(i){ff(i,this);const s=this._cachedMeta;ls(s),s._parsed=[]}n&&Object.isExtensible(n)&&h_(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const r=n._stacked;n._stacked=il(n.vScale,n),n.stack!==i.stack&&(s=!0,ls(n),n.stack=i.stack),this._resyncElements(e),(s||r!==n._stacked)&&(Tf(this,n._parsed),n._stacked=il(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:s}=this,{iScale:r,_stacked:a}=i,o=r.axis;let l=e===0&&n===s.length?!0:i._sorted,c=e>0&&i._parsed[e-1],u,f,h;if(this._parsing===!1)i._parsed=s,i._sorted=!0,h=s;else{_e(s[e])?h=this.parseArrayData(i,s,e,n):Q(s[e])?h=this.parseObjectData(i,s,e,n):h=this.parsePrimitiveData(i,s,e,n);const p=()=>f[o]===null||c&&f[o]<c[o];for(u=0;u<n;++u)i._parsed[u+e]=f=h[u],l&&(p()&&(l=!1),c=f);i._sorted=l}a&&Tf(this,h)}parsePrimitiveData(e,n,i,s){const{iScale:r,vScale:a}=e,o=r.axis,l=a.axis,c=r.getLabels(),u=r===a,f=new Array(s);let h,p,x;for(h=0,p=s;h<p;++h)x=h+i,f[h]={[o]:u||r.parse(c[x],x),[l]:a.parse(n[x],x)};return f}parseArrayData(e,n,i,s){const{xScale:r,yScale:a}=e,o=new Array(s);let l,c,u,f;for(l=0,c=s;l<c;++l)u=l+i,f=n[u],o[l]={x:r.parse(f[0],u),y:a.parse(f[1],u)};return o}parseObjectData(e,n,i,s){const{xScale:r,yScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=new Array(s);let u,f,h,p;for(u=0,f=s;u<f;++u)h=u+i,p=n[h],c[u]={x:r.parse(Ha(p,o),h),y:a.parse(Ha(p,l),h)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const s=this.chart,r=this._cachedMeta,a=n[e.axis],o={keys:Bg(s,!0),values:n._stacks[e.axis]._visualValues};return Cf(o,a,r.index,{mode:i})}updateRangeFromParsed(e,n,i,s){const r=i[n.axis];let a=r===null?NaN:r;const o=s&&i._stacks[n.axis];s&&o&&(s.values=o,a=Cf(s,r,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){const i=this._cachedMeta,s=i._parsed,r=i._sorted&&e===i.iScale,a=s.length,o=this._getOtherScale(e),l=Ow(n,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:f}=zw(o);let h,p;function x(){p=s[h];const m=p[o.axis];return!mt(p[e.axis])||u>m||f<m}for(h=0;h<a&&!(!x()&&(this.updateRangeFromParsed(c,e,p,l),r));++h);if(r){for(h=a-1;h>=0;--h)if(!x()){this.updateRangeFromParsed(c,e,p,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let s,r,a;for(s=0,r=n.length;s<r;++s)a=n[s][e.axis],mt(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,s=n.vScale,r=this.getParsed(e);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=Ew(K(this.options.clip,Cw(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],r=n.chartArea,a=[],o=this._drawStart||0,l=this._drawCount||s.length-o,c=this.options.drawActiveElementsOnTop;let u;for(i.dataset&&i.dataset.draw(e,r,o,l),u=o;u<o+l;++u){const f=s[u];f.hidden||(f.active&&c?a.push(f):f.draw(e,r))}for(u=0;u<a.length;++u)a[u].draw(e,r)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const s=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];r=a.$context||(a.$context=Fw(this.getContext(),e,a)),r.parsed=this.getParsed(e),r.raw=s.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=Rw(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=i,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const s=n==="active",r=this._cachedDataOpts,a=e+"-"+n,o=r[a],l=this.enableOptionSharing&&Ua(i);if(o)return Pf(o,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),f=s?[`${e}Hover`,"hover",e,""]:[e,""],h=c.getOptionScopes(this.getDataset(),u),p=Object.keys(pe.elements[e]),x=()=>this.getContext(i,s,n),m=c.resolveNamedOptions(h,p,x,f);return m.$shared&&(m.$shared=l,r[a]=Object.freeze(Pf(m,l))),m}_resolveAnimations(e,n,i){const s=this.chart,r=this._cachedDataOpts,a=`animation-${n}`,o=r[a];if(o)return o;let l;if(s.options.animation!==!1){const u=this.chart.config,f=u.datasetAnimationScopeKeys(this._type,n),h=u.getOptionScopes(this.getDataset(),f);l=u.createResolver(h,this.getContext(e,i,n))}const c=new Lg(s,l&&l.animations);return l&&l._cacheable&&(r[a]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||rl(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),s=this._sharedOptions,r=this.getSharedOptions(i),a=this.includeOptions(n,r)||r!==s;return this.updateSharedOptions(r,n,i),{sharedOptions:r,includeOptions:a}}updateElement(e,n,i,s){rl(s)?Object.assign(e,i):this._resolveAnimations(n,s).update(e,i)}updateSharedOptions(e,n,i){e&&!rl(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,s){e.active=s;const r=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(e,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[o,l,c]of this._syncList)this[o](l,c);this._syncList=[];const s=i.length,r=n.length,a=Math.min(r,s);a&&this.parse(0,a),r>s?this._insertElements(s,r-s,e):r<s&&this._removeElements(r,s-r)}_insertElements(e,n,i=!0){const s=this._cachedMeta,r=s.data,a=e+n;let o;const l=c=>{for(c.length+=n,o=c.length-1;o>=a;o--)c[o]=c[o-n]};for(l(r),o=e;o<a;++o)r[o]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(e,n),i&&this.updateElements(r,e,n,"reset")}updateElements(e,n,i,s){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(e,n);i._stacked&&ls(i,s)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,s]=e;this[n](i,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}$(Ds,"defaults",{}),$(Ds,"datasetElementType",null),$(Ds,"dataElementType",null);class fa extends Ds{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:i,data:s=[],_dataset:r}=n,a=this.chart._animationsDisabled;let{start:o,count:l}=x_(n,s,a);this._drawStart=o,this._drawCount=l,v_(n)&&(o=0,l=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!r._decimated,i.points=s;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!a,options:c},e),this.updateElements(s,o,l,e)}updateElements(e,n,i,s){const r=s==="reset",{iScale:a,vScale:o,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:f}=this._getSharedOptions(n,s),h=a.axis,p=o.axis,{spanGaps:x,segment:m}=this.options,y=or(x)?x:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||r||s==="none",v=n+i,b=e.length;let _=n>0&&this.getParsed(n-1);for(let N=0;N<b;++N){const w=e[N],j=g?w:{};if(N<n||N>=v){j.skip=!0;continue}const S=this.getParsed(N),k=ee(S[p]),C=j[h]=a.getPixelForValue(S[h],N),z=j[p]=r||k?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,S,l):S[p],N);j.skip=isNaN(C)||isNaN(z)||k,j.stop=N>0&&Math.abs(S[h]-_[h])>y,m&&(j.parsed=S,j.raw=c.data[N]),f&&(j.options=u||this.resolveDataElementOptions(N,w.active?"active":s)),g||this.updateElement(w,N,j,s),_=S}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return i;const r=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,r,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}$(fa,"id","line"),$(fa,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),$(fa,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function $n(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Iu{constructor(e){$(this,"options");this.options=e||{}}static override(e){Object.assign(Iu.prototype,e)}init(){}formats(){return $n()}parse(){return $n()}format(){return $n()}add(){return $n()}diff(){return $n()}startOf(){return $n()}endOf(){return $n()}}var Iw={_date:Iu};function Dw(t,e,n,i){const{controller:s,data:r,_sorted:a}=t,o=s._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(o&&e===o.axis&&e!=="r"&&a&&r.length){const c=o._reversePixels?d_:Xt;if(i){if(s._sharedOptions){const u=r[0],f=typeof u.getRange=="function"&&u.getRange(e);if(f){const h=c(r,e,n-f),p=c(r,e,n+f);return{lo:h.lo,hi:p.hi}}}}else{const u=c(r,e,n);if(l){const{vScale:f}=s._cachedMeta,{_parsed:h}=t,p=h.slice(0,u.lo+1).reverse().findIndex(m=>!ee(m[f.axis]));u.lo-=Math.max(0,p);const x=h.slice(u.hi).findIndex(m=>!ee(m[f.axis]));u.hi+=Math.max(0,x)}return u}}return{lo:0,hi:r.length-1}}function No(t,e,n,i,s){const r=t.getSortedVisibleDatasetMetas(),a=n[e];for(let o=0,l=r.length;o<l;++o){const{index:c,data:u}=r[o],{lo:f,hi:h}=Dw(r[o],e,a,s);for(let p=f;p<=h;++p){const x=u[p];x.skip||i(x,c,p)}}}function Lw(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,s){const r=e?Math.abs(i.x-s.x):0,a=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(a,2))}}function al(t,e,n,i,s){const r=[];return!s&&!t.isPointInArea(e)||No(t,n,e,function(o,l,c){!s&&!lr(o,t.chartArea,0)||o.inRange(e.x,e.y,i)&&r.push({element:o,datasetIndex:l,index:c})},!0),r}function Bw(t,e,n,i){let s=[];function r(a,o,l){const{startAngle:c,endAngle:u}=a.getProps(["startAngle","endAngle"],i),{angle:f}=l_(a,{x:e.x,y:e.y});Ng(f,c,u)&&s.push({element:a,datasetIndex:o,index:l})}return No(t,n,e,r),s}function Vw(t,e,n,i,s,r){let a=[];const o=Lw(n);let l=Number.POSITIVE_INFINITY;function c(u,f,h){const p=u.inRange(e.x,e.y,s);if(i&&!p)return;const x=u.getCenterPoint(s);if(!(!!r||t.isPointInArea(x))&&!p)return;const y=o(e,x);y<l?(a=[{element:u,datasetIndex:f,index:h}],l=y):y===l&&a.push({element:u,datasetIndex:f,index:h})}return No(t,n,e,c),a}function ol(t,e,n,i,s,r){return!r&&!t.isPointInArea(e)?[]:n==="r"&&!i?Bw(t,e,n,s):Vw(t,e,n,i,s,r)}function zf(t,e,n,i,s){const r=[],a=n==="x"?"inXRange":"inYRange";let o=!1;return No(t,n,e,(l,c,u)=>{l[a]&&l[a](e[n],s)&&(r.push({element:l,datasetIndex:c,index:u}),o=o||l.inRange(e.x,e.y,s))}),i&&!o?[]:r}var $w={modes:{index(t,e,n,i){const s=Kn(e,t),r=n.axis||"x",a=n.includeInvisible||!1,o=n.intersect?al(t,s,r,i,a):ol(t,s,r,!1,i,a),l=[];return o.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=o[0].index,f=c.data[u];f&&!f.skip&&l.push({element:f,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,i){const s=Kn(e,t),r=n.axis||"xy",a=n.includeInvisible||!1;let o=n.intersect?al(t,s,r,i,a):ol(t,s,r,!1,i,a);if(o.length>0){const l=o[0].datasetIndex,c=t.getDatasetMeta(l).data;o=[];for(let u=0;u<c.length;++u)o.push({element:c[u],datasetIndex:l,index:u})}return o},point(t,e,n,i){const s=Kn(e,t),r=n.axis||"xy",a=n.includeInvisible||!1;return al(t,s,r,i,a)},nearest(t,e,n,i){const s=Kn(e,t),r=n.axis||"xy",a=n.includeInvisible||!1;return ol(t,s,r,n.intersect,i,a)},x(t,e,n,i){const s=Kn(e,t);return zf(t,s,"x",n.intersect,i)},y(t,e,n,i){const s=Kn(e,t);return zf(t,s,"y",n.intersect,i)}}};const Vg=["left","top","right","bottom"];function cs(t,e){return t.filter(n=>n.pos===e)}function Af(t,e){return t.filter(n=>Vg.indexOf(n.pos)===-1&&n.box.axis===e)}function us(t,e){return t.sort((n,i)=>{const s=e?i:n,r=e?n:i;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function Ww(t){const e=[];let n,i,s,r,a,o;for(n=0,i=(t||[]).length;n<i;++n)s=t[n],{position:r,options:{stack:a,stackWeight:o=1}}=s,e.push({index:n,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:a&&r+a,stackWeight:o});return e}function Hw(t){const e={};for(const n of t){const{stack:i,pos:s,stackWeight:r}=n;if(!i||!Vg.includes(s))continue;const a=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=r}return e}function Uw(t,e){const n=Hw(t),{vBoxMaxWidth:i,hBoxMaxHeight:s}=e;let r,a,o;for(r=0,a=t.length;r<a;++r){o=t[r];const{fullSize:l}=o.box,c=n[o.stack],u=c&&o.stackWeight/c.weight;o.horizontal?(o.width=u?u*i:l&&e.availableWidth,o.height=s):(o.width=i,o.height=u?u*s:l&&e.availableHeight)}return n}function Kw(t){const e=Ww(t),n=us(e.filter(c=>c.box.fullSize),!0),i=us(cs(e,"left"),!0),s=us(cs(e,"right")),r=us(cs(e,"top"),!0),a=us(cs(e,"bottom")),o=Af(e,"x"),l=Af(e,"y");return{fullSize:n,leftAndTop:i.concat(r),rightAndBottom:s.concat(l).concat(a).concat(o),chartArea:cs(e,"chartArea"),vertical:i.concat(s).concat(l),horizontal:r.concat(a).concat(o)}}function Rf(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function $g(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Yw(t,e,n,i){const{pos:s,box:r}=n,a=t.maxPadding;if(!Q(s)){n.size&&(t[s]-=n.size);const f=i[n.stack]||{size:0,count:1};f.size=Math.max(f.size,n.horizontal?r.height:r.width),n.size=f.size/f.count,t[s]+=n.size}r.getPadding&&$g(a,r.getPadding());const o=Math.max(0,e.outerWidth-Rf(a,t,"left","right")),l=Math.max(0,e.outerHeight-Rf(a,t,"top","bottom")),c=o!==t.w,u=l!==t.h;return t.w=o,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function Xw(t){const e=t.maxPadding;function n(i){const s=Math.max(e[i]-t[i],0);return t[i]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function Jw(t,e){const n=e.maxPadding;function i(s){const r={left:0,top:0,right:0,bottom:0};return s.forEach(a=>{r[a]=Math.max(e[a],n[a])}),r}return i(t?["left","right"]:["top","bottom"])}function _s(t,e,n,i){const s=[];let r,a,o,l,c,u;for(r=0,a=t.length,c=0;r<a;++r){o=t[r],l=o.box,l.update(o.width||e.w,o.height||e.h,Jw(o.horizontal,e));const{same:f,other:h}=Yw(e,n,o,i);c|=f&&s.length,u=u||h,l.fullSize||s.push(o)}return c&&_s(s,e,n,i)||u}function Yr(t,e,n,i,s){t.top=n,t.left=e,t.right=e+i,t.bottom=n+s,t.width=i,t.height=s}function Ff(t,e,n,i){const s=n.padding;let{x:r,y:a}=e;for(const o of t){const l=o.box,c=i[o.stack]||{placed:0,weight:1},u=o.stackWeight/c.weight||1;if(o.horizontal){const f=e.w*u,h=c.size||l.height;Ua(c.start)&&(a=c.start),l.fullSize?Yr(l,s.left,a,n.outerWidth-s.right-s.left,h):Yr(l,e.left+c.placed,a,f,h),c.start=a,c.placed+=f,a=l.bottom}else{const f=e.h*u,h=c.size||l.width;Ua(c.start)&&(r=c.start),l.fullSize?Yr(l,r,s.top,h,n.outerHeight-s.bottom-s.top):Yr(l,r,e.top+c.placed,h,f),c.start=r,c.placed+=f,r=l.right}}e.x=r,e.y=a}var ut={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const s=pt(t.options.layout.padding),r=Math.max(e-s.width,0),a=Math.max(n-s.height,0),o=Kw(t.boxes),l=o.vertical,c=o.horizontal;Z(t.boxes,m=>{typeof m.beforeLayout=="function"&&m.beforeLayout()});const u=l.reduce((m,y)=>y.box.options&&y.box.options.display===!1?m:m+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:r,availableHeight:a,vBoxMaxWidth:r/2/u,hBoxMaxHeight:a/2}),h=Object.assign({},s);$g(h,pt(i));const p=Object.assign({maxPadding:h,w:r,h:a,x:s.left,y:s.top},s),x=Uw(l.concat(c),f);_s(o.fullSize,p,f,x),_s(l,p,f,x),_s(c,p,f,x)&&_s(l,p,f,x),Xw(p),Ff(o.leftAndTop,p,f,x),p.x+=p.w,p.y+=p.h,Ff(o.rightAndBottom,p,f,x),t.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},Z(o.chartArea,m=>{const y=m.box;Object.assign(y,t.chartArea),y.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class Wg{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,s){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(e){return!0}updateConfig(e){}}class Gw extends Wg{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const ha="$chartjs",qw={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Of=t=>t===null||t==="";function Qw(t,e){const n=t.style,i=t.getAttribute("height"),s=t.getAttribute("width");if(t[ha]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Of(s)){const r=wf(t,"width");r!==void 0&&(t.width=r)}if(Of(i))if(t.style.height==="")t.height=t.width/(e||2);else{const r=wf(t,"height");r!==void 0&&(t.height=r)}return t}const Hg=lw?{passive:!0}:!1;function Zw(t,e,n){t&&t.addEventListener(e,n,Hg)}function e1(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,Hg)}function t1(t,e){const n=qw[t.type]||t.type,{x:i,y:s}=Kn(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:s!==void 0?s:null}}function Xa(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function n1(t,e,n){const i=t.canvas,s=new MutationObserver(r=>{let a=!1;for(const o of r)a=a||Xa(o.addedNodes,i),a=a&&!Xa(o.removedNodes,i);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function i1(t,e,n){const i=t.canvas,s=new MutationObserver(r=>{let a=!1;for(const o of r)a=a||Xa(o.removedNodes,i),a=a&&!Xa(o.addedNodes,i);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const ur=new Map;let If=0;function Ug(){const t=window.devicePixelRatio;t!==If&&(If=t,ur.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function s1(t,e){ur.size||window.addEventListener("resize",Ug),ur.set(t,e)}function r1(t){ur.delete(t),ur.size||window.removeEventListener("resize",Ug)}function a1(t,e,n){const i=t.canvas,s=i&&Ou(i);if(!s)return;const r=Mg((o,l)=>{const c=s.clientWidth;n(o,l),c<s.clientWidth&&n()},window),a=new ResizeObserver(o=>{const l=o[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||r(c,u)});return a.observe(s),s1(t,r),a}function ll(t,e,n){n&&n.disconnect(),e==="resize"&&r1(t)}function o1(t,e,n){const i=t.canvas,s=Mg(r=>{t.ctx!==null&&n(t1(r,t))},t);return Zw(i,e,s),s}class l1 extends Wg{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(Qw(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[ha])return!1;const i=n[ha].initial;["height","width"].forEach(r=>{const a=i[r];ee(a)?n.removeAttribute(r):n.setAttribute(r,a)});const s=i.style||{};return Object.keys(s).forEach(r=>{n.style[r]=s[r]}),n.width=n.width,delete n[ha],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),a={attach:n1,detach:i1,resize:a1}[n]||o1;s[n]=a(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),s=i[n];if(!s)return;({attach:ll,detach:ll,resize:ll}[n]||e1)(e,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,s){return ow(e,n,i,s)}isAttached(e){const n=e&&Ou(e);return!!(n&&n.isConnected)}}function c1(t){return!Fu()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?Gw:l1}class nn{constructor(){$(this,"x");$(this,"y");$(this,"active",!1);$(this,"options");$(this,"$animations")}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return or(this.x)&&or(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const s={};return e.forEach(r=>{s[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),s}}$(nn,"defaults",{}),$(nn,"defaultRoutes");function u1(t,e){const n=t.options.ticks,i=d1(t),s=Math.min(n.maxTicksLimit||i,i),r=n.major.enabled?h1(e):[],a=r.length,o=r[0],l=r[a-1],c=[];if(a>s)return m1(e,c,r,a/s),c;const u=f1(r,e,s);if(a>0){let f,h;const p=a>1?Math.round((l-o)/(a-1)):null;for(Xr(e,c,u,ee(p)?0:o-p,o),f=0,h=a-1;f<h;f++)Xr(e,c,u,r[f],r[f+1]);return Xr(e,c,u,l,ee(p)?e.length:l+p),c}return Xr(e,c,u),c}function d1(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(i,s))}function f1(t,e,n){const i=p1(t),s=e.length/n;if(!i)return Math.max(s,1);const r=i_(i);for(let a=0,o=r.length-1;a<o;a++){const l=r[a];if(l>s)return l}return Math.max(s,1)}function h1(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function m1(t,e,n,i){let s=0,r=n[0],a;for(i=Math.ceil(i),a=0;a<t.length;a++)a===r&&(e.push(t[a]),s++,r=n[s*i])}function Xr(t,e,n,i,s){const r=K(i,0),a=Math.min(K(s,t.length),t.length);let o=0,l,c,u;for(n=Math.ceil(n),s&&(l=s-i,n=l/Math.floor(l/n)),u=r;u<0;)o++,u=Math.round(r+o*n);for(c=Math.max(r,0);c<a;c++)c===u&&(e.push(t[c]),o++,u=Math.round(r+o*n))}function p1(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const g1=t=>t==="left"?"right":t==="right"?"left":t,Df=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,Lf=(t,e)=>Math.min(e||t,t);function Bf(t,e){const n=[],i=t.length/e,s=t.length;let r=0;for(;r<s;r+=i)n.push(t[Math.floor(r)]);return n}function x1(t,e,n){const i=t.ticks.length,s=Math.min(e,i-1),r=t._startPixel,a=t._endPixel,o=1e-6;let l=t.getPixelForTick(s),c;if(!(n&&(i===1?c=Math.max(l-r,a-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(s-1))/2,l+=s<e?c:-c,l<r-o||l>a+o)))return l}function v1(t,e){Z(t,n=>{const i=n.gc,s=i.length/2;let r;if(s>e){for(r=0;r<s;++r)delete n.data[i[r]];i.splice(0,s)}})}function ds(t){return t.drawTicks?t.tickLength:0}function Vf(t,e){if(!t.display)return 0;const n=Fe(t.font,e),i=pt(t.padding);return(_e(t.text)?t.text.length:1)*n.lineHeight+i.height}function y1(t,e){return ui(t,{scale:e,type:"scale"})}function b1(t,e,n){return ui(t,{tick:n,index:e,type:"tick"})}function _1(t,e,n){let i=Cu(t);return(n&&e!=="right"||!n&&e==="right")&&(i=g1(i)),i}function w1(t,e,n,i){const{top:s,left:r,bottom:a,right:o,chart:l}=t,{chartArea:c,scales:u}=l;let f=0,h,p,x;const m=a-s,y=o-r;if(t.isHorizontal()){if(p=Ae(i,r,o),Q(n)){const g=Object.keys(n)[0],v=n[g];x=u[g].getPixelForValue(v)+m-e}else n==="center"?x=(c.bottom+c.top)/2+m-e:x=Df(t,n,e);h=o-r}else{if(Q(n)){const g=Object.keys(n)[0],v=n[g];p=u[g].getPixelForValue(v)-y+e}else n==="center"?p=(c.left+c.right)/2-y+e:p=Df(t,n,e);x=Ae(i,a,s),f=n==="left"?-_t:_t}return{titleX:p,titleY:x,maxWidth:h,rotation:f}}class Qi extends nn{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return e=Ct(e,Number.POSITIVE_INFINITY),n=Ct(n,Number.NEGATIVE_INFINITY),i=Ct(i,Number.POSITIVE_INFINITY),s=Ct(s,Number.NEGATIVE_INFINITY),{min:Ct(e,i),max:Ct(n,s),minDefined:mt(e),maxDefined:mt(n)}}getMinMax(e){let{min:n,max:i,minDefined:s,maxDefined:r}=this.getUserBounds(),a;if(s&&r)return{min:n,max:i};const o=this.getMatchingVisibleMetas();for(let l=0,c=o.length;l<c;++l)a=o[l].controller.getMinMax(this,e),s||(n=Math.min(n,a.min)),r||(i=Math.max(i,a.max));return n=r&&n>i?i:n,i=s&&n>i?n:i,{min:Ct(n,Ct(i,n)),max:Ct(i,Ct(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){re(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:s,grace:r,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=L_(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=o<this.ticks.length;this._convertTicksToLabels(l?Bf(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=u1(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){re(this.options.afterUpdate,[this])}beforeSetDimensions(){re(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){re(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),re(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){re(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,s,r;for(i=0,s=e.length;i<s;i++)r=e[i],r.label=re(n.callback,[r.value,i,e],this)}afterTickToLabelConversion(){re(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){re(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=Lf(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,r=n.maxRotation;let a=s,o,l,c;if(!this._isVisible()||!n.display||s>=r||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const u=this._getLabelSizes(),f=u.widest.width,h=u.highest.height,p=Ye(this.chart.width-f,0,this.maxWidth);o=e.offset?this.maxWidth/i:p/(i-1),f+6>o&&(o=p/(i-(e.offset?.5:1)),l=this.maxHeight-ds(e.grid)-n.padding-Vf(e.title,this.chart.options.font),c=Math.sqrt(f*f+h*h),a=o_(Math.min(Math.asin(Ye((u.highest.height+6)/o,-1,1)),Math.asin(Ye(l/c,-1,1))-Math.asin(Ye(h/c,-1,1)))),a=Math.max(s,Math.min(r,a))),this.labelRotation=a}afterCalculateLabelRotation(){re(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){re(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:r}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const l=Vf(s,n.options.font);if(o?(e.width=this.maxWidth,e.height=ds(r)+l):(e.height=this.maxHeight,e.width=ds(r)+l),i.display&&this.ticks.length){const{first:c,last:u,widest:f,highest:h}=this._getLabelSizes(),p=i.padding*2,x=Qn(this.labelRotation),m=Math.cos(x),y=Math.sin(x);if(o){const g=i.mirror?0:y*f.width+m*h.height;e.height=Math.min(this.maxHeight,e.height+g+p)}else{const g=i.mirror?0:m*f.width+y*h.height;e.width=Math.min(this.maxWidth,e.width+g+p)}this._calculatePadding(c,u,y,m)}}this._handleMargins(),o?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,s){const{ticks:{align:r,padding:a},position:o}=this.options,l=this.labelRotation!==0,c=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,p=0;l?c?(h=s*e.width,p=i*n.height):(h=i*e.height,p=s*n.width):r==="start"?p=n.width:r==="end"?h=e.width:r!=="inner"&&(h=e.width/2,p=n.width/2),this.paddingLeft=Math.max((h-u+a)*this.width/(this.width-u),0),this.paddingRight=Math.max((p-f+a)*this.width/(this.width-f),0)}else{let u=n.height/2,f=e.height/2;r==="start"?(u=0,f=e.height):r==="end"&&(u=n.height,f=0),this.paddingTop=u+a,this.paddingBottom=f+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){re(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)ee(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=Bf(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:s,_longestTextCache:r}=this,a=[],o=[],l=Math.floor(n/Lf(n,i));let c=0,u=0,f,h,p,x,m,y,g,v,b,_,N;for(f=0;f<n;f+=l){if(x=e[f].label,m=this._resolveTickFontOptions(f),s.font=y=m.string,g=r[y]=r[y]||{data:{},gc:[]},v=m.lineHeight,b=_=0,!ee(x)&&!_e(x))b=xf(s,g.data,g.gc,b,x),_=v;else if(_e(x))for(h=0,p=x.length;h<p;++h)N=x[h],!ee(N)&&!_e(N)&&(b=xf(s,g.data,g.gc,b,N),_+=v);a.push(b),o.push(_),c=Math.max(b,c),u=Math.max(_,u)}v1(r,n);const w=a.indexOf(c),j=o.indexOf(u),S=k=>({width:a[k]||0,height:o[k]||0});return{first:S(0),last:S(n-1),widest:S(w),highest:S(j),widths:a,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return u_(this._alignToPixels?Vn(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=b1(this.getContext(),e,i))}return this.$context||(this.$context=y1(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Qn(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),r=this._getLabelSizes(),a=e.autoSkipPadding||0,o=r?r.widest.width+a:0,l=r?r.highest.height+a:0;return this.isHorizontal()?l*i>o*s?o/i:l/s:l*s<o*i?l/i:o/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,s=this.options,{grid:r,position:a,border:o}=s,l=r.offset,c=this.isHorizontal(),f=this.ticks.length+(l?1:0),h=ds(r),p=[],x=o.setContext(this.getContext()),m=x.display?x.width:0,y=m/2,g=function(R){return Vn(i,R,m)};let v,b,_,N,w,j,S,k,C,z,D,J;if(a==="top")v=g(this.bottom),j=this.bottom-h,k=v-y,z=g(e.top)+y,J=e.bottom;else if(a==="bottom")v=g(this.top),z=e.top,J=g(e.bottom)-y,j=v+y,k=this.top+h;else if(a==="left")v=g(this.right),w=this.right-h,S=v-y,C=g(e.left)+y,D=e.right;else if(a==="right")v=g(this.left),C=e.left,D=g(e.right)-y,w=v+y,S=this.left+h;else if(n==="x"){if(a==="center")v=g((e.top+e.bottom)/2+.5);else if(Q(a)){const R=Object.keys(a)[0],W=a[R];v=g(this.chart.scales[R].getPixelForValue(W))}z=e.top,J=e.bottom,j=v+y,k=j+h}else if(n==="y"){if(a==="center")v=g((e.left+e.right)/2);else if(Q(a)){const R=Object.keys(a)[0],W=a[R];v=g(this.chart.scales[R].getPixelForValue(W))}w=v-y,S=w-h,C=e.left,D=e.right}const q=K(s.ticks.maxTicksLimit,f),V=Math.max(1,Math.ceil(f/q));for(b=0;b<f;b+=V){const R=this.getContext(b),W=r.setContext(R),E=o.setContext(R),A=W.lineWidth,O=W.color,I=E.dash||[],B=E.dashOffset,Y=W.tickWidth,ne=W.tickColor,qe=W.tickBorderDash||[],he=W.tickBorderDashOffset;_=x1(this,b,l),_!==void 0&&(N=Vn(i,_,A),c?w=S=C=D=N:j=k=z=J=N,p.push({tx1:w,ty1:j,tx2:S,ty2:k,x1:C,y1:z,x2:D,y2:J,width:A,color:O,borderDash:I,borderDashOffset:B,tickWidth:Y,tickColor:ne,tickBorderDash:qe,tickBorderDashOffset:he}))}return this._ticksLength=f,this._borderValue=v,p}_computeLabelItems(e){const n=this.axis,i=this.options,{position:s,ticks:r}=i,a=this.isHorizontal(),o=this.ticks,{align:l,crossAlign:c,padding:u,mirror:f}=r,h=ds(i.grid),p=h+u,x=f?-u:p,m=-Qn(this.labelRotation),y=[];let g,v,b,_,N,w,j,S,k,C,z,D,J="middle";if(s==="top")w=this.bottom-x,j=this._getXAxisLabelAlignment();else if(s==="bottom")w=this.top+x,j=this._getXAxisLabelAlignment();else if(s==="left"){const V=this._getYAxisLabelAlignment(h);j=V.textAlign,N=V.x}else if(s==="right"){const V=this._getYAxisLabelAlignment(h);j=V.textAlign,N=V.x}else if(n==="x"){if(s==="center")w=(e.top+e.bottom)/2+p;else if(Q(s)){const V=Object.keys(s)[0],R=s[V];w=this.chart.scales[V].getPixelForValue(R)+p}j=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")N=(e.left+e.right)/2-p;else if(Q(s)){const V=Object.keys(s)[0],R=s[V];N=this.chart.scales[V].getPixelForValue(R)}j=this._getYAxisLabelAlignment(h).textAlign}n==="y"&&(l==="start"?J="top":l==="end"&&(J="bottom"));const q=this._getLabelSizes();for(g=0,v=o.length;g<v;++g){b=o[g],_=b.label;const V=r.setContext(this.getContext(g));S=this.getPixelForTick(g)+r.labelOffset,k=this._resolveTickFontOptions(g),C=k.lineHeight,z=_e(_)?_.length:1;const R=z/2,W=V.color,E=V.textStrokeColor,A=V.textStrokeWidth;let O=j;a?(N=S,j==="inner"&&(g===v-1?O=this.options.reverse?"left":"right":g===0?O=this.options.reverse?"right":"left":O="center"),s==="top"?c==="near"||m!==0?D=-z*C+C/2:c==="center"?D=-q.highest.height/2-R*C+C:D=-q.highest.height+C/2:c==="near"||m!==0?D=C/2:c==="center"?D=q.highest.height/2-R*C:D=q.highest.height-z*C,f&&(D*=-1),m!==0&&!V.showLabelBackdrop&&(N+=C/2*Math.sin(m))):(w=S,D=(1-z)*C/2);let I;if(V.showLabelBackdrop){const B=pt(V.backdropPadding),Y=q.heights[g],ne=q.widths[g];let qe=D-B.top,he=0-B.left;switch(J){case"middle":qe-=Y/2;break;case"bottom":qe-=Y;break}switch(j){case"center":he-=ne/2;break;case"right":he-=ne;break;case"inner":g===v-1?he-=ne:g>0&&(he-=ne/2);break}I={left:he,top:qe,width:ne+B.width,height:Y+B.height,color:V.backdropColor}}y.push({label:_,font:k,textOffset:D,options:{rotation:m,color:W,strokeColor:E,strokeWidth:A,textAlign:O,textBaseline:J,translation:[N,w],backdrop:I}})}return y}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Qn(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:s,padding:r}}=this.options,a=this._getLabelSizes(),o=e+r,l=a.widest.width;let c,u;return n==="left"?s?(u=this.right+r,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-o,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?s?(u=this.left+r,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+o,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:s,width:r,height:a}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,s,r,a),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(r=>r.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,a;const o=(l,c,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(n.display)for(r=0,a=s.length;r<a;++r){const l=s[r];n.drawOnChartArea&&o({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&o({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:s}}=this,r=i.setContext(this.getContext()),a=i.display?r.width:0;if(!a)return;const o=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,f,h;this.isHorizontal()?(c=Vn(e,this.left,a)-a/2,u=Vn(e,this.right,o)+o/2,f=h=l):(f=Vn(e,this.top,a)-a/2,h=Vn(e,this.bottom,o)+o/2,c=u=l),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(c,f),n.lineTo(u,h),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&Tu(i,s);const r=this.getLabelItems(e);for(const a of r){const o=a.options,l=a.font,c=a.label,u=a.textOffset;cr(i,c,0,u,l,o)}s&&Pu(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const r=Fe(i.font),a=pt(i.padding),o=i.align;let l=r.lineHeight/2;n==="bottom"||n==="center"||Q(n)?(l+=a.bottom,_e(i.text)&&(l+=r.lineHeight*(i.text.length-1))):l+=a.top;const{titleX:c,titleY:u,maxWidth:f,rotation:h}=w1(this,l,n,o);cr(e,i.text,0,0,r,{color:i.color,maxWidth:f,rotation:h,textAlign:_1(o,n,s),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=K(e.grid&&e.grid.z,-1),s=K(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Qi.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let r,a;for(r=0,a=n.length;r<a;++r){const o=n[r];o[i]===this.id&&(!e||o.type===e)&&s.push(o)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Fe(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Jr{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;j1(n)&&(i=this.register(n));const s=this.items,r=e.id,a=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in s||(s[r]=e,N1(e,a,i),this.override&&pe.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,s=this.scope;i in n&&delete n[i],s&&i in pe[s]&&(delete pe[s][i],this.override&&delete oi[i])}}function N1(t,e,n){const i=ar(Object.create(null),[n?pe.get(n):{},pe.get(e),t.defaults]);pe.set(e,i),t.defaultRoutes&&S1(e,t.defaultRoutes),t.descriptors&&pe.describe(e,t.descriptors)}function S1(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),s=i.pop(),r=[t].concat(i).join("."),a=e[n].split("."),o=a.pop(),l=a.join(".");pe.route(r,s,l,o)})}function j1(t){return"id"in t&&"defaults"in t}class M1{constructor(){this.controllers=new Jr(Ds,"datasets",!0),this.elements=new Jr(nn,"elements"),this.plugins=new Jr(Object,"plugins"),this.scales=new Jr(Qi,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(s=>{const r=i||this._getRegistryForType(s);i||r.isForType(s)||r===this.plugins&&s.id?this._exec(e,r,s):Z(s,a=>{const o=i||this._getRegistryForType(a);this._exec(e,o,a)})})}_exec(e,n,i){const s=Mu(e);re(i["before"+s],[],i),n[e](i),re(i["after"+s],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return s}}var Pt=new M1;class k1{constructor(){this._init=[]}notify(e,n,i,s){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=s?this._descriptors(e).filter(s):this._descriptors(e),a=this._notify(r,e,n,i);return n==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,n,i,s){s=s||{};for(const r of e){const a=r.plugin,o=a[i],l=[n,s,r.options];if(re(o,l,a)===!1&&s.cancelable)return!1}return!0}invalidate(){ee(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,s=K(i.options&&i.options.plugins,{}),r=C1(i);return s===!1&&!n?[]:T1(e,r,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,s=(r,a)=>r.filter(o=>!a.some(l=>o.plugin.id===l.plugin.id));this._notify(s(n,i),e,"stop"),this._notify(s(i,n),e,"start")}}function C1(t){const e={},n=[],i=Object.keys(Pt.plugins.items);for(let r=0;r<i.length;r++)n.push(Pt.getPlugin(i[r]));const s=t.plugins||[];for(let r=0;r<s.length;r++){const a=s[r];n.indexOf(a)===-1&&(n.push(a),e[a.id]=!0)}return{plugins:n,localIds:e}}function E1(t,e){return!e&&t===!1?null:t===!0?{}:t}function T1(t,{plugins:e,localIds:n},i,s){const r=[],a=t.getContext();for(const o of e){const l=o.id,c=E1(i[l],s);c!==null&&r.push({plugin:o,options:P1(t.config,{plugin:o,local:n[l]},c,a)})}return r}function P1(t,{plugin:e,local:n},i,s){const r=t.pluginScopeKeys(e),a=t.getOptionScopes(i,r);return n&&e.defaults&&a.push(e.defaults),t.createResolver(a,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function pc(t,e){const n=pe.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function z1(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function A1(t,e){return t===e?"_index_":"_value_"}function $f(t){if(t==="x"||t==="y"||t==="r")return t}function R1(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function gc(t,...e){if($f(t))return t;for(const n of e){const i=n.axis||R1(n.position)||t.length>1&&$f(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Wf(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function F1(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return Wf(t,"x",n[0])||Wf(t,"y",n[0])}return{}}function O1(t,e){const n=oi[t.type]||{scales:{}},i=e.scales||{},s=pc(t.type,e),r=Object.create(null);return Object.keys(i).forEach(a=>{const o=i[a];if(!Q(o))return console.error(`Invalid scale configuration for scale: ${a}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const l=gc(a,o,F1(a,t),pe.scales[o.type]),c=A1(l,s),u=n.scales||{};r[a]=As(Object.create(null),[{axis:l},o,u[l],u[c]])}),t.data.datasets.forEach(a=>{const o=a.type||t.type,l=a.indexAxis||pc(o,e),u=(oi[o]||{}).scales||{};Object.keys(u).forEach(f=>{const h=z1(f,l),p=a[h+"AxisID"]||h;r[p]=r[p]||Object.create(null),As(r[p],[{axis:h},i[p],u[f]])})}),Object.keys(r).forEach(a=>{const o=r[a];As(o,[pe.scales[o.type],pe.scale])}),r}function Kg(t){const e=t.options||(t.options={});e.plugins=K(e.plugins,{}),e.scales=O1(t,e)}function Yg(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function I1(t){return t=t||{},t.data=Yg(t.data),Kg(t),t}const Hf=new Map,Xg=new Set;function Gr(t,e){let n=Hf.get(t);return n||(n=e(),Hf.set(t,n),Xg.add(n)),n}const fs=(t,e,n)=>{const i=Ha(e,n);i!==void 0&&t.add(i)};class D1{constructor(e){this._config=I1(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Yg(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Kg(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Gr(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Gr(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Gr(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return Gr(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let s=i.get(e);return(!s||n)&&(s=new Map,i.set(e,s)),s}getOptionScopes(e,n,i){const{options:s,type:r}=this,a=this._cachedScopes(e,i),o=a.get(n);if(o)return o;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(f=>fs(l,e,f))),u.forEach(f=>fs(l,s,f)),u.forEach(f=>fs(l,oi[r]||{},f)),u.forEach(f=>fs(l,pe,f)),u.forEach(f=>fs(l,fc,f))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),Xg.has(n)&&a.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,oi[n]||{},pe.datasets[n]||{},{type:n},pe,fc]}resolveNamedOptions(e,n,i,s=[""]){const r={$shared:!0},{resolver:a,subPrefixes:o}=Uf(this._resolverCache,e,s);let l=a;if(B1(a,n)){r.$shared=!1,i=zn(i)?i():i;const c=this.createResolver(e,i,o);l=Hi(a,i,c)}for(const c of n)r[c]=l[c];return r}createResolver(e,n,i=[""],s){const{resolver:r}=Uf(this._resolverCache,e,i);return Q(n)?Hi(r,n,void 0,s):r}}function Uf(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const s=n.join();let r=i.get(s);return r||(r={resolver:zu(e,n),subPrefixes:n.filter(o=>!o.toLowerCase().includes("hover"))},i.set(s,r)),r}const L1=t=>Q(t)&&Object.getOwnPropertyNames(t).some(e=>zn(t[e]));function B1(t,e){const{isScriptable:n,isIndexable:i}=Pg(t);for(const s of e){const r=n(s),a=i(s),o=(a||r)&&t[s];if(r&&(zn(o)||L1(o))||a&&_e(o))return!0}return!1}var V1="4.5.0";const $1=["top","bottom","left","right","chartArea"];function Kf(t,e){return t==="top"||t==="bottom"||$1.indexOf(t)===-1&&e==="x"}function Yf(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function Xf(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),re(n&&n.onComplete,[t],e)}function W1(t){const e=t.chart,n=e.options.animation;re(n&&n.onProgress,[t],e)}function Jg(t){return Fu()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const ma={},Jf=t=>{const e=Jg(t);return Object.values(ma).filter(n=>n.canvas===e).pop()};function H1(t,e,n){const i=Object.keys(t);for(const s of i){const r=+s;if(r>=e){const a=t[s];delete t[s],(n>0||r>e)&&(t[r+n]=a)}}}function U1(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}var un;let yr=(un=class{static register(...e){Pt.add(...e),Gf()}static unregister(...e){Pt.remove(...e),Gf()}constructor(e,n){const i=this.config=new D1(n),s=Jg(e),r=Jf(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||c1(s)),this.platform.updateConfig(i);const o=this.platform.acquireContext(s,a.aspectRatio),l=o&&o.canvas,c=l&&l.height,u=l&&l.width;if(this.id=Xb(),this.ctx=o,this.canvas=l,this.width=u,this.height=c,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new k1,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=p_(f=>this.update(f),a.resizeDelay||0),this._dataChanges=[],ma[this.id]=this,!o||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Bt.listen(this,"complete",Xf),Bt.listen(this,"progress",W1),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:s,_aspectRatio:r}=this;return ee(e)?n&&r?r:s?i/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Pt}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():_f(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return vf(this.canvas,this.ctx),this}stop(){return Bt.stop(this),this}resize(e,n){Bt.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,s=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,e,n,r),o=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,_f(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),re(i.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Z(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,s=Object.keys(i).reduce((a,o)=>(a[o]=!1,a),{});let r=[];n&&(r=r.concat(Object.keys(n).map(a=>{const o=n[a],l=gc(a,o),c=l==="r",u=l==="x";return{options:o,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),Z(r,a=>{const o=a.options,l=o.id,c=gc(l,o),u=K(o.type,a.dtype);(o.position===void 0||Kf(o.position,c)!==Kf(a.dposition))&&(o.position=a.dposition),s[l]=!0;let f=null;if(l in i&&i[l].type===u)f=i[l];else{const h=Pt.getScale(u);f=new h({id:l,type:u,ctx:this.ctx,chart:this}),i[f.id]=f}f.init(o,e)}),Z(s,(a,o)=>{a||delete i[o]}),Z(i,a=>{ut.configure(this,a,a.options),ut.addBox(this,a)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((s,r)=>s.index-r.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(Yf("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,s)=>{n.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const r=n[i];let a=this.getDatasetMeta(i);const o=r.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=o,a.indexAxis=r.indexAxis||pc(o,this.options),a.order=r.order||0,a.index=i,a.label=""+r.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{const l=Pt.getController(o),{datasetElementType:c,dataElementType:u}=pe.datasets[o];Object.assign(l,{dataElementType:Pt.getElement(u),datasetElementType:c&&Pt.getElement(c)}),a.controller=new l(this,i),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Z(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:f}=this.getDatasetMeta(c),h=!s&&r.indexOf(f)===-1;f.buildOrUpdateElements(h),a=Math.max(+f.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),s||Z(r,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Yf("z","_idx"));const{_active:o,_lastEvent:l}=this;l?this._eventHandler(l,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){Z(this.scales,e=>{ut.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!lf(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:r}of n){const a=i==="_removeElements"?-r:r;H1(e,s,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=r=>new Set(e.filter(a=>a[0]===r).map((a,o)=>o+","+a.splice(1).join(","))),s=i(0);for(let r=1;r<n;r++)if(!lf(s,i(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ut.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],Z(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,zn(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),s={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Bt.has(this)?this.attached&&!Bt.running(this)&&Bt.start(this):(this.draw(),Xf({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let s,r;for(s=0,r=n.length;s<r;++s){const a=n[s];(!e||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i={meta:e,index:e.index,cancelable:!0},s=ww(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&Tu(n,s),e.controller.draw(),s&&Pu(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return lr(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,s){const r=$w.modes[n];return typeof r=="function"?r(this,e,i,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let s=i.filter(r=>r&&r._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=ui(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const s=i?"show":"hide",r=this.getDatasetMeta(e),a=r.controller._resolveAnimations(void 0,s);Ua(n)?(r.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),a.update(r,{visible:i}),this.update(o=>o.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Bt.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),vf(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete ma[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(r,a)=>{n.addEventListener(this,r,a),e[r]=a},s=(r,a,o)=>{r.offsetX=a,r.offsetY=o,this._eventHandler(r)};Z(this.options.events,r=>i(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},s=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let a;const o=()=>{s("attach",o),this.attached=!0,this.resize(),i("resize",r),i("detach",a)};a=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),i("attach",o)},n.isAttached(this.canvas)?o():a()}unbindEvents(){Z(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Z(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const s=i?"set":"remove";let r,a,o,l;for(n==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),o=0,l=e.length;o<l;++o){a=e[o];const c=a&&this.getDatasetMeta(a.datasetIndex).controller;c&&c[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:r,index:a})=>{const o=this.getDatasetMeta(r);if(!o)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:o.data[a],index:a}});!$a(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const s=this.options.hover,r=(l,c)=>l.filter(u=>!c.some(f=>u.datasetIndex===f.datasetIndex&&u.index===f.index)),a=r(n,e),o=i?e:r(e,n);a.length&&this.updateHoverStyle(a,s.mode,!1),o.length&&s.mode&&this.updateHoverStyle(o,s.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const r=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(r||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:s=[],options:r}=this,a=n,o=this._getActiveElements(e,s,i,a),l=e_(e),c=U1(e,this._lastEvent,i,l);i&&(this._lastEvent=null,re(r.onHover,[e,o,this],this),l&&re(r.onClick,[e,o,this],this));const u=!$a(o,s);return(u||n)&&(this._active=o,this._updateHoverStyles(o,s,n)),this._lastEvent=c,u}_getActiveElements(e,n,i,s){if(e.type==="mouseout")return[];if(!i)return n;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,s)}},$(un,"defaults",pe),$(un,"instances",ma),$(un,"overrides",oi),$(un,"registry",Pt),$(un,"version",V1),$(un,"getChart",Jf),un);function Gf(){return Z(yr.instances,t=>t._plugins.invalidate())}function Gg(t,e,n=e){t.lineCap=K(n.borderCapStyle,e.borderCapStyle),t.setLineDash(K(n.borderDash,e.borderDash)),t.lineDashOffset=K(n.borderDashOffset,e.borderDashOffset),t.lineJoin=K(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=K(n.borderWidth,e.borderWidth),t.strokeStyle=K(n.borderColor,e.borderColor)}function K1(t,e,n){t.lineTo(n.x,n.y)}function Y1(t){return t.stepped?E_:t.tension||t.cubicInterpolationMode==="monotone"?T_:K1}function qg(t,e,n={}){const i=t.length,{start:s=0,end:r=i-1}=n,{start:a,end:o}=e,l=Math.max(s,a),c=Math.min(r,o),u=s<a&&r<a||s>o&&r>o;return{count:i,start:l,loop:e.loop,ilen:c<l&&!u?i+c-l:c-l}}function X1(t,e,n,i){const{points:s,options:r}=e,{count:a,start:o,loop:l,ilen:c}=qg(s,n,i),u=Y1(r);let{move:f=!0,reverse:h}=i||{},p,x,m;for(p=0;p<=c;++p)x=s[(o+(h?c-p:p))%a],!x.skip&&(f?(t.moveTo(x.x,x.y),f=!1):u(t,m,x,h,r.stepped),m=x);return l&&(x=s[(o+(h?c:0))%a],u(t,m,x,h,r.stepped)),!!l}function J1(t,e,n,i){const s=e.points,{count:r,start:a,ilen:o}=qg(s,n,i),{move:l=!0,reverse:c}=i||{};let u=0,f=0,h,p,x,m,y,g;const v=_=>(a+(c?o-_:_))%r,b=()=>{m!==y&&(t.lineTo(u,y),t.lineTo(u,m),t.lineTo(u,g))};for(l&&(p=s[v(0)],t.moveTo(p.x,p.y)),h=0;h<=o;++h){if(p=s[v(h)],p.skip)continue;const _=p.x,N=p.y,w=_|0;w===x?(N<m?m=N:N>y&&(y=N),u=(f*u+_)/++f):(b(),t.lineTo(_,N),x=w,f=0,m=y=N),g=N}b()}function xc(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?J1:X1}function G1(t){return t.stepped?cw:t.tension||t.cubicInterpolationMode==="monotone"?uw:Yn}function q1(t,e,n,i){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,i)&&s.closePath()),Gg(t,e.options),t.stroke(s)}function Q1(t,e,n,i){const{segments:s,options:r}=e,a=xc(e);for(const o of s)Gg(t,r,o.style),t.beginPath(),a(t,e,o,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const Z1=typeof Path2D=="function";function eN(t,e,n,i){Z1&&!e.options.segment?q1(t,e,n,i):Q1(t,e,n,i)}class Mi extends nn{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;tw(this._points,i,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=vw(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,s=e[n],r=this.points,a=pw(this,{property:n,start:s,end:s});if(!a.length)return;const o=[],l=G1(i);let c,u;for(c=0,u=a.length;c<u;++c){const{start:f,end:h}=a[c],p=r[f],x=r[h];if(p===x){o.push(p);continue}const m=Math.abs((s-p[n])/(x[n]-p[n])),y=l(p,x,m,i.stepped);y[n]=e[n],o.push(y)}return o.length===1?o[0]:o}pathSegment(e,n,i){return xc(this)(e,this,n,i)}path(e,n,i){const s=this.segments,r=xc(this);let a=this._loop;n=n||0,i=i||this.points.length-n;for(const o of s)a&=r(e,this,o,{start:n,end:n+i-1});return!!a}draw(e,n,i,s){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),eN(e,this,i,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}$(Mi,"id","line"),$(Mi,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),$(Mi,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),$(Mi,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function qf(t,e,n,i){const s=t.options,{[n]:r}=t.getProps([n],i);return Math.abs(e-r)<s.radius+s.hitRadius}class Ls extends nn{constructor(n){super();$(this,"parsed");$(this,"skip");$(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,s){const r=this.options,{x:a,y:o}=this.getProps(["x","y"],s);return Math.pow(n-a,2)+Math.pow(i-o,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(n,i){return qf(this,n,"x",i)}inYRange(n,i){return qf(this,n,"y",i)}getCenterPoint(n){const{x:i,y:s}=this.getProps(["x","y"],n);return{x:i,y:s}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const s=i&&n.borderWidth||0;return(i+s)*2}draw(n,i){const s=this.options;this.skip||s.radius<.1||!lr(this,i,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,hc(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}$(Ls,"id","point"),$(Ls,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),$(Ls,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function tN(t,e,n,i,s){const r=s.samples||i;if(r>=n)return t.slice(e,e+n);const a=[],o=(n-2)/(r-2);let l=0;const c=e+n-1;let u=e,f,h,p,x,m;for(a[l++]=t[u],f=0;f<r-2;f++){let y=0,g=0,v;const b=Math.floor((f+1)*o)+1+e,_=Math.min(Math.floor((f+2)*o)+1,n)+e,N=_-b;for(v=b;v<_;v++)y+=t[v].x,g+=t[v].y;y/=N,g/=N;const w=Math.floor(f*o)+1+e,j=Math.min(Math.floor((f+1)*o)+1,n)+e,{x:S,y:k}=t[u];for(p=x=-1,v=w;v<j;v++)x=.5*Math.abs((S-y)*(t[v].y-k)-(S-t[v].x)*(g-k)),x>p&&(p=x,h=t[v],m=v);a[l++]=h,u=m}return a[l++]=t[c],a}function nN(t,e,n,i){let s=0,r=0,a,o,l,c,u,f,h,p,x,m;const y=[],g=e+n-1,v=t[e].x,_=t[g].x-v;for(a=e;a<e+n;++a){o=t[a],l=(o.x-v)/_*i,c=o.y;const N=l|0;if(N===u)c<x?(x=c,f=a):c>m&&(m=c,h=a),s=(r*s+o.x)/++r;else{const w=a-1;if(!ee(f)&&!ee(h)){const j=Math.min(f,h),S=Math.max(f,h);j!==p&&j!==w&&y.push({...t[j],x:s}),S!==p&&S!==w&&y.push({...t[S],x:s})}a>0&&w!==p&&y.push(t[w]),y.push(o),u=N,r=0,x=m=c,f=h=p=a}}return y}function Qg(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function Qf(t){t.data.datasets.forEach(e=>{Qg(e)})}function iN(t,e){const n=e.length;let i=0,s;const{iScale:r}=t,{min:a,max:o,minDefined:l,maxDefined:c}=r.getUserBounds();return l&&(i=Ye(Xt(e,r.axis,a).lo,0,n-1)),c?s=Ye(Xt(e,r.axis,o).hi+1,i,n)-i:s=n-i,{start:i,count:s}}var sN={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){Qf(t);return}const i=t.width;t.data.datasets.forEach((s,r)=>{const{_data:a,indexAxis:o}=s,l=t.getDatasetMeta(r),c=a||s.data;if(bs([o,t.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=t.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||t.options.parsing)return;let{start:f,count:h}=iN(l,c);const p=n.threshold||4*i;if(h<=p){Qg(s);return}ee(a)&&(s._data=c,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(m){this._data=m}}));let x;switch(n.algorithm){case"lttb":x=tN(c,f,h,i,n);break;case"min-max":x=nN(c,f,h,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}s._decimated=x})},destroy(t){Qf(t)}};const Zf=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},rN=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class eh extends nn{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=re(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,s)=>e.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,s=Fe(i.font),r=s.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:l}=Zf(i,r);let c,u;n.font=s.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(a,r,o,l)+10):(u=this.maxHeight,c=this._fitCols(a,s,o,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,s){const{ctx:r,maxWidth:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=s+o;let f=e;r.textAlign="left",r.textBaseline="middle";let h=-1,p=-u;return this.legendItems.forEach((x,m)=>{const y=i+n/2+r.measureText(x.text).width;(m===0||c[c.length-1]+y+2*o>a)&&(f+=u,c[c.length-(m>0?0:1)]=0,p+=u,h++),l[m]={left:0,top:p,row:h,width:y,height:s},c[c.length-1]+=y+o}),f}_fitCols(e,n,i,s){const{ctx:r,maxHeight:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=a-e;let f=o,h=0,p=0,x=0,m=0;return this.legendItems.forEach((y,g)=>{const{itemWidth:v,itemHeight:b}=aN(i,n,r,y,s);g>0&&p+b+2*o>u&&(f+=h+o,c.push({width:h,height:p}),x+=h+o,m++,h=p=0),l[g]={left:x,top:p,col:m,width:v,height:b},h=Math.max(h,v),p+=b+o}),f+=h,c.push({width:h,height:p}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:r}}=this,a=Ai(r,this.left,this.width);if(this.isHorizontal()){let o=0,l=Ae(i,this.left+s,this.right-this.lineWidths[o]);for(const c of n)o!==c.row&&(o=c.row,l=Ae(i,this.left+s,this.right-this.lineWidths[o])),c.top+=this.top+e+s,c.left=a.leftForLtr(a.x(l),c.width),l+=c.width+s}else{let o=0,l=Ae(i,this.top+e+s,this.bottom-this.columnSizes[o].height);for(const c of n)c.col!==o&&(o=c.col,l=Ae(i,this.top+e+s,this.bottom-this.columnSizes[o].height)),c.top=l,c.left+=this.left+s,c.left=a.leftForLtr(a.x(c.left),c.width),l+=c.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Tu(e,this),this._draw(),Pu(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:s}=this,{align:r,labels:a}=e,o=pe.color,l=Ai(e.rtl,this.left,this.width),c=Fe(a.font),{padding:u}=a,f=c.size,h=f/2;let p;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;const{boxWidth:x,boxHeight:m,itemHeight:y}=Zf(a,f),g=function(w,j,S){if(isNaN(x)||x<=0||isNaN(m)||m<0)return;s.save();const k=K(S.lineWidth,1);if(s.fillStyle=K(S.fillStyle,o),s.lineCap=K(S.lineCap,"butt"),s.lineDashOffset=K(S.lineDashOffset,0),s.lineJoin=K(S.lineJoin,"miter"),s.lineWidth=k,s.strokeStyle=K(S.strokeStyle,o),s.setLineDash(K(S.lineDash,[])),a.usePointStyle){const C={radius:m*Math.SQRT2/2,pointStyle:S.pointStyle,rotation:S.rotation,borderWidth:k},z=l.xPlus(w,x/2),D=j+h;Eg(s,C,z,D,a.pointStyleWidth&&x)}else{const C=j+Math.max((f-m)/2,0),z=l.leftForLtr(w,x),D=Is(S.borderRadius);s.beginPath(),Object.values(D).some(J=>J!==0)?mc(s,{x:z,y:C,w:x,h:m,radius:D}):s.rect(z,C,x,m),s.fill(),k!==0&&s.stroke()}s.restore()},v=function(w,j,S){cr(s,S.text,w,j+y/2,c,{strikethrough:S.hidden,textAlign:l.textAlign(S.textAlign)})},b=this.isHorizontal(),_=this._computeTitleHeight();b?p={x:Ae(r,this.left+u,this.right-i[0]),y:this.top+u+_,line:0}:p={x:this.left+u,y:Ae(r,this.top+_+u,this.bottom-n[0].height),line:0},Og(this.ctx,e.textDirection);const N=y+u;this.legendItems.forEach((w,j)=>{s.strokeStyle=w.fontColor,s.fillStyle=w.fontColor;const S=s.measureText(w.text).width,k=l.textAlign(w.textAlign||(w.textAlign=a.textAlign)),C=x+h+S;let z=p.x,D=p.y;l.setWidth(this.width),b?j>0&&z+C+u>this.right&&(D=p.y+=N,p.line++,z=p.x=Ae(r,this.left+u,this.right-i[p.line])):j>0&&D+N>this.bottom&&(z=p.x=z+n[p.line].width+u,p.line++,D=p.y=Ae(r,this.top+_+u,this.bottom-n[p.line].height));const J=l.x(z);if(g(J,D,w),z=g_(k,z+x+h,b?z+C:this.right,e.rtl),v(l.x(z),D,w),b)p.x+=C+u;else if(typeof w.text!="string"){const q=c.lineHeight;p.y+=Zg(w,q)+u}else p.y+=N}),Ig(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=Fe(n.font),s=pt(n.padding);if(!n.display)return;const r=Ai(e.rtl,this.left,this.width),a=this.ctx,o=n.position,l=i.size/2,c=s.top+l;let u,f=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+c,f=Ae(e.align,f,this.right-h);else{const x=this.columnSizes.reduce((m,y)=>Math.max(m,y.height),0);u=c+Ae(e.align,this.top,this.bottom-x-e.labels.padding-this._computeTitleHeight())}const p=Ae(o,f,f+h);a.textAlign=r.textAlign(Cu(o)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=i.string,cr(a,n.text,p,u,i)}_computeTitleHeight(){const e=this.options.title,n=Fe(e.font),i=pt(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,s,r;if(ys(e,this.left,this.right)&&ys(n,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(s=r[i],ys(e,s.left,s.left+s.width)&&ys(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!cN(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,r=rN(s,i);s&&!r&&re(n.onLeave,[e,s,this],this),this._hoveredItem=i,i&&!r&&re(n.onHover,[e,i,this],this)}else i&&re(n.onClick,[e,i,this],this)}}function aN(t,e,n,i,s){const r=oN(i,t,e,n),a=lN(s,i,e.lineHeight);return{itemWidth:r,itemHeight:a}}function oN(t,e,n,i){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((r,a)=>r.length>a.length?r:a)),e+n.size/2+i.measureText(s).width}function lN(t,e,n){let i=t;return typeof e.text!="string"&&(i=Zg(e,n)),i}function Zg(t,e){const n=t.text?t.text.length:0;return e*n}function cN(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var e0={id:"legend",_element:eh,start(t,e,n){const i=t.legend=new eh({ctx:t.ctx,options:n,chart:t});ut.configure(t,i,n),ut.addBox(t,i)},stop(t){ut.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;ut.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),e.hidden=!0):(s.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:r,useBorderRadius:a,borderRadius:o}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=pt(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:s||c.textAlign,borderRadius:a&&(o||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class t0 extends nn{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=_e(i.text)?i.text.length:1;this._padding=pt(i.padding);const r=s*Fe(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:s,right:r,options:a}=this,o=a.align;let l=0,c,u,f;return this.isHorizontal()?(u=Ae(o,i,r),f=n+e,c=r-i):(a.position==="left"?(u=i+e,f=Ae(o,s,n),l=Se*-.5):(u=r-e,f=Ae(o,n,s),l=Se*.5),c=s-n),{titleX:u,titleY:f,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=Fe(n.font),r=i.lineHeight/2+this._padding.top,{titleX:a,titleY:o,maxWidth:l,rotation:c}=this._drawArgs(r);cr(e,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:c,textAlign:Cu(n.align),textBaseline:"middle",translation:[a,o]})}}function uN(t,e){const n=new t0({ctx:t.ctx,options:e,chart:t});ut.configure(t,n,e),ut.addBox(t,n),t.titleBlock=n}var n0={id:"title",_element:t0,start(t,e,n){uN(t,n)},stop(t){const e=t.titleBlock;ut.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;ut.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ws={average(t){if(!t.length)return!1;let e,n,i=new Set,s=0,r=0;for(e=0,n=t.length;e<n;++e){const o=t[e].element;if(o&&o.hasValue()){const l=o.tooltipPosition();i.add(l.x),s+=l.y,++r}}return r===0||i.size===0?!1:{x:[...i].reduce((o,l)=>o+l)/i.size,y:s/r}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,s=Number.POSITIVE_INFINITY,r,a,o;for(r=0,a=t.length;r<a;++r){const l=t[r].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=dc(e,c);u<s&&(s=u,o=l)}}if(o){const l=o.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function Et(t,e){return e&&(_e(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Vt(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function dN(t,e){const{element:n,datasetIndex:i,index:s}=e,r=t.getDatasetMeta(i).controller,{label:a,value:o}=r.getLabelAndValue(s);return{chart:t,label:a,parsed:r.getParsed(s),raw:t.data.datasets[i].data[s],formattedValue:o,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function th(t,e){const n=t.chart.ctx,{body:i,footer:s,title:r}=t,{boxWidth:a,boxHeight:o}=e,l=Fe(e.bodyFont),c=Fe(e.titleFont),u=Fe(e.footerFont),f=r.length,h=s.length,p=i.length,x=pt(e.padding);let m=x.height,y=0,g=i.reduce((_,N)=>_+N.before.length+N.lines.length+N.after.length,0);if(g+=t.beforeBody.length+t.afterBody.length,f&&(m+=f*c.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),g){const _=e.displayColors?Math.max(o,l.lineHeight):l.lineHeight;m+=p*_+(g-p)*l.lineHeight+(g-1)*e.bodySpacing}h&&(m+=e.footerMarginTop+h*u.lineHeight+(h-1)*e.footerSpacing);let v=0;const b=function(_){y=Math.max(y,n.measureText(_).width+v)};return n.save(),n.font=c.string,Z(t.title,b),n.font=l.string,Z(t.beforeBody.concat(t.afterBody),b),v=e.displayColors?a+2+e.boxPadding:0,Z(i,_=>{Z(_.before,b),Z(_.lines,b),Z(_.after,b)}),v=0,n.font=u.string,Z(t.footer,b),n.restore(),y+=x.width,{width:y,height:m}}function fN(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function hN(t,e,n,i){const{x:s,width:r}=i,a=n.caretSize+n.caretPadding;if(t==="left"&&s+r+a>e.width||t==="right"&&s-r-a<0)return!0}function mN(t,e,n,i){const{x:s,width:r}=n,{width:a,chartArea:{left:o,right:l}}=t;let c="center";return i==="center"?c=s<=(o+l)/2?"left":"right":s<=r/2?c="left":s>=a-r/2&&(c="right"),hN(c,t,e,n)&&(c="center"),c}function nh(t,e,n){const i=n.yAlign||e.yAlign||fN(t,n);return{xAlign:n.xAlign||e.xAlign||mN(t,e,n,i),yAlign:i}}function pN(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function gN(t,e,n){let{y:i,height:s}=t;return e==="top"?i+=n:e==="bottom"?i-=s+n:i-=s/2,i}function ih(t,e,n,i){const{caretSize:s,caretPadding:r,cornerRadius:a}=t,{xAlign:o,yAlign:l}=n,c=s+r,{topLeft:u,topRight:f,bottomLeft:h,bottomRight:p}=Is(a);let x=pN(e,o);const m=gN(e,l,c);return l==="center"?o==="left"?x+=c:o==="right"&&(x-=c):o==="left"?x-=Math.max(u,h)+s:o==="right"&&(x+=Math.max(f,p)+s),{x:Ye(x,0,i.width-e.width),y:Ye(m,0,i.height-e.height)}}function qr(t,e,n){const i=pt(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function sh(t){return Et([],Vt(t))}function xN(t,e,n){return ui(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function rh(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const i0={beforeTitle:Dt,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:Dt,beforeBody:Dt,beforeLabel:Dt,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return ee(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Dt,afterBody:Dt,beforeFooter:Dt,footer:Dt,afterFooter:Dt};function $e(t,e,n,i){const s=t[e].call(n,i);return typeof s>"u"?i0[e].call(n,i):s}class vc extends nn{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,r=new Lg(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=xN(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,s=$e(i,"beforeTitle",this,e),r=$e(i,"title",this,e),a=$e(i,"afterTitle",this,e);let o=[];return o=Et(o,Vt(s)),o=Et(o,Vt(r)),o=Et(o,Vt(a)),o}getBeforeBody(e,n){return sh($e(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,s=[];return Z(e,r=>{const a={before:[],lines:[],after:[]},o=rh(i,r);Et(a.before,Vt($e(o,"beforeLabel",this,r))),Et(a.lines,$e(o,"label",this,r)),Et(a.after,Vt($e(o,"afterLabel",this,r))),s.push(a)}),s}getAfterBody(e,n){return sh($e(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,s=$e(i,"beforeFooter",this,e),r=$e(i,"footer",this,e),a=$e(i,"afterFooter",this,e);let o=[];return o=Et(o,Vt(s)),o=Et(o,Vt(r)),o=Et(o,Vt(a)),o}_createItems(e){const n=this._active,i=this.chart.data,s=[],r=[],a=[];let o=[],l,c;for(l=0,c=n.length;l<c;++l)o.push(dN(this.chart,n[l]));return e.filter&&(o=o.filter((u,f,h)=>e.filter(u,f,h,i))),e.itemSort&&(o=o.sort((u,f)=>e.itemSort(u,f,i))),Z(o,u=>{const f=rh(e.callbacks,u);s.push($e(f,"labelColor",this,u)),r.push($e(f,"labelPointStyle",this,u)),a.push($e(f,"labelTextColor",this,u))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=a,this.dataPoints=o,o}update(e,n){const i=this.options.setContext(this.getContext()),s=this._active;let r,a=[];if(!s.length)this.opacity!==0&&(r={opacity:0});else{const o=ws[i.position].call(this,s,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);const l=this._size=th(this,i),c=Object.assign({},o,l),u=nh(this.chart,i,c),f=ih(i,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,r={opacity:1,x:f.x,y:f.y,width:l.width,height:l.height,caretX:o.x,caretY:o.y}}this._tooltipItems=a,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,s){const r=this.getCaretPosition(e,i,s);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(e,n,i){const{xAlign:s,yAlign:r}=this,{caretSize:a,cornerRadius:o}=i,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:f}=Is(o),{x:h,y:p}=e,{width:x,height:m}=n;let y,g,v,b,_,N;return r==="center"?(_=p+m/2,s==="left"?(y=h,g=y-a,b=_+a,N=_-a):(y=h+x,g=y+a,b=_-a,N=_+a),v=y):(s==="left"?g=h+Math.max(l,u)+a:s==="right"?g=h+x-Math.max(c,f)-a:g=this.caretX,r==="top"?(b=p,_=b-a,y=g-a,v=g+a):(b=p+m,_=b+a,y=g+a,v=g-a),N=b),{x1:y,x2:g,x3:v,y1:b,y2:_,y3:N}}drawTitle(e,n,i){const s=this.title,r=s.length;let a,o,l;if(r){const c=Ai(i.rtl,this.x,this.width);for(e.x=qr(this,i.titleAlign,i),n.textAlign=c.textAlign(i.titleAlign),n.textBaseline="middle",a=Fe(i.titleFont),o=i.titleSpacing,n.fillStyle=i.titleColor,n.font=a.string,l=0;l<r;++l)n.fillText(s[l],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o,l+1===r&&(e.y+=i.titleMarginBottom-o)}}_drawColorBox(e,n,i,s,r){const a=this.labelColors[i],o=this.labelPointStyles[i],{boxHeight:l,boxWidth:c}=r,u=Fe(r.bodyFont),f=qr(this,"left",r),h=s.x(f),p=l<u.lineHeight?(u.lineHeight-l)/2:0,x=n.y+p;if(r.usePointStyle){const m={radius:Math.min(c,l)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},y=s.leftForLtr(h,c)+c/2,g=x+l/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,hc(e,m,y,g),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,hc(e,m,y,g)}else{e.lineWidth=Q(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const m=s.leftForLtr(h,c),y=s.leftForLtr(s.xPlus(h,1),c-2),g=Is(a.borderRadius);Object.values(g).some(v=>v!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,mc(e,{x:m,y:x,w:c,h:l,radius:g}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),mc(e,{x:y,y:x+1,w:c-2,h:l-2,radius:g}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(m,x,c,l),e.strokeRect(m,x,c,l),e.fillStyle=a.backgroundColor,e.fillRect(y,x+1,c-2,l-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:s}=this,{bodySpacing:r,bodyAlign:a,displayColors:o,boxHeight:l,boxWidth:c,boxPadding:u}=i,f=Fe(i.bodyFont);let h=f.lineHeight,p=0;const x=Ai(i.rtl,this.x,this.width),m=function(S){n.fillText(S,x.x(e.x+p),e.y+h/2),e.y+=h+r},y=x.textAlign(a);let g,v,b,_,N,w,j;for(n.textAlign=a,n.textBaseline="middle",n.font=f.string,e.x=qr(this,y,i),n.fillStyle=i.bodyColor,Z(this.beforeBody,m),p=o&&y!=="right"?a==="center"?c/2+u:c+2+u:0,_=0,w=s.length;_<w;++_){for(g=s[_],v=this.labelTextColors[_],n.fillStyle=v,Z(g.before,m),b=g.lines,o&&b.length&&(this._drawColorBox(n,e,_,x,i),h=Math.max(f.lineHeight,l)),N=0,j=b.length;N<j;++N)m(b[N]),h=f.lineHeight;Z(g.after,m)}p=0,h=f.lineHeight,Z(this.afterBody,m),e.y-=r}drawFooter(e,n,i){const s=this.footer,r=s.length;let a,o;if(r){const l=Ai(i.rtl,this.x,this.width);for(e.x=qr(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",a=Fe(i.footerFont),n.fillStyle=i.footerColor,n.font=a.string,o=0;o<r;++o)n.fillText(s[o],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+i.footerSpacing}}drawBackground(e,n,i,s){const{xAlign:r,yAlign:a}=this,{x:o,y:l}=e,{width:c,height:u}=i,{topLeft:f,topRight:h,bottomLeft:p,bottomRight:x}=Is(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(o+f,l),a==="top"&&this.drawCaret(e,n,i,s),n.lineTo(o+c-h,l),n.quadraticCurveTo(o+c,l,o+c,l+h),a==="center"&&r==="right"&&this.drawCaret(e,n,i,s),n.lineTo(o+c,l+u-x),n.quadraticCurveTo(o+c,l+u,o+c-x,l+u),a==="bottom"&&this.drawCaret(e,n,i,s),n.lineTo(o+p,l+u),n.quadraticCurveTo(o,l+u,o,l+u-p),a==="center"&&r==="left"&&this.drawCaret(e,n,i,s),n.lineTo(o,l+f),n.quadraticCurveTo(o,l,o+f,l),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,s=i&&i.x,r=i&&i.y;if(s||r){const a=ws[e.position].call(this,this._active,this._eventPosition);if(!a)return;const o=this._size=th(this,e),l=Object.assign({},a,this._size),c=nh(n,e,l),u=ih(e,l,c,n);(s._to!==u.x||r._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const a=pt(n.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&o&&(e.save(),e.globalAlpha=i,this.drawBackground(r,e,s,n),Og(e,n.textDirection),r.y+=a.top,this.drawTitle(r,e,n),this.drawBody(r,e,n),this.drawFooter(r,e,n),Ig(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,s=e.map(({datasetIndex:o,index:l})=>{const c=this.chart.getDatasetMeta(o);if(!c)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:c.data[l],index:l}}),r=!$a(i,s),a=this._positionChanged(s,n);(r||a)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,r=this._active||[],a=this._getActiveElements(e,r,n,i),o=this._positionChanged(a,e),l=n||!$a(a,r)||o;return l&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,i,s){const r=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,r.mode,r,i);return r.reverse&&a.reverse(),a}_positionChanged(e,n){const{caretX:i,caretY:s,options:r}=this,a=ws[r.position].call(this,e,n);return a!==!1&&(i!==a.x||s!==a.y)}}$(vc,"positioners",ws);var s0={id:"tooltip",_element:vc,positioners:ws,afterInit(t,e,n){n&&(t.tooltip=new vc({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:i0},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const vN=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function yN(t,e,n,i){const s=t.indexOf(e);if(s===-1)return vN(t,e,n,i);const r=t.lastIndexOf(e);return s!==r?n:s}const bN=(t,e)=>t===null?null:Ye(Math.round(t),0,e);function ah(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Ja extends Qi{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:s,label:r}of n)i[s]===r&&i.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(ee(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:yN(i,e,K(n,e),this._addedLabels),bN(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,s=[];let r=this.getLabels();r=e===0&&n===r.length-1?r:r.slice(e,n+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=e;a<=n;a++)s.push({value:a});return s}getLabelForValue(e){return ah.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}$(Ja,"id","category"),$(Ja,"defaults",{ticks:{callback:ah}});function _N(t,e){const n=[],{bounds:s,step:r,min:a,max:o,precision:l,count:c,maxTicks:u,maxDigits:f,includeBounds:h}=t,p=r||1,x=u-1,{min:m,max:y}=e,g=!ee(a),v=!ee(o),b=!ee(c),_=(y-m)/(f+1);let N=uf((y-m)/x/p)*p,w,j,S,k;if(N<1e-14&&!g&&!v)return[{value:m},{value:y}];k=Math.ceil(y/N)-Math.floor(m/N),k>x&&(N=uf(k*N/x/p)*p),ee(l)||(w=Math.pow(10,l),N=Math.ceil(N*w)/w),s==="ticks"?(j=Math.floor(m/N)*N,S=Math.ceil(y/N)*N):(j=m,S=y),g&&v&&r&&r_((o-a)/r,N/1e3)?(k=Math.round(Math.min((o-a)/N,u)),N=(o-a)/k,j=a,S=o):b?(j=g?a:j,S=v?o:S,k=c-1,N=(S-j)/k):(k=(S-j)/N,Rs(k,Math.round(k),N/1e3)?k=Math.round(k):k=Math.ceil(k));const C=Math.max(df(N),df(j));w=Math.pow(10,ee(l)?C:l),j=Math.round(j*w)/w,S=Math.round(S*w)/w;let z=0;for(g&&(h&&j!==a?(n.push({value:a}),j<a&&z++,Rs(Math.round((j+z*N)*w)/w,a,oh(a,_,t))&&z++):j<a&&z++);z<k;++z){const D=Math.round((j+z*N)*w)/w;if(v&&D>o)break;n.push({value:D})}return v&&h&&S!==o?n.length&&Rs(n[n.length-1].value,o,oh(o,_,t))?n[n.length-1].value=o:n.push({value:o}):(!v||S===o)&&n.push({value:S}),n}function oh(t,e,{horizontal:n,minRotation:i}){const s=Qn(i),r=(n?Math.sin(s):Math.cos(s))||.001,a=.75*e*(""+t).length;return Math.min(e/r,a)}class wN extends Qi{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return ee(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:s,max:r}=this;const a=l=>s=n?s:l,o=l=>r=i?r:l;if(e){const l=Wi(s),c=Wi(r);l<0&&c<0?o(0):l>0&&c>0&&a(0)}if(s===r){let l=r===0?1:Math.abs(r*.05);o(r+l),e||a(s-l)}this.min=s,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,a=_N(s,r);return e.bounds==="ticks"&&a_(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const s=(i-n)/Math.max(e.length-1,1)/2;n-=s,i+=s}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return kg(e,this.chart.options.locale,this.options.ticks.format)}}class Ga extends wN{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=mt(e)?e:0,this.max=mt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=Qn(this.options.ticks.minRotation),s=(e?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}$(Ga,"id","linear"),$(Ga,"defaults",{ticks:{callback:Cg.formatters.numeric}});const So={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ue=Object.keys(So);function lh(t,e){return t-e}function ch(t,e){if(ee(e))return null;const n=t._adapter,{parser:i,round:s,isoWeekday:r}=t._parseOpts;let a=e;return typeof i=="function"&&(a=i(a)),mt(a)||(a=typeof i=="string"?n.parse(a,i):n.parse(a)),a===null?null:(s&&(a=s==="week"&&(or(r)||r===!0)?n.startOf(a,"isoWeek",r):n.startOf(a,s)),+a)}function uh(t,e,n,i){const s=Ue.length;for(let r=Ue.indexOf(t);r<s-1;++r){const a=So[Ue[r]],o=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-e)/(o*a.size))<=i)return Ue[r]}return Ue[s-1]}function NN(t,e,n,i,s){for(let r=Ue.length-1;r>=Ue.indexOf(n);r--){const a=Ue[r];if(So[a].common&&t._adapter.diff(s,i,a)>=e-1)return a}return Ue[n?Ue.indexOf(n):0]}function SN(t){for(let e=Ue.indexOf(t)+1,n=Ue.length;e<n;++e)if(So[Ue[e]].common)return Ue[e]}function dh(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:s}=ku(n,e),r=n[i]>=e?n[i]:n[s];t[r]=!0}}function jN(t,e,n,i){const s=t._adapter,r=+s.startOf(e[0].value,i),a=e[e.length-1].value;let o,l;for(o=r;o<=a;o=+s.add(o,1,i))l=n[o],l>=0&&(e[l].major=!0);return e}function fh(t,e,n){const i=[],s={},r=e.length;let a,o;for(a=0;a<r;++a)o=e[a],s[o]=a,i.push({value:o,major:!1});return r===0||!n?i:jN(t,i,s,n)}class qa extends Qi{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),s=this._adapter=new Iw._date(e.adapters.date);s.init(n),As(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:ch(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:s,max:r,minDefined:a,maxDefined:o}=this.getUserBounds();function l(c){!a&&!isNaN(c.min)&&(s=Math.min(s,c.min)),!o&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!a||!o)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=mt(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),r=mt(r)&&!isNaN(r)?r:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const r=this.min,a=this.max,o=f_(s,r,a);return this._unit=n.unit||(i.autoSkip?uh(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):NN(this,o.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:SN(this._unit),this.initOffsets(s),e.reverse&&o.reverse(),fh(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,s,r;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?i=r:i=(r-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;n=Ye(n,0,a),i=Ye(i,0,a),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,s=this.options,r=s.time,a=r.unit||uh(r.minUnit,n,i,this._getLabelCapacity(n)),o=K(s.ticks.stepSize,1),l=a==="week"?r.isoWeekday:!1,c=or(l)||l===!0,u={};let f=n,h,p;if(c&&(f=+e.startOf(f,"isoWeek",l)),f=+e.startOf(f,c?"day":a),e.diff(i,n,a)>1e5*o)throw new Error(n+" and "+i+" are too far apart with stepSize of "+o+" "+a);const x=s.ticks.source==="data"&&this.getDataTimestamps();for(h=f,p=0;h<i;h=+e.add(h,o,a),p++)dh(u,h,x);return(h===i||s.bounds==="ticks"||p===1)&&dh(u,h,x),Object.keys(u).sort(lh).map(m=>+m)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,r=this._unit,a=n||s[r];return this._adapter.format(e,a)}_tickFormatFunction(e,n,i,s){const r=this.options,a=r.ticks.callback;if(a)return re(a,[e,n,i],this);const o=r.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&o[l],f=c&&o[c],h=i[n],p=c&&f&&h&&h.major;return this._adapter.format(e,s||(p?f:u))}generateTickLabels(e){let n,i,s;for(n=0,i=e.length;n<i;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,s=Qn(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(s),a=Math.sin(s),o=this._resolveTickFontOptions(0).size;return{w:i*r+o*a,h:i*a+o*r}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,r=this._tickFormatFunction(e,0,fh(this,[e],this._majorUnit),s),a=this._getLabelSize(r),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)e.push(ch(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return m_(e.sort(lh))}}$(qa,"id","time"),$(qa,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Qr(t,e,n){let i=0,s=t.length-1,r,a,o,l;n?(e>=t[i].pos&&e<=t[s].pos&&({lo:i,hi:s}=Xt(t,"pos",e)),{pos:r,time:o}=t[i],{pos:a,time:l}=t[s]):(e>=t[i].time&&e<=t[s].time&&({lo:i,hi:s}=Xt(t,"time",e)),{time:r,pos:o}=t[i],{time:a,pos:l}=t[s]);const c=a-r;return c?o+(l-o)*(e-r)/c:o}class hh extends qa{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Qr(n,this.min),this._tableRange=Qr(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,s=[],r=[];let a,o,l,c,u;for(a=0,o=e.length;a<o;++a)c=e[a],c>=n&&c<=i&&s.push(c);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(a=0,o=s.length;a<o;++a)u=s[a+1],l=s[a-1],c=s[a],Math.round((u+l)/2)!==c&&r.push({time:c,pos:a/(o-1)});return r}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((s,r)=>s-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Qr(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return Qr(this._table,i*this._tableRange+this._minPos,!0)}}$(hh,"id","timeseries"),$(hh,"defaults",qa.defaults);const r0="label";function mh(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function MN(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function a0(t,e){t.labels=e}function o0(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:r0;const i=[];t.datasets=e.map(s=>{const r=t.datasets.find(a=>a[n]===s[n]);return!r||!s.data||i.includes(r)?{...s}:(i.push(r),Object.assign(r,s),r)})}function kN(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r0;const n={labels:[],datasets:[]};return a0(n,t.labels),o0(n,t.datasets,e),n}function CN(t,e){const{height:n=150,width:i=300,redraw:s=!1,datasetIdKey:r,type:a,data:o,options:l,plugins:c=[],fallbackContent:u,updateMode:f,...h}=t,p=M.useRef(null),x=M.useRef(null),m=()=>{p.current&&(x.current=new yr(p.current,{type:a,data:kN(o,r),options:l&&{...l},plugins:c}),mh(e,x.current))},y=()=>{mh(e,null),x.current&&(x.current.destroy(),x.current=null)};return M.useEffect(()=>{!s&&x.current&&l&&MN(x.current,l)},[s,l]),M.useEffect(()=>{!s&&x.current&&a0(x.current.config.data,o.labels)},[s,o.labels]),M.useEffect(()=>{!s&&x.current&&o.datasets&&o0(x.current.config.data,o.datasets,r)},[s,o.datasets]),M.useEffect(()=>{x.current&&(s?(y(),setTimeout(m)):x.current.update(f))},[s,l,o.labels,o.datasets,f]),M.useEffect(()=>{x.current&&(y(),setTimeout(m))},[a]),M.useEffect(()=>(m(),()=>y()),[]),to.createElement("canvas",{ref:p,role:"img",height:n,width:i,...h},u)}const EN=M.forwardRef(CN);function TN(t,e){return yr.register(e),M.forwardRef((n,i)=>to.createElement(EN,{...n,ref:i,type:t}))}const l0=TN("line",fa);class PN{constructor(){this.tiempoSegundos=0,this._corriendo=!1}reiniciar(){this.tiempoSegundos=0,this._corriendo=!1}iniciar(){this._corriendo=!0}detener(){this._corriendo=!1}avanzar(e){const n=Math.max(0,Number(e)||0);return!this._corriendo||n<=0?this.tiempoSegundos:(this.tiempoSegundos+=n,this.tiempoSegundos)}obtenerTiempo(){return this.tiempoSegundos}estaCorriendo(){return this._corriendo}}class ph{constructor({identificador:e,masaKg:n=0,posicion:i=0,velocidad:s=0,distanciaMeta:r=0,rutaImagen:a="",completada:o=!1}={}){if(!e)throw new Error("Caja requiere un identificador");this.identificador=String(e),this.masaKg=Math.max(0,Number(n)||0),this.posicion=Number(i)||0,this.velocidad=Number(s)||0,this.distanciaMeta=Math.max(0,Number(r)||0),this.rutaImagen=a||"",this.completada=!!o,this._estadoInicial={posicion:this.posicion,velocidad:this.velocidad,completada:this.completada}}reiniciar({posicion:e=this._estadoInicial.posicion,velocidad:n=this._estadoInicial.velocidad,completada:i=this._estadoInicial.completada}={}){this.posicion=Number(e)||0,this.velocidad=Number(n)||0,this.completada=!!i}snapshot(e={}){return{id:this.identificador,masaKg:this.masaKg,posicion:this.posicion,velocidad:this.velocidad,distanciaMeta:this.distanciaMeta,rutaImagen:this.rutaImagen,completada:this.completada,...e}}}class gh{constructor({identificador:e,masaKg:n=0,posX:i=0,posY:s=0,velocidad:r=0,distanciaMeta:a=0,rutaImagen:o="",distanciaRecorrida:l=0,energiaCinetica:c=0,completado:u=!1}={}){if(!e)throw new Error("Vehiculo requiere un identificador");this.identificador=String(e),this.masaKg=Math.max(0,Number(n)||0),this.posX=Number(i)||0,this.posY=Number(s)||0,this.velocidad=Number(r)||0,this.distanciaMeta=Math.max(0,Number(a)||0),this.rutaImagen=o||"",this.distanciaRecorrida=Number(l)||0,this.energiaCinetica=Number(c)||0,this.completado=!!u,this._historial=[],this._estadoInicial={posX:this.posX,posY:this.posY,velocidad:this.velocidad,distanciaRecorrida:this.distanciaRecorrida,energiaCinetica:this.energiaCinetica,completado:this.completado}}reiniciar({posX:e=this._estadoInicial.posX,posY:n=this._estadoInicial.posY,velocidad:i=this._estadoInicial.velocidad}={}){this.posX=Number(e)||0,this.posY=Number(n)||0,this.velocidad=Number(i)||0,this.distanciaRecorrida=Number(this._estadoInicial.distanciaRecorrida)||0,this.energiaCinetica=Number(this._estadoInicial.energiaCinetica)||0,this.completado=!!this._estadoInicial.completado,this._historial=[]}actualizarEstado({posX:e,posY:n,desplazamientoX:i,distanciaRecorrida:s,deltaDistanciaRecorrida:r,velocidad:a,energiaCinetica:o,deltaEnergiaCinetica:l,completado:c,fuerzaAplicada:u}={}){return typeof e=="number"&&Number.isFinite(e)?this.posX=e:typeof i=="number"&&Number.isFinite(i)&&(this.posX+=i),typeof n=="number"&&Number.isFinite(n)&&(this.posY=n),typeof s=="number"&&Number.isFinite(s)?this.distanciaRecorrida=s:typeof r=="number"&&Number.isFinite(r)?this.distanciaRecorrida+=r:typeof i=="number"&&Number.isFinite(i)&&(this.distanciaRecorrida+=i),typeof a=="number"&&Number.isFinite(a)&&(this.velocidad=a),typeof o=="number"&&Number.isFinite(o)?this.energiaCinetica=o:typeof l=="number"&&Number.isFinite(l)&&(this.energiaCinetica+=l),this.distanciaMeta>0&&this.distanciaRecorrida>=this.distanciaMeta&&(this.distanciaRecorrida=this.distanciaMeta,this.posX=this.distanciaMeta,this.completado=!0),typeof c=="boolean"&&(this.completado=c),this._historial.push({tiempo:Date.now(),posX:this.posX,posY:this.posY,velocidad:this.velocidad,distanciaRecorrida:this.distanciaRecorrida,energiaCinetica:this.energiaCinetica,completado:this.completado,fuerzaAplicada:typeof u=="number"?u:void 0}),this.snapshot({fuerzaAplicada:typeof u=="number"?u:void 0})}historial(){return this._historial.slice()}snapshot(e={}){return{id:this.identificador,masaKg:this.masaKg,posX:this.posX,posY:this.posY,velocidad:this.velocidad,distanciaMeta:this.distanciaMeta,distanciaRecorrida:this.distanciaRecorrida,energiaCinetica:this.energiaCinetica,completado:this.completado,...e}}}class xh{constructor({identificador:e,masaKg:n=0,altura:i=0,velocidad:s=0,rutaImagen:r="",trabajoAcumulado:a=0,completada:o=!1}={}){if(!e)throw new Error("Bola requiere un identificador");this.identificador=String(e),this.masaKg=Math.max(0,Number(n)||0),this.altura=Math.max(0,Number(i)||0),this.velocidad=Number(s)||0,this.rutaImagen=r||"",this.trabajoAcumulado=Number(a)||0,this.completada=!!o,this._estadoInicial={altura:this.altura,velocidad:this.velocidad,trabajoAcumulado:this.trabajoAcumulado,completada:this.completada}}reiniciar({altura:e=this._estadoInicial.altura,velocidad:n=this._estadoInicial.velocidad,trabajoAcumulado:i=this._estadoInicial.trabajoAcumulado,completada:s=this._estadoInicial.completada}={}){this.altura=Math.max(0,Number(e)||0),this.velocidad=Number(n)||0,this.trabajoAcumulado=Number(i)||0,this.completada=!!s}snapshot(e={}){return{id:this.identificador,masaKg:this.masaKg,altura:this.altura,velocidad:this.velocidad,trabajoAcumulado:this.trabajoAcumulado,completada:this.completada,...e}}}class vh{constructor({rutaImagen:e="",posX:n=0,posY:i=0,ancho:s=0,alto:r=0}={}){this.rutaImagen=e||"",this.posX=Number(n)||0,this.posY=Number(i)||0,this.ancho=Math.max(0,Number(s)||0),this.alto=Math.max(0,Number(r)||0),this.tipo="cesped"}}class yh{constructor({rutaImagen:e="",posX:n=0,posY:i=0,ancho:s=0,alto:r=0}={}){this.rutaImagen=e||"",this.posX=Number(n)||0,this.posY=Number(i)||0,this.ancho=Math.max(0,Number(s)||0),this.alto=Math.max(0,Number(r)||0),this.tipo="pista"}}class bh{constructor({rutaImagen:e="",posX:n=0,posY:i=0,ancho:s=0,alto:r=0,pisos:a=1,ascensorPrincipalId:o=null}={}){this.rutaImagen=e||"",this.posX=Number(n)||0,this.posY=Number(i)||0,this.ancho=Math.max(0,Number(s)||0),this.alto=Math.max(0,Number(r)||0),this.tipo="edificio",this.pisos=Math.max(1,Number(a)||1),this.ascensorPrincipalId=o}}class _h{constructor({alturaReferencia:e=0,rutaImagen:n=""}={}){this.alturaReferencia=Math.max(0,Number(e)||0),this.rutaImagen=n||""}obtenerAltura(){return this.alturaReferencia}snapshot(e={}){return{alturaReferencia:this.alturaReferencia,rutaImagen:this.rutaImagen,...e}}}const zN=9.81;class wh{constructor({nombre:e="Fuerza Constante",fuerzaN:n=0}={}){this.nombre=e,this.fuerzaN=Number(n)||0}valor(){return this.fuerzaN}aplicar(e,n,{coeficienteFriccion:i}={}){const s=Math.max(0,Number(n)||0);if(!e||typeof e.masaKg!="number"||s<=0)return null;const r=Math.max(0,Number(e.masaKg)||0);if(!(r>0))return null;const a=Number(i??(e==null?void 0:e.coeficienteFriccion)??0)||0,l=Math.max(0,a)*r*zN,c=Number(e.velocidad)||0,u=Number(e.posicion??0)||0;let f=0,h=0,p=0,x=u,m=c;Math.abs(c)>1e-6?(f=-l*Math.sign(c),h=this.fuerzaN+f):Math.abs(this.fuerzaN)<=l?(f=-this.fuerzaN,h=0):(f=-l*Math.sign(this.fuerzaN||1),h=this.fuerzaN+f);let y=0;if(h!==0){p=h/r;const w=c+p*s;if(c!==0&&w!==0&&Math.sign(c)!==Math.sign(w)){const j=Math.min(s,Math.max(0,-c/p));y=c*j+.5*p*j*j,x=u+y,m=0}else c===0&&h!==0?(x=u+.5*p*s*s,m=p*s,y=x-u):(x=u+c*s+.5*p*s*s,m=w,y=x-u)}else m=0,x=u,y=0;const g=this.fuerzaN*y,v=f*y;let b=m,_=!1;typeof e.distanciaMeta=="number"&&e.distanciaMeta>0&&x>=e.distanciaMeta&&(x=e.distanciaMeta,_=!0,m>0&&(b=m,m=0)),e.posicion=x,e.velocidad=m,"completada"in e?e.completada=e.completada||_:_&&(e.completada=!0);const N={fuerzaAplicada:this.fuerzaN,fuerzaFriccion:f,fuerzaNeta:h,aceleracion:p,desplazamiento:y,deltaTrabajoAplicado:g,deltaTrabajoFriccion:v,velocidadInstantanea:b};return typeof e.snapshot=="function"?e.snapshot(N):{posicion:x,velocidad:b,completada:!!e.completada,...N}}calcularTrabajo(e){const n=Number(e)||0;return this.fuerzaN*n}}const AN=9.81;class Nh{constructor({nombre:e="Fuerza Variable",k:n=0,offsetN:i=.1}={}){this.nombre=e,this.k=Number(n)||0,this.offsetN=Number(i)||0}establecerOffset(e){this.offsetN=Number(e)||0}valor(e=0){const n=Math.max(0,Number(e)||0);return this.offsetN+this.k*n}aplicar(e,n,{coeficienteFriccion:i,posicion:s}={}){const r=Math.max(0,Number(n)||0);if(!e||typeof e.masaKg!="number"||r<=0)return null;const a=Math.max(0,Number(e.masaKg)||0);if(!(a>0))return null;const o=Math.max(0,Number(typeof s=="number"?s:(e==null?void 0:e.posicion)??0)||0),l=this.valor(o),c=Number(i??(e==null?void 0:e.coeficienteFriccion)??0)||0,f=Math.max(0,c)*a*AN,h=Number(e.velocidad)||0;let p=0,x=0,m=0;const y=Number(e.posicion??0)||0;let g=y,v=h;Math.abs(h)>1e-6?(p=-f*Math.sign(h),x=l+p):Math.abs(l)<=f?(p=-l,x=0):(p=-f*Math.sign(l||1),x=l+p);let b=0;if(x!==0){m=x/a;const k=h+m*r;if(h!==0&&k!==0&&Math.sign(h)!==Math.sign(k)){const C=Math.min(r,Math.max(0,-h/m));b=h*C+.5*m*C*C,g=y+b,v=0}else h===0&&x!==0?(g=y+.5*m*r*r,v=m*r,b=g-y):(g=y+h*r+.5*m*r*r,v=k,b=g-y)}else v=0,g=y,b=0;const _=l*b,N=p*b;let w=v,j=!1;typeof e.distanciaMeta=="number"&&e.distanciaMeta>0&&g>=e.distanciaMeta&&(g=e.distanciaMeta,j=!0,v>0&&(w=v,v=0)),e.posicion=g,e.velocidad=v,"completada"in e?e.completada=e.completada||j:j&&(e.completada=!0);const S={fuerzaAplicada:l,fuerzaFriccion:p,fuerzaNeta:x,aceleracion:m,desplazamiento:b,deltaTrabajoAplicado:_,deltaTrabajoFriccion:N,velocidadInstantanea:w};return typeof e.snapshot=="function"?e.snapshot(S):{posicion:g,velocidad:w,completada:!!e.completada,...S}}calcularTrabajo(e){const n=Number(e)||0;return .5*this.k*n*n}}class RN{calcularVelocidadFinal({velocidadInicial:e=0,aceleracion:n=0,tiempo:i=0}={}){const s=Number(e)||0,r=Number(n)||0,a=Number(i)||0;return s+r*a}calcularDesplazamiento({velocidadInicial:e=0,aceleracion:n=0,tiempo:i=0}={}){const s=Number(e)||0,r=Number(n)||0,a=Number(i)||0;return s*a+.5*r*a*a}calcularImpulso({fuerza:e=0,tiempo:n=0}={}){const i=Number(e)||0,s=Number(n)||0;return i*s}aplicar(e,n,i){var k,C;const s=Math.max(0,Number(i)||0);if(!e||s<=0)return((k=e==null?void 0:e.snapshot)==null?void 0:k.call(e))??null;const r=Math.max(0,Number(e.masaKg)||0),a=Number(n)||0;if(!(r>0))return((C=e==null?void 0:e.snapshot)==null?void 0:C.call(e))??null;const o=Number(e.velocidad??e.velocidadX??0)||0,l=Number.isFinite(e.posicion)?Number(e.posicion):0,c=Number.isFinite(e.posX)?Number(e.posX):l,u=Number.isFinite(e.distanciaRecorrida)?Number(e.distanciaRecorrida):Number.isFinite(e.posicion)?Number(e.posicion):c,f=r>0?a/r:0,h=o*s+.5*f*s*s,p=l+h,x=o+f*s,m=Object.prototype.hasOwnProperty.call(e,"energiaCinetica"),y=m&&Number(e.energiaCinetica)||0;Number.isFinite(e.posicion)&&(e.posicion=p),Number.isFinite(e.posX)&&(e.posX=c+h),Number.isFinite(e.distanciaRecorrida)&&(e.distanciaRecorrida=u+h),e.velocidad=x;const g=Number(e.distanciaMeta);if(Number.isFinite(g)&&g>0){const z=Number.isFinite(e.posicion)?e.posicion:Number.isFinite(e.distanciaRecorrida)?e.distanciaRecorrida:Number.isFinite(e.posX)?e.posX:NaN;Number.isFinite(z)&&z>=g&&(Number.isFinite(e.posicion)&&(e.posicion=g),Number.isFinite(e.posX)&&(e.posX=g),Number.isFinite(e.distanciaRecorrida)&&(e.distanciaRecorrida=g),e.velocidad>0&&(e.velocidad=0),"completada"in e&&(e.completada=!0),"completado"in e&&(e.completado=!0))}const v=Number(e.velocidad)||0,b=.5*r*v*v;m&&(e.energiaCinetica=b);const _=b-y,N=typeof e.snapshot=="function"?e.snapshot({fuerzaAplicada:a,aceleracion:f,desplazamiento:h,deltaEnergiaCinetica:_}):void 0,w=Number.isFinite(e.posicion)?e.posicion:Number.isFinite(e.posX)?e.posX:p,j=Number(e.velocidad)||0,S=m?Number(e.energiaCinetica)||0:b;return{...N||{},aceleracion:f,desplazamiento:h,posicionFinal:w,velocidadFinal:j,energiaCinetica:S,deltaEnergiaCinetica:_}}}class FN{constructor({g:e=9.81}={}){this.g=Number(e)||9.81}calcularAltura(e,n){const i=Number(e)||0,s=Math.max(1e-6,Number(n)||0);return i/(s*this.g)}calcularVelocidadCaida({altura:e=0}={}){const n=Math.max(0,Number(e)||0);return Math.sqrt(2*this.g*n)}calcularTrabajo({masa:e=0,altura:n=0}={}){const i=Math.max(0,Number(e)||0),s=Number(n)||0;return i*this.g*s}elevar(e,n,i,s){if(!e)return null;const r=Math.max(0,Number(n)||0),a=Math.max(1e-6,Number(i)||1),o=Math.max(0,Number(s)||.01),l=2*r/(a*a),c=Math.max(0,Number(e.masaKg)||0),u=c*(l+this.g),f=Number(e.velocidad??e.velocidadY??0)||0,h=f*o+.5*l*o*o,p=f+l*o,x=u*h,m=c*this.g*h,g=(Number(e.posicion??e.posY??0)||0)+h;Number.isFinite(e.posicion)&&(e.posicion=g),Number.isFinite(e.posY)&&(e.posY=g),e.velocidad=p;const v=Number.isFinite(e.posicion)?e.posicion:Number.isFinite(e.posY)?e.posY:g,b=o>0?x/o:0,_=e.velocidad,N=r/a,w={fuerzaAplicada:u,fuerzaFriccion:0,desplazamiento:h,deltaTrabajo:x,deltaEnergiaPotencial:m};return{alturaActual:v,velocidadActual:_,deltaTrabajo:x,potenciaInst:b,velocidadObjetivo:N,deltaEnergiaPotencial:m,snapshot:typeof e.snapshot=="function"?e.snapshot(w):void 0}}}const Sh=9.81,ON=1e-4;class IN{constructor({gravedad:e=Sh}={}){this.gravedad=Number(e)||Sh}avanzar({objeto:e,deltaTiempo:n,alturaSuelo:i=0,contexto:s={}}={}){if(!e)return{altura:0,velocidad:0,trabajoDelta:0,trabajoTotal:s.trabajoTotal??0,energiaPotencial:0,energiaCinetica:0,completada:!0};const r=Math.max(0,Number(e.masaKg)||0);let a=Math.max(0,Number(n)||0);const o=Math.max(0,Number(e.altura)||0),l=Number(e.velocidad)||0;let c=o,u=l,f=l,h=0;const p=Math.max(.001,Number(s.pasoIntegracion)||.016);for(;a>0&&!e.completada;){const b=Math.min(p,a),_=this.gravedad,N=u*b+.5*_*b*b,w=c-N;if(w<=i+ON){const j=Math.max(0,c-i);c=i,h+=r*this.gravedad*j,f=Math.sqrt(Math.max(0,u*u+2*_*j)),u=f,e.completada=!0}else c=w,u+=_*b,h+=r*this.gravedad*Math.max(0,N);a-=b}const m=(Number(s.trabajoTotal)||0)+h;s.trabajoTotal=m,e.altura=c,e.velocidad=u,e.trabajoAcumulado=m;const y=r*this.gravedad*Math.max(0,c-i),g=.5*r*u*u,v=y+g;return{altura:c,velocidad:u,trabajoDelta:h,velocidadImpacto:f,trabajoTotal:m,energiaPotencial:y,energiaCinetica:g,energiaMecanica:v,completada:e.completada}}}class DN{constructor({columnas:e=[],filas:n=[]}={}){this.columnas=Array.isArray(e)?e.slice():[],this.filas=Array.isArray(n)?n.map(i=>Array.isArray(i)?i.slice():[i]):[]}agregarFila(e){Array.isArray(e)&&this.filas.push(e.slice())}establecerColumnas(e){Array.isArray(e)&&(this.columnas=e.slice())}eliminarFila(e){const n=Number(e);Number.isInteger(n)&&(n<0||n>=this.filas.length||this.filas.splice(n,1))}obtenerColumnas(){return this.columnas.slice()}obtenerFilas(){return this.filas.map(e=>e.slice())}limpiar(){this.filas=[]}toJSON(){return{columnas:this.obtenerColumnas(),filas:this.obtenerFilas()}}}class LN{constructor({titulo:e="",tipo:n="linea",ejeX:i="",ejeY:s="",datos:r=[]}={}){this.titulo=e,this.tipo=n,this.ejeX=i,this.ejeY=s,this.datos=Array.isArray(r)?r.map(a=>({...a})):[]}agregarDato(e){!e||typeof e!="object"||this.datos.push({...e})}limpiar(){this.datos=[]}}class yc{constructor({texto:e="",tipo:n="info"}={}){this.texto=e,this.tipo=n}generar(e){return this.texto}}class BN{constructor({nombre:e="finales",valores:n=new Map}={}){this.nombre=e,this.valores=n instanceof Map?new Map(n):new Map}setValor(e,n){e&&this.valores.set(e,n)}obtenerValor(e){return this.valores.get(e)}limpiar(){this.valores.clear()}toJSON(){return{nombre:this.nombre,valores:Array.from(this.valores.entries())}}}class VN{constructor({tabla:e=new DN,graficos:n=[],interpretacion:i=new yc({texto:""}),metricas:s=new BN({nombre:"finales"})}={}){this.tabla=e,this.graficos=Array.isArray(n)?n.slice():[],this.interpretacion=i,this.metricas=s}agregarGrafico(e){e instanceof LN&&this.graficos.push(e)}agregarMetrica(e,n){this.metricas&&this.metricas.setValor(e,n)}agregarFilaResumen({columnas:e=null,fila:n=null}={}){Array.isArray(e)&&e.length>0&&this.tabla.establecerColumnas(e),Array.isArray(n)&&this.tabla.agregarFila(n)}eliminarFilaResumen(e){this.tabla.eliminarFila(e)}generar(e){return{tabla:this.tabla.toJSON(),graficos:this.graficos,interpretacion:this.interpretacion,metricas:this.metricas}}}class U{constructor({nombre:e,unidad:n=""}={}){if(!e)throw new Error("MetricasTiempoReal requiere un nombre");this.nombre=e,this.unidad=n,this.valores=new Map}agregarValor(e,n){const i=Number(e);if(!Number.isFinite(i))return;const s=Number(n)||0;this.valores.set(i,s)}obtenerUltimo(){if(this.valores.size===0)return 0;const e=Array.from(this.valores.keys()).sort((i,s)=>i-s),n=e[e.length-1];return this.valores.get(n)}limpiar(){this.valores.clear()}}class Ze{constructor({titulo:e,tipo:n="linea",ejeX:i="Tiempo (s)",ejeY:s="",metrica:r}={}){if(!e)throw new Error("GraficaTemporal requiere un titulo");this.titulo=e,this.tipo=n,this.ejeX=i,this.ejeY=s,this.metrica=r,this.datos=new Map}actualizar(e,n){const i=Number(e);if(!Number.isFinite(i))return;const s=Number(n)||0;this.datos.set(i,s),this.metrica&&this.metrica.agregarValor(i,s)}renderizar(){return Array.from(this.datos.entries()).sort((e,n)=>e[0]-n[0]).map(([e,n])=>({x:e,y:n}))}limpiar(){this.datos.clear(),this.metrica&&this.metrica.limpiar()}}class jh{constructor({masaKg:e=0,fuerzaN:n=0,distanciaMetaM:i=0,friccionActiva:s=!1,coeficienteMu:r=0}={}){this.masaKg=Number(e)||0,this.fuerzaN=Number(n)||0,this.distanciaMetaM=Number(i)||0,this.friccionActiva=!!s,this.coeficienteMu=Number(r)||0}validar(){return!(!(this.masaKg>0)||!(this.distanciaMetaM>0)||!Number.isFinite(this.fuerzaN)||this.friccionActiva&&!(this.coeficienteMu>=0))}toJSON(){return{masaKg:this.masaKg,fuerzaN:this.fuerzaN,distanciaMetaM:this.distanciaMetaM,friccionActiva:this.friccionActiva,coeficienteMu:this.coeficienteMu}}}class Mh{constructor({masaKg:e=0,k:n=0,distanciaMetaM:i=0,friccionActiva:s=!1,coeficienteMu:r=0,offsetN:a=.1}={}){this.masaKg=Number(e)||0,this.k=Number(n)||0,this.distanciaMetaM=Number(i)||0,this.friccionActiva=!!s,this.coeficienteMu=Number(r)||0;const o=Number(a);this.offsetN=Number.isFinite(o)?o:.1}validar(){return!(!(this.masaKg>0)||!(this.distanciaMetaM>0)||!(this.k>=0)||!Number.isFinite(this.k)||this.friccionActiva&&!(this.coeficienteMu>=0))}toJSON(){return{masaKg:this.masaKg,k:this.k,distanciaMetaM:this.distanciaMetaM,friccionActiva:this.friccionActiva,coeficienteMu:this.coeficienteMu,offsetN:this.offsetN}}}const Za=class Za{constructor({masaKg:e=0,alturaM:n=0,tiempoRapidoS:i=0,tiempoLentoS:s=0}={}){this.masaKg=Number(e)||0,this.alturaM=Number(n)||0,this.tiempoRapidoS=Number(i)||0,this.tiempoLentoS=Number(s)||0}validar(){return!(!(this.masaKg>0)||!(this.alturaM>0&&this.alturaM<=Za.ALTURA_MAX)||!(this.tiempoRapidoS>0)||!(this.tiempoLentoS>0))}toJSON(){return{masaKg:this.masaKg,alturaM:this.alturaM,tiempoRapidoS:this.tiempoRapidoS,tiempoLentoS:this.tiempoLentoS}}};$(Za,"ALTURA_MAX",25);let dr=Za;class kh{constructor({masaKg:e=0,velocidadFinalMs:n=0,distanciaMetaM:i=0}={}){this.masaKg=Number(e)||0,this.velocidadFinalMs=Number(n)||0,this.distanciaMetaM=Number(i)||0}validar(){return!(!(this.masaKg>0)||!(this.velocidadFinalMs>0)||!(this.distanciaMetaM>0))}toJSON(){return{masaKg:this.masaKg,velocidadFinalMs:this.velocidadFinalMs,distanciaMetaM:this.distanciaMetaM}}}class Ch{constructor({masaKg:e=0,alturaInicialM:n=0,velocidadInicialMs:i=0,rutaBola:s=null,rutaSuelo:r=null}={}){this.masaKg=Number(e)||0,this.alturaInicialM=Math.max(0,Number(n)||0),this.velocidadInicialMs=Number(i)||0,this.rutaBola=s||null,this.rutaSuelo=r||null}validar(){return!(!(this.masaKg>0)||!(this.alturaInicialM>=0))}toJSON(){return{masaKg:this.masaKg,alturaInicialM:this.alturaInicialM,velocidadInicialMs:this.velocidadInicialMs,rutaBola:this.rutaBola,rutaSuelo:this.rutaSuelo}}}class Eh{constructor({modo:e="trabajo-constante",trabajoConstante:n={},trabajoVariable:i={},potencia:s={},energiaCinetica:r={},fuerzasConservativas:a={}}={}){this.modo=e,this.trabajoConstante=n instanceof jh?n:new jh(n),this.trabajoVariable=i instanceof Mh?i:new Mh(i),this.potencia=s instanceof dr?s:new dr(s),this.energia=r instanceof kh?r:new kh(r),this.fuerzasConservativas=a instanceof Ch?a:new Ch(a)}conModo(e){return this.modo=e,this}obtenerTrabajoConstante(){return this.trabajoConstante}obtenerTrabajoVariable(){return this.trabajoVariable}obtenerPotencia(){return this.potencia}obtenerEnergiaCinetica(){return this.energia}obtenerFuerzasConservativas(){return this.fuerzasConservativas}validar(){switch(this.modo){case"trabajo":case"trabajo-constante":return this.trabajoConstante.validar();case"trabajo-variable":return this.trabajoVariable.validar();case"potencia":return this.potencia.validar();case"energia-cinetica":return this.energia.validar();case"fuerzas-conservativas":return this.fuerzasConservativas.validar();default:return!1}}}const Lt=9.81,G=Object.freeze({Configurando:"configurando",Corriendo:"corriendo",Pausada:"pausada",Finalizada:"finalizada"});class br{constructor({tipo:e="trabajo-constante",parametros:n=null}={}){this.tipo=e,this.parametros=n instanceof Eh?n:new Eh({modo:e,...n||{}}),this.estado=G.Configurando,this.cronometro=new PN,this.resultado=new VN,this.cajas=[],this.vehiculos=[],this.bolas=[],this.cesped=null,this.pista=null,this.edificio=null,this.suelo=null,this.fuerzaConstante=new wh,this.fuerzaVariable=new Nh,this.movimientoCinetico=new RN,this.movimientoPotencial=new FN({}),this.movimientoConservativo=new IN({}),this.metricas=new Map,this.graficas=new Map,this._contextoTrabajo=null,this._contextoTrabajoConstante=null,this._contextoTrabajoVariable=null,this._contextoPotencia=null,this._contextoEnergia=null,this._contextoConservativo=null,this._friccionActiva=!1,this._estadoAntesFriccion=null,this._ultimoTipoResumen=null}_formatearNumero(e,n=2){const i=Number(e);return Number.isFinite(i)?i.toFixed(n):"0"}_actualizarInterpretacion(e){e&&(this.resultado.interpretacion=new yc({texto:e}))}_actualizarInterpretacionSegura(e){try{if(!e||typeof e!="string"||!e.trim())return;this.resultado.interpretacion instanceof yc?this.resultado.interpretacion.texto=e.trim():this.resultado.interpretacion&&typeof this.resultado.interpretacion=="object"&&Object.prototype.hasOwnProperty.call(this.resultado.interpretacion,"texto")?this.resultado.interpretacion.texto=e.trim():this._actualizarInterpretacion(e.trim())}catch(n){console.warn("No se pudo generar la interpretacin personalizada.",n)}}limpiarObjetos(){this.cajas=[],this.vehiculos=[],this.bolas=[]}resetVisualizaciones(){this.metricas=new Map,this.graficas=new Map}registrarMetrica(e,n){if(!e)return null;const i=n instanceof U?n:new U(n);return this.metricas.set(e,i),i}registrarGrafica(e,n){if(!e)return null;const i=n instanceof Ze?n:new Ze(n);return this.graficas.set(e,i),i}actualizarMetrica(e,n,i){const s=this.metricas.get(e);s&&s.agregarValor(Number(n)||0,Number(i)||0)}actualizarGrafica(e,n,i){const s=this.graficas.get(e);s&&s.actualizar(Number(n)||0,Number(i)||0)}agregarCaja(e){const n=e instanceof ph?e:new ph(e);return this.cajas.push(n),n}agregarVehiculo(e){const n=e instanceof gh?e:new gh(e);return this.vehiculos.push(n),n}agregarBola(e){const n=e instanceof xh?e:new xh(e);return this.bolas.push(n),n}establecerSuperficieCesped(e){return this.cesped=e instanceof vh?e:new vh(e||{}),this.cesped}establecerSuperficiePista(e){return this.pista=e instanceof yh?e:new yh(e||{}),this.pista}establecerEdificio(e){return this.edificio=e instanceof bh?e:new bh(e||{}),this.edificio}establecerSuperficieSuelo(e){return this.suelo=e instanceof _h?e:new _h(e||{}),this.suelo}establecerFuerzaConstante(e){return e instanceof wh?this.fuerzaConstante=e:e&&typeof e=="object"&&(Object.prototype.hasOwnProperty.call(e,"fuerzaN")&&(this.fuerzaConstante.fuerzaN=Number(e.fuerzaN)||0),Object.prototype.hasOwnProperty.call(e,"nombre")&&(this.fuerzaConstante.nombre=String(e.nombre))),this.fuerzaConstante}establecerFuerzaVariable(e){if(e instanceof Nh)this.fuerzaVariable=e;else if(e&&typeof e=="object"&&(Object.prototype.hasOwnProperty.call(e,"k")&&(this.fuerzaVariable.k=Number(e.k)||0),Object.prototype.hasOwnProperty.call(e,"nombre")&&(this.fuerzaVariable.nombre=String(e.nombre)),Object.prototype.hasOwnProperty.call(e,"offsetN"))){const n=Number(e.offsetN);Number.isFinite(n)&&this.fuerzaVariable.establecerOffset(n)}return this.fuerzaVariable}configurarTrabajoConstante({parametrosTrabajo:e}={}){var f,h,p,x;const n=e||((h=(f=this.parametros)==null?void 0:f.obtenerTrabajoConstante)==null?void 0:h.call(f)),i=n!=null&&n.toJSON?n.toJSON():n||{},s=Number(i.masaKg)||0,r=Number(i.distanciaMetaM)||0,a=Number(i.fuerzaN)||0,o=Number(i.coeficienteMu)||0;(x=(p=this.parametros)==null?void 0:p.conModo)==null||x.call(p,"trabajo-constante"),this.tipo="trabajo-constante",this.estado=G.Configurando,this.limpiarObjetos(),this.resetVisualizaciones(),this.establecerSuperficieCesped({});const l=this.agregarCaja({identificador:"caja-trabajo-constante",masaKg:s,distanciaMeta:r});l&&(l.coeficienteFriccion=0),this.registrarMetrica("tiempo",new U({nombre:"Tiempo",unidad:"s"})),this.registrarMetrica("trabajo_aplicado",new U({nombre:"Trabajo aplicado",unidad:"J"})),this.registrarMetrica("trabajo_friccion",new U({nombre:"Trabajo friccin",unidad:"J"})),this.registrarMetrica("trabajo_neto",new U({nombre:"Trabajo neto",unidad:"J"})),this.registrarMetrica("fuerza_actual",new U({nombre:"Fuerza",unidad:"N"})),this.registrarMetrica("distancia",new U({nombre:"Distancia",unidad:"m"})),this.registrarMetrica("velocidad",new U({nombre:"Velocidad",unidad:"m/s"})),this.registrarGrafica("trabajo_vs_distancia",new Ze({titulo:"Trabajo vs Distancia",ejeX:"Distancia (m)",ejeY:"Trabajo (J)"})),this.registrarGrafica("fuerza_vs_distancia",new Ze({titulo:"Fuerza vs Distancia",ejeX:"Distancia (m)",ejeY:"Fuerza (N)"}));const c=["Tiempo (s)","Trabajo aplicado (J)","Trabajo friccin (J)","Trabajo neto (J)","Fuerza (N)","Distancia (m)","Velocidad (m/s)"];this._ultimoTipoResumen!=="trabajo-constante"&&this.resultado.tabla.establecerColumnas(c);const u={tipo:"constante",caja:l,parametros:{...i,coeficienteMu:o},acumulados:{trabajoAplicado:0,trabajoFriccion:0},bloqueadoPorFriccion:!1,huboMovimiento:!1,ultimaFuerzaAplicada:0,ultimaFuerzaFriccion:0,resumenRegistrado:!1,columnasResumen:c};return u.obtenerFilaResumen=({tiempo:m,trabajoAplicado:y,trabajoFriccion:g,trabajoNeto:v,fuerzaFinal:b,cajaFinal:_})=>[Number(m)||0,Number(y)||0,Number(g)||0,Number(v)||0,Number(b)||0,Number((_==null?void 0:_.posicion)??0)||0,Number((_==null?void 0:_.velocidad)??0)||0],this._contextoTrabajoConstante=u,this._contextoTrabajoVariable=null,this._contextoTrabajo=u,this._contextoPotencia=null,this._contextoEnergia=null,this.establecerFuerzaConstante({fuerzaN:a}),this.establecerFriccionActiva(!1),l&&(l.coeficienteFriccion=0),this._ultimoTipoResumen="trabajo-constante",this}configurarTrabajoVariable({parametrosTrabajo:e}={}){var x,m,y,g,v;const n=e||((m=(x=this.parametros)==null?void 0:x.obtenerTrabajoVariable)==null?void 0:m.call(x)),i=n!=null&&n.toJSON?n.toJSON():n||{},s=Number(i.masaKg)||0,r=Number(i.distanciaMetaM)||0,a=Number(i.k)||0,o=Number(i.coeficienteMu)||0,l=Number(i.offsetN),c=Number.isFinite(l)?l:.1;(g=(y=this.parametros)==null?void 0:y.conModo)==null||g.call(y,"trabajo-variable"),this.tipo="trabajo-variable",this.estado=G.Configurando,this.limpiarObjetos(),this.resetVisualizaciones(),this.establecerSuperficieCesped({});const u=this.agregarCaja({identificador:"caja-trabajo-variable",masaKg:s,distanciaMeta:r});u&&(u.coeficienteFriccion=0),this.registrarMetrica("tiempo",new U({nombre:"Tiempo",unidad:"s"})),this.registrarMetrica("trabajo_aplicado",new U({nombre:"Trabajo aplicado",unidad:"J"})),this.registrarMetrica("trabajo_friccion",new U({nombre:"Trabajo friccin",unidad:"J"})),this.registrarMetrica("trabajo_neto",new U({nombre:"Trabajo neto",unidad:"J"})),this.registrarMetrica("fuerza_actual",new U({nombre:"Fuerza",unidad:"N"})),this.registrarMetrica("distancia",new U({nombre:"Distancia",unidad:"m"})),this.registrarMetrica("velocidad",new U({nombre:"Velocidad",unidad:"m/s"})),this.registrarGrafica("trabajo_vs_distancia",new Ze({titulo:"Trabajo vs Distancia",ejeX:"Distancia (m)",ejeY:"Trabajo (J)"})),this.registrarGrafica("fuerza_vs_distancia",new Ze({titulo:"Fuerza vs Distancia",ejeX:"Distancia (m)",ejeY:"Fuerza (N)"}));const f=["Tiempo (s)","Trabajo aplicado (J)","Trabajo friccin (J)","Trabajo neto (J)","Fuerza final (N)","Distancia (m)","Velocidad (m/s)","Constante k (N/m)","Offset (N)"];this._ultimoTipoResumen!=="trabajo-variable"&&this.resultado.tabla.establecerColumnas(f);const h={tipo:"variable",caja:u,parametros:{...i,coeficienteMu:o,offsetN:c},acumulados:{trabajoAplicado:0,trabajoFriccion:0},bloqueadoPorFriccion:!1,huboMovimiento:!1,ultimaFuerzaAplicada:0,ultimaFuerzaFriccion:0,resumenRegistrado:!1,columnasResumen:f};h.obtenerFilaResumen=({tiempo:b,trabajoAplicado:_,trabajoFriccion:N,trabajoNeto:w,fuerzaFinal:j,cajaFinal:S})=>{var k,C;return[Number(b)||0,Number(_)||0,Number(N)||0,Number(w)||0,Number(j)||0,Number((S==null?void 0:S.posicion)??0)||0,Number((S==null?void 0:S.velocidad)??0)||0,Number((k=h.parametros)==null?void 0:k.k)||0,Number((C=h.parametros)==null?void 0:C.offsetN)||0]},this._contextoTrabajoVariable=h,this._contextoTrabajoConstante=null,this._contextoTrabajo=h,this._contextoPotencia=null,this._contextoEnergia=null;const p=this.establecerFuerzaVariable({k:a,offsetN:c});return(v=p==null?void 0:p.establecerOffset)==null||v.call(p,c),this.establecerFriccionActiva(!1),u&&(u.coeficienteFriccion=0),this._ultimoTipoResumen="trabajo-variable",this}configurarPotencia({parametrosPotencia:e}={}){var f,h;const n=e||((h=(f=this.parametros)==null?void 0:f.obtenerPotencia)==null?void 0:h.call(f)),i=n!=null&&n.toJSON?n.toJSON():n||{},s=Number(i.masaKg)||0,r=Number(i.alturaM)||0,a=Math.max(1e-6,Number(i.tiempoRapidoS)||0),o=Math.max(1e-6,Number(i.tiempoLentoS)||0);this.tipo="potencia",this.estado=G.Configurando,this.limpiarObjetos(),this.resetVisualizaciones();const l=this.agregarCaja({identificador:"ascensor-rapido",masaKg:s,distanciaMeta:r}),c=this.agregarCaja({identificador:"ascensor-lento",masaKg:s,distanciaMeta:r});this.establecerEdificio({}),this.registrarMetrica("tiempo",new U({nombre:"Tiempo",unidad:"s"})),this.registrarMetrica("potencia_rapida",new U({nombre:"Potencia rpida",unidad:"W"})),this.registrarMetrica("potencia_lenta",new U({nombre:"Potencia lenta",unidad:"W"})),this.registrarMetrica("altura_rapida",new U({nombre:"Altura rpida",unidad:"m"})),this.registrarMetrica("altura_lenta",new U({nombre:"Altura lenta",unidad:"m"})),this.registrarMetrica("trabajo_total",new U({nombre:"Trabajo total",unidad:"J"})),this.registrarGrafica("potencia_vs_tiempo_rapida",new Ze({titulo:"Potencia rpida",ejeX:"Tiempo (s)",ejeY:"Potencia (W)"})),this.registrarGrafica("potencia_vs_tiempo_lenta",new Ze({titulo:"Potencia lenta",ejeX:"Tiempo (s)",ejeY:"Potencia (W)"}));const u=["Tiempo total (s)","Trabajo total (J)","Potencia rpida (W)","Potencia lenta (W)","Altura rpida (m)","Altura lenta (m)"];return this._ultimoTipoResumen!=="potencia"&&this.resultado.tabla.establecerColumnas(u),this._contextoPotencia={masaKg:s,alturaM:r,rapido:{caja:l,tiempoObjetivo:a,tiempoAcumulado:0},lento:{caja:c,tiempoObjetivo:o,tiempoAcumulado:0},resumenRegistrado:!1,columnasResumen:u,alturaMeta:r},this._contextoTrabajo=null,this._contextoEnergia=null,this._ultimoTipoResumen="potencia",this}configurarEnergiaCinetica({parametrosEnergia:e}={}){var f,h;const n=e||((h=(f=this.parametros)==null?void 0:f.obtenerEnergiaCinetica)==null?void 0:h.call(f)),i=n!=null&&n.toJSON?n.toJSON():n||{},s=Number(i.masaKg)||0,r=Math.max(0,Number(i.distanciaMetaM)||0),a=Math.max(0,Number(i.velocidadFinalMs)||0);this.tipo="energia-cinetica",this.estado=G.Configurando,this.limpiarObjetos(),this.resetVisualizaciones();const o=this.agregarVehiculo({identificador:"vehiculo-energia",masaKg:s,distanciaMeta:r});this.establecerSuperficiePista({});const l=r>0?a**2/(2*r):0,c=s*l;this.registrarMetrica("tiempo",new U({nombre:"Tiempo",unidad:"s"})),this.registrarMetrica("energia_cinetica",new U({nombre:"Energa cintica",unidad:"J"})),this.registrarMetrica("velocidad",new U({nombre:"Velocidad",unidad:"m/s"})),this.registrarMetrica("distancia",new U({nombre:"Distancia",unidad:"m"})),this.registrarGrafica("energia_vs_tiempo",new Ze({titulo:"Energa cintica",ejeX:"Tiempo (s)",ejeY:"Energa (J)"})),this.registrarGrafica("velocidad_vs_tiempo",new Ze({titulo:"Velocidad",ejeX:"Tiempo (s)",ejeY:"Velocidad (m/s)"}));const u=["Tiempo total (s)","Distancia final (m)","Velocidad final (m/s)","Energa cintica (J)"];return this._ultimoTipoResumen!=="energia-cinetica"&&this.resultado.tabla.establecerColumnas(u),this._contextoEnergia={vehiculo:o,masaKg:s,distanciaMetaM:r,velocidadFinalMs:a,fuerzaPropulsora:c,resumenRegistrao:!1,columnasResumen:u},this._contextoTrabajo=null,this._contextoPotencia=null,this._ultimoTipoResumen="energia-cinetica",this}configurarFuerzasConservativas({parametrosFuerzas:e}={}){var h,p,x,m;const n=e||((p=(h=this.parametros)==null?void 0:h.obtenerFuerzasConservativas)==null?void 0:p.call(h)),i=n!=null&&n.toJSON?n.toJSON():n||{},s=Math.max(0,Number(i.masaKg)||0),r=Math.max(0,Number(i.alturaInicialM)||0),a=Number(i.velocidadInicialMs)||0;(m=(x=this.parametros)==null?void 0:x.conModo)==null||m.call(x,"fuerzas-conservativas"),this.tipo="fuerzas-conservativas",this.estado=G.Configurando,this.limpiarObjetos(),this.resetVisualizaciones();const o=this.establecerSuperficieSuelo({alturaReferencia:0,rutaImagen:i.rutaSuelo||"/assets/sueloConservativo.png"}),l=this.agregarBola({identificador:"bola-caida-libre",masaKg:s,altura:Math.max(r,o.obtenerAltura()),velocidad:a,rutaImagen:i.rutaBola||"/assets/bolaConservativa.png",trabajoAcumulado:0,completada:!1});this.registrarMetrica("tiempo",new U({nombre:"Tiempo",unidad:"s"})),this.registrarMetrica("altura",new U({nombre:"Altura",unidad:"m"})),this.registrarMetrica("velocidad",new U({nombre:"Velocidad",unidad:"m/s"})),this.registrarMetrica("aceleracion",new U({nombre:"Aceleracin",unidad:"m/s"})),this.registrarMetrica("trabajo_gravedad",new U({nombre:"Trabajo gravedad",unidad:"J"})),this.registrarMetrica("energia_potencial",new U({nombre:"E. potencial",unidad:"J"})),this.registrarMetrica("energia_cinetica",new U({nombre:"E. cintica",unidad:"J"})),this.registrarMetrica("energia_mecanica",new U({nombre:"E. mecnica",unidad:"J"})),this.registrarGrafica("altura_vs_tiempo",new Ze({titulo:"Altura vs Tiempo",ejeX:"Tiempo (s)",ejeY:"Altura (m)"})),this.registrarGrafica("velocidad_vs_tiempo",new Ze({titulo:"Velocidad vs Tiempo",ejeX:"Tiempo (s)",ejeY:"Velocidad (m/s)"})),this.registrarGrafica("energia_mecanica_vs_tiempo",new Ze({titulo:"Energa mecnica vs Tiempo",ejeX:"Tiempo (s)",ejeY:"Energa (J)"}));const c=["Tiempo total (s)","Altura inicial (m)","Altura final (m)","Velocidad final (m/s)","Trabajo gravedad (J)","E. mecnica inicial (J)","E. mecnica final (J)"];this._ultimoTipoResumen!=="fuerzas-conservativas"&&this.resultado.tabla.establecerColumnas(c);const u=Math.max(o.obtenerAltura(),Math.min(r,20)),f=s*Lt*Math.max(0,u-o.obtenerAltura())+.5*s*a**2;return this._contextoConservativo={bola:l,suelo:o,masaKg:s,alturaInicial:u,pasoIntegracion:.016,columnasResumen:c,trabajoTotal:0,velocidadInicial:a,energiaMecanicaInicial:f,energiaMecanicaActual:f,resumenRegistrado:!1,gravedad:Lt},this._contextoTrabajo=null,this._contextoTrabajoConstante=null,this._contextoTrabajoVariable=null,this._contextoPotencia=null,this._contextoEnergia=null,this._ultimoTipoResumen="fuerzas-conservativas",this._friccionActiva=!1,this}validarParametros(){var e,n,i,s;return((s=(i=(n=(e=this.parametros)==null?void 0:e.conModo)==null?void 0:n.call(e,this.tipo))==null?void 0:i.validar)==null?void 0:s.call(i))!==!1}iniciar(){if(!this.validarParametros())throw new Error("Parmetros invlidos para iniciar la simulacin");this.cronometro.reiniciar(),this.cronometro.iniciar(),this.estado=G.Corriendo,this._friccionActiva&&(this._estadoAntesFriccion=G.Corriendo,this.pausar())}pausar(){this.estado===G.Corriendo&&(this.cronometro.detener(),this.estado=G.Pausada)}reanudar(){this.estado===G.Pausada&&(this.cronometro.iniciar(),this.estado=G.Corriendo)}reiniciar(){var n,i;this.cronometro.reiniciar(),this.cajas.forEach(s=>s.reiniciar()),this.vehiculos.forEach(s=>s.reiniciar()),this.metricas.forEach(s=>{var r;return(r=s.limpiar)==null?void 0:r.call(s)}),this.graficas.forEach(s=>{var r;return(r=s.limpiar)==null?void 0:r.call(s)});const e=s=>{s&&(s.acumulados&&(s.acumulados.trabajoAplicado=0,s.acumulados.trabajoFriccion=0),s.bloqueadoPorFriccion=!1,s.huboMovimiento=!1,s.ultimaFuerzaAplicada=0,s.ultimaFuerzaFriccion=0,s.resumenRegistrado=!1)};if(e(this._contextoTrabajoConstante),e(this._contextoTrabajoVariable),e(this._contextoTrabajo),this._contextoPotencia&&(this._contextoPotencia.rapido.tiempoAcumulado=0,this._contextoPotencia.lento.tiempoAcumulado=0,this._contextoPotencia.resumenRegistrado=!1),this._contextoEnergia&&((i=(n=this._contextoEnergia.vehiculo)==null?void 0:n.reiniciar)==null||i.call(n),this._contextoEnergia.resumenRegistrado=!1),this._contextoConservativo){const{bola:s,alturaInicial:r,velocidadInicial:a=0,energiaMecanicaInicial:o=0}=this._contextoConservativo;this._contextoConservativo.trabajoTotal=0,this._contextoConservativo.energiaMecanicaActual=o,this._contextoConservativo.resumenRegistrado=!1,s!=null&&s.reiniciar&&s.reiniciar({altura:r,velocidad:a,trabajoAcumulado:0,completada:!1})}this._friccionActiva=!1,this._estadoAntesFriccion=null,this.estado=G.Configurando}finalizar(){this.cronometro.detener(),this.estado=G.Finalizada,this._estadoAntesFriccion=null}establecerFriccionActiva(e){var i,s;const n=!!e;if(this._friccionActiva=n,(i=this._contextoConservativo)!=null&&i.bola){this._friccionActiva=!1;return}!n&&((s=this._contextoTrabajo)!=null&&s.bloqueadoPorFriccion)&&(this._contextoTrabajo.bloqueadoPorFriccion=!1,this.estado===G.Pausada&&this.reanudar())}_registrarResumenTrabajo(e,{tiempo:n,trabajoAplicado:i,trabajoFriccion:s,trabajoNeto:r,fuerzaFinal:a}){var c,u;if(!e||typeof e.obtenerFilaResumen!="function")return;const o=e.obtenerFilaResumen({tiempo:n,trabajoAplicado:i,trabajoFriccion:s,trabajoNeto:r,fuerzaFinal:a,cajaFinal:e.caja});this.resultado.agregarFilaResumen({columnas:Array.isArray(e.columnasResumen)?e.columnasResumen:[],fila:o}),e.resumenRegistrado=!0;const l=Number(((c=e.caja)==null?void 0:c.posicion)??((u=e.caja)==null?void 0:u.distanciaMeta)??0)||0;this._actualizarInterpretacionSegura(this._crearInterpretacionTrabajo({tiempo:n,trabajoAplicado:i,trabajoFriccion:s,trabajoNeto:r,fuerzaFinal:a,distancia:l,modo:e.tipo||"constante"}))}_registrarResumenPotencia(e,n,i,s){var l,c,u,f,h,p;if(!e)return;const r=Array.isArray(e.columnasResumen)&&e.columnasResumen.length>0?e.columnasResumen:["Tiempo total (s)","Trabajo total (J)","Potencia rpida (W)","Potencia lenta (W)","Altura rpida (m)","Altura lenta (m)"],a=Number((i==null?void 0:i.trabajo)??(s==null?void 0:s.trabajo)??e.masaKg*Lt*e.alturaM)||0,o=[Number(n)||0,a,Number(i==null?void 0:i.potencia)||0,Number(s==null?void 0:s.potencia)||0,Number(((c=(l=e.rapido)==null?void 0:l.caja)==null?void 0:c.posicion)??0)||0,Number(((f=(u=e.lento)==null?void 0:u.caja)==null?void 0:f.posicion)??0)||0];this.resultado.agregarFilaResumen({columnas:r,fila:o}),e.resumenRegistrado=!0,this._actualizarInterpretacionSegura(this._crearInterpretacionPotencia({tiempo:n,trabajoTotal:a,potenciaRapida:Number(i==null?void 0:i.potencia)||0,potenciaLenta:Number(s==null?void 0:s.potencia)||0,alturaMeta:e.alturaM,tiempoRapido:((h=e.rapido)==null?void 0:h.tiempoAcumulado)??0,tiempoLento:((p=e.lento)==null?void 0:p.tiempoAcumulado)??0}))}_registrarResumenEnergia(e,n){if(!e||!e.vehiculo)return;const i=Array.isArray(e.columnasResumen)&&e.columnasResumen.length>0?e.columnasResumen:["Tiempo total (s)","Distancia final (m)","Velocidad final (m/s)","Energa cintica (J)"],s=e.vehiculo,r=[Number(n)||0,Number(s.distanciaRecorrida??s.posicion??0)||0,Number(s.velocidad??0)||0,Number(s.energiaCinetica??0)||0];this.resultado.agregarFilaResumen({columnas:i,fila:r}),e.resumenRegistrado=!0,this._actualizarInterpretacionSegura(this._crearInterpretacionEnergia({tiempo:n,distancia:Number(e.vehiculo.distanciaRecorrida??e.distanciaMetaM??0)||0,distanciaMeta:e.distanciaMetaM,velocidad:Number(e.vehiculo.velocidad??0)||0,energia:Number(e.vehiculo.energiaCinetica??0)||0}))}_registrarResumenFuerzasConservativas(e,n){if(!e||!e.bola)return;const i=Array.isArray(e.columnasResumen)&&e.columnasResumen.length>0?e.columnasResumen:["Tiempo total (s)","Altura inicial (m)","Altura final (m)","Velocidad final (m/s)","Trabajo gravedad (J)","E. mecnica inicial (J)","E. mecnica final (J)"],s=e.bola,r=[Number(n)||0,Number(e.alturaInicial)||0,Number(e.alturaFinal??s.altura)||0,Number(e.velocidadFinal??s.velocidad)||0,Number(e.trabajoTotal)||0,Number(e.energiaMecanicaInicial)||0,Number(e.energiaMecanicaActual??e.energiaMecanicaInicial)||0];this.resultado.agregarFilaResumen({columnas:i,fila:r}),e.resumenRegistrado=!0,this._actualizarInterpretacionSegura(this._crearInterpretacionFuerzasConservativas({tiempo:n,alturaInicial:e.alturaInicial,alturaFinal:e.alturaFinal??s.altura,velocidadFinal:e.velocidadFinal??s.velocidad,trabajoGravedad:e.trabajoTotal,energiaInicial:e.energiaMecanicaInicial,energiaFinal:e.energiaMecanicaActual??e.energiaMecanicaInicial}))}_crearInterpretacionFuerzasConservativas({tiempo:e,alturaInicial:n,alturaFinal:i,velocidadFinal:s,trabajoGravedad:r,energiaInicial:a,energiaFinal:o}){const l=this._formatearNumero(e),c=this._formatearNumero(n),u=this._formatearNumero(i),f=this._formatearNumero(s),h=this._formatearNumero(r),p=this._formatearNumero(a),x=this._formatearNumero(o),m=i>0?`La esfera an se encuentra a ${u} m del suelo, conservando parte de su energa potencial.`:"La esfera alcanz el suelo y, en este modelo ideal, la energa potencial se transform completamente en energa cintica justo antes del impacto.",y=Math.abs(a-o)<.01?`La energa mecnica final (${x} J) coincide con la inicial, lo que evidencia la conservacin de la energa mecnica cuando solo acta la gravedad.`:`La energa mecnica inicial (${p} J) y la final (${x} J) presentan una ligera diferencia debido a efectos numricos; en un sistema conservativo ideal deberan coincidir.`;return`La fuerza de gravedad acta como una fuerza conservativa: en ${l} s la esfera descendi desde ${c} m. La gravedad realiz ${h} J de trabajo y la energa mecnica se mantuvo constante (energa cintica final ${f} m/s). ${m} ${y}`}_crearInterpretacionTrabajo({tiempo:e,trabajoAplicado:n,trabajoFriccion:i,trabajoNeto:s,fuerzaFinal:r,distancia:a,modo:o}){const l=this._formatearNumero(e),c=this._formatearNumero(a),u=this._formatearNumero(n),f=this._formatearNumero(s),h=this._formatearNumero(r),p=Math.abs(i)>.001?`La friccin disip ${this._formatearNumero(Math.abs(i))} J, por eso el trabajo neto termin en ${f} J.`:"No hubo prdidas por friccin, as que el trabajo aplicado y el neto coinciden.",x=o==="variable"?"La fuerza fue aumentando con la distancia, de modo que la pendiente de la curva Trabajo aplicado vs. Distancia cambia a medida que la caja avanza.":"Como la fuerza aplicada se mantuvo casi constante, la curva Trabajo aplicado vs. Distancia crece con una pendiente casi uniforme.",m=Math.abs(i)>.001?"En la grfica vers que la curva del trabajo neto crece ms lentamente que la del trabajo aplicado; la separacin entre ambas refleja la energa que se perdi por friccin.":"En la grfica Trabajo vs. Distancia ambas curvas se superponen, indicando que toda la energa aplicada se transform en trabajo til.";return`En ${l} s la caja recorri ${c} m aplicando ${u} J con una fuerza final de ${h} N. ${p} ${x} ${m}`}_crearInterpretacionPotencia({tiempo:e,trabajoTotal:n,potenciaRapida:i,potenciaLenta:s,alturaMeta:r,tiempoRapido:a,tiempoLento:o}){this._formatearNumero(e);const l=this._formatearNumero(r),c=this._formatearNumero(n),u=this._formatearNumero(i),f=this._formatearNumero(s),h=this._formatearNumero(a),p=this._formatearNumero(o),x=i-s,m=x>=0?"rpido":"lento";let y;return Math.abs(x)<.001?y="Ambos elevadores entregaron prcticamente la misma potencia promedio.":Math.abs(s)>1e-6?y=`El ascensor ${m} fue ${this._formatearNumero(Math.abs(i/s),2)} veces ms potente porque complet el mismo trabajo en un tiempo distinto.`:y=`El ascensor ${m} entreg la mayor parte de la potencia til; el otro apenas aport energa durante el ensayo.`,`Para elevar la masa ${l} m se realiz un trabajo de ${c} J. El ascensor rpido tard ${h} s y entreg ${u} W, mientras que el lento tard ${p} s con ${f} W. ${y} En la grfica Potencia vs. Tiempo puedes comparar directamente ambas curvas: la del ascensor rpido permanece por encima cuando tarda menos en alcanzar la altura objetivo.`}_crearInterpretacionEnergia({tiempo:e,distancia:n,distanciaMeta:i,velocidad:s,energia:r}){const a=this._formatearNumero(e),o=this._formatearNumero(n),l=this._formatearNumero(i??n),c=this._formatearNumero(s),u=this._formatearNumero(r),f=i&&i>0?`Se alcanz la meta propuesta de ${l} m de recorrido.`:`El vehculo avanz ${o} m durante la simulacin.`;return`En ${a} s el vehculo avanz ${o} m y termin con una velocidad de ${c} m/s, lo que corresponde a una energa cintica de ${u} J. ${f} La grfica Energa vs. Tiempo muestra cmo la energa cintica crece conforme aumenta la velocidad; la grfica Velocidad vs. Tiempo te permite comprobar si el incremento fue constante o si hubo variaciones.`}actualizar(e){if(this.estado!==G.Corriendo)return;const n=Math.max(0,Number(e)||0);if(n<=0)return;const i=this.cronometro.avanzar(n);this.tipo==="trabajo-constante"?this._actualizarTrabajoConstante(n,i):this.tipo==="trabajo-variable"?this._actualizarTrabajoVariable(n,i):this.tipo==="potencia"?this._actualizarPotencia(n,i):this.tipo==="energia-cinetica"?this._actualizarEnergia(n,i):this.tipo==="fuerzas-conservativas"&&this._actualizarFuerzasConservativas(n,i)}_actualizarTrabajoConstante(e,n){var S,k,C,z,D,J;const i=this._contextoTrabajoConstante;if(!i||!i.caja)return;this._contextoTrabajo=i;const{caja:s,parametros:r,acumulados:a}=i,o=Math.max(1e-6,Number((s==null?void 0:s.masaKg)??(r==null?void 0:r.masaKg)??0)||0),l=Math.max(0,Number((r==null?void 0:r.distanciaMetaM)??(s==null?void 0:s.distanciaMeta)??0)||0),c=Math.max(1e-4,Math.min(.02,Number(r==null?void 0:r.pasoDtS)||.01));let u=Math.max(0,Number(e)||0);if(!(u>0))return;const f=((k=(S=this.fuerzaConstante)==null?void 0:S.valor)==null?void 0:k.call(S))??Number((r==null?void 0:r.fuerzaN)??0),h=this._friccionActiva?Math.max(0,Number((s==null?void 0:s.coeficienteFriccion)??(r==null?void 0:r.coeficienteMu)??0)||0):0,p=o*Lt,x=h*p,m=1e-6,y=1e-8;let g=!1,v=((z=(C=this.fuerzaConstante)==null?void 0:C.valor)==null?void 0:z.call(C))??f,b=0,_=!1;for(;u>y&&!s.completada;){const q=Math.min(c,u),V=Number(s.posicion??0)||0,R=Number(s.velocidad??0)||0,W=((J=(D=this.fuerzaConstante)==null?void 0:D.valor)==null?void 0:J.call(D))??f;let E=0,A=W,O=!1;x>0&&(Math.abs(R)>m?(E=-x*Math.sign(R),A+=E):Math.abs(W)<=x+1e-9?(E=-W,A=0,O=!0):(E=-x*Math.sign(W||1),A+=E));let I=0,B=R,Y=V,ne=q;if(!O)if(Math.abs(A)>0){const Ee=A/o,On=R+Ee*q;if(Math.abs(R)>m&&Math.sign(On)!==Math.sign(R)){const jt=Math.max(0,Math.min(q,Math.abs(R/Ee))),In=R*jt+.5*Ee*jt*jt;I=In,Y=V+In,B=0,ne=Math.max(y,jt)}else I=R*q+.5*Ee*q*q,Y=V+I,B=On}else Math.abs(R)>m&&(I=R*q,Y=V+I,B=R);Math.abs(I)>y?(l>0&&Y>=l?(I=l-V,Y=l,s.completada=!0):Y<0&&(I=-V,Y=0,B=0),g=!0,_=!1,a&&(a.trabajoAplicado+=W*I,a.trabajoFriccion+=E*I)):_=O,s.posicion=Y;const he=Math.abs(B)<m?0:B;if(s.velocidad=he,s.energiaCinetica=.5*o*s.velocidad*s.velocidad,v=W,b=E,u-=ne,_&&!g)break}i.huboMovimiento=!!(i.huboMovimiento||g),i.bloqueadoPorFriccion=!!(_&&this._friccionActiva),i.ultimaFuerzaAplicada=v,i.ultimaFuerzaFriccion=b;const N=(a==null?void 0:a.trabajoAplicado)??0,w=(a==null?void 0:a.trabajoFriccion)??0,j=N+w;this.actualizarMetrica("tiempo",n,n),this.actualizarMetrica("trabajo_aplicado",n,N),this.actualizarMetrica("trabajo_friccion",n,w),this.actualizarMetrica("trabajo_neto",n,j),this.actualizarMetrica("fuerza_actual",n,v),this.actualizarMetrica("distancia",n,s.posicion),this.actualizarMetrica("velocidad",n,s.velocidad),g&&(this.actualizarGrafica("trabajo_vs_distancia",s.posicion,j),this.actualizarGrafica("fuerza_vs_distancia",s.posicion,v)),l>0&&s.posicion>=l-1e-6&&(s.posicion=l,s.completada=!0),s.completada?(i.resumenRegistrado||this._registrarResumenTrabajo(i,{tiempo:n,trabajoAplicado:N,trabajoFriccion:w,trabajoNeto:j,fuerzaFinal:v}),this.finalizar()):i.bloqueadoPorFriccion?this.pausar():i.bloqueadoPorFriccion=!1}_actualizarTrabajoVariable(e,n){var S,k,C,z,D,J;const i=this._contextoTrabajoVariable;if(!i||!i.caja)return;this._contextoTrabajo=i;const{caja:s,parametros:r,acumulados:a}=i,o=Math.max(1e-6,Number((s==null?void 0:s.masaKg)??(r==null?void 0:r.masaKg)??0)||0),l=Math.max(0,Number((r==null?void 0:r.distanciaMetaM)??(s==null?void 0:s.distanciaMeta)??0)||0),c=Math.max(1e-4,Math.min(.02,Number(r==null?void 0:r.pasoDtS)||.01));let u=Math.max(0,Number(e)||0);if(!(u>0))return;const f=this._friccionActiva?Math.max(0,Number((s==null?void 0:s.coeficienteFriccion)??(r==null?void 0:r.coeficienteMu)??0)||0):0,h=o*Lt,p=f*h,x=Number(r==null?void 0:r.offsetN);Number.isFinite(x)&&((k=(S=this.fuerzaVariable)==null?void 0:S.establecerOffset)==null||k.call(S,x));const m=1e-6,y=1e-8;let g=!1,v=((z=(C=this.fuerzaVariable)==null?void 0:C.valor)==null?void 0:z.call(C,Number(s.posicion??0)||0))??0,b=0,_=!1;for(;u>y&&!s.completada;){const q=Math.min(c,u),V=Number(s.posicion??0)||0,R=Number(s.velocidad??0)||0,W=((J=(D=this.fuerzaVariable)==null?void 0:D.valor)==null?void 0:J.call(D,V))??(Number(r==null?void 0:r.offsetN)||0)+(Number(r==null?void 0:r.k)||0)*Math.max(0,V);let E=0,A=W,O=!1;p>0&&(Math.abs(R)>m?(E=-p*Math.sign(R),A+=E):Math.abs(W)<=p+1e-9?(E=-W,A=0,O=!0):(E=-p*Math.sign(W||1),A+=E));let I=0,B=R,Y=V,ne=q;if(!O)if(Math.abs(A)>0){const Ee=A/o,On=R+Ee*q;if(Math.abs(R)>m&&Math.sign(On)!==Math.sign(R)){const jt=Math.max(0,Math.min(q,Math.abs(R/Ee))),In=R*jt+.5*Ee*jt*jt;I=In,Y=V+In,B=0,ne=Math.max(y,jt)}else I=R*q+.5*Ee*q*q,Y=V+I,B=On}else Math.abs(R)>m&&(I=R*q,Y=V+I,B=R);Math.abs(I)>y?(l>0&&Y>=l?(I=l-V,Y=l,s.completada=!0):Y<0&&(I=-V,Y=0,B=0),g=!0,_=!1,a&&(a.trabajoAplicado+=W*I,a.trabajoFriccion+=E*I)):_=O,s.posicion=Y;const he=Math.abs(B)<m?0:B;if(s.velocidad=he,s.energiaCinetica=.5*o*s.velocidad*s.velocidad,v=W,b=E,u-=ne,_&&!g)break}i.huboMovimiento=!!(i.huboMovimiento||g),i.bloqueadoPorFriccion=!!(_&&this._friccionActiva),i.ultimaFuerzaAplicada=v,i.ultimaFuerzaFriccion=b;const N=(a==null?void 0:a.trabajoAplicado)??0,w=(a==null?void 0:a.trabajoFriccion)??0,j=N+w;this.actualizarMetrica("tiempo",n,n),this.actualizarMetrica("trabajo_aplicado",n,N),this.actualizarMetrica("trabajo_friccion",n,w),this.actualizarMetrica("trabajo_neto",n,j),this.actualizarMetrica("fuerza_actual",n,v),this.actualizarMetrica("distancia",n,s.posicion),this.actualizarMetrica("velocidad",n,s.velocidad),g&&(this.actualizarGrafica("trabajo_vs_distancia",s.posicion,j),this.actualizarGrafica("fuerza_vs_distancia",s.posicion,v)),l>0&&s.posicion>=l-1e-6&&(s.posicion=l,s.completada=!0),s.completada?(i.resumenRegistrado||this._registrarResumenTrabajo(i,{tiempo:n,trabajoAplicado:N,trabajoFriccion:w,trabajoNeto:j,fuerzaFinal:v}),this.finalizar()):i.bloqueadoPorFriccion?this.pausar():i.bloqueadoPorFriccion=!1}_actualizarFuerzasConservativas(e,n){var o,l;const i=this._contextoConservativo;if(!i||!i.bola||!i.suelo)return;const s=i.bola,r=((l=(o=i.suelo)==null?void 0:o.obtenerAltura)==null?void 0:l.call(o))??0,a=this.movimientoConservativo.avanzar({objeto:s,deltaTiempo:e,alturaSuelo:r,contexto:i});this.actualizarMetrica("tiempo",n,n),this.actualizarMetrica("altura",n,a.altura),this.actualizarMetrica("velocidad",n,a.velocidad),this.actualizarMetrica("aceleracion",n,i.gravedad??Lt),this.actualizarMetrica("trabajo_gravedad",n,a.trabajoTotal),this.actualizarMetrica("energia_potencial",n,a.energiaPotencial),this.actualizarMetrica("energia_cinetica",n,a.energiaCinetica),this.actualizarMetrica("energia_mecanica",n,a.energiaMecanica),this.actualizarGrafica("altura_vs_tiempo",n,a.altura),this.actualizarGrafica("velocidad_vs_tiempo",n,a.velocidad),this.actualizarGrafica("energia_mecanica_vs_tiempo",n,a.energiaMecanica),i.alturaFinal=a.altura,i.velocidadFinal=a.velocidad,i.energiaMecanicaActual=a.energiaMecanica,i.trabajoTotal=a.trabajoTotal,a.completada&&!i.resumenRegistrado&&(i.velocidadFinal=a.velocidadImpacto??a.velocidad??0,this._registrarResumenFuerzasConservativas(i,n),this.finalizar())}_actualizarPotencia(e,n){const i=this._contextoPotencia;if(!i)return;const{masaKg:s,alturaM:r,rapido:a,lento:o}=i,l=f=>{const{caja:h,tiempoObjetivo:p}=f;if(h.completada)return{trabajo:s*Lt*r,potencia:p>0?s*Lt*r/p:0};f.tiempoAcumulado+=e;const x=Math.min(1,f.tiempoAcumulado/p),m=r*x,y=p>0?r/p:0,g=s*Lt*m;h.posicion=m,h.velocidad=y;const v=Number(h.distanciaMeta);return Number.isFinite(v)&&v>0&&h.posicion>=v?(h.posicion=v,h.velocidad=0,h.completada=!0):x>=1&&(h.completada=!0),{trabajo:g,potencia:f.tiempoAcumulado>0?g/f.tiempoAcumulado:0}},c=l(a),u=l(o);this.actualizarMetrica("tiempo",n,n),this.actualizarMetrica("potencia_rapida",n,c.potencia),this.actualizarMetrica("potencia_lenta",n,u.potencia),this.actualizarMetrica("trabajo_total",n,c.trabajo),this.actualizarMetrica("altura_rapida",n,a.caja.posicion),this.actualizarMetrica("altura_lenta",n,o.caja.posicion),this.actualizarGrafica("potencia_vs_tiempo_rapida",n,c.potencia),this.actualizarGrafica("potencia_vs_tiempo_lenta",n,u.potencia),a.caja.completada&&o.caja.completada&&(i.resumenRegistrado||this._registrarResumenPotencia(i,n,c,u),this.finalizar())}_actualizarEnergia(e,n){const i=this._contextoEnergia;if(!i)return;const{vehiculo:s,fuerzaPropulsora:r,distanciaMetaM:a,masaKg:o,velocidadFinalMs:l}=i;s.completado||(this.movimientoCinetico.aplicar(s,r,e),a>0&&s.distanciaRecorrida>=a&&s.actualizarEstado({distanciaRecorrida:a,posX:a,velocidad:l,energiaCinetica:.5*o*l*l,completado:!0})),this.actualizarMetrica("tiempo",n,n),this.actualizarMetrica("energia_cinetica",n,s.energiaCinetica),this.actualizarMetrica("velocidad",n,s.velocidad),this.actualizarMetrica("distancia",n,s.distanciaRecorrida),this.actualizarGrafica("energia_vs_tiempo",n,s.energiaCinetica),this.actualizarGrafica("velocidad_vs_tiempo",n,s.velocidad),s.completado&&(i.resumenRegistrado||this._registrarResumenEnergia(i,n),this.finalizar())}eliminarResumen(e){this.resultado.eliminarFilaResumen(e)}obtenerResultados(){return this.resultado.generar(this)}}const Zr=420;yr.register(Ja,Ga,Ls,Mi,n0,s0,e0);function bc(t=[]){const e={};return t.forEach(n=>{e[n]=[]}),e}function Th(t){var n;const e={};return(n=t==null?void 0:t.metricas)!=null&&n.forEach&&t.metricas.forEach((i,s)=>{var r;e[s]=((r=i==null?void 0:i.obtenerUltimo)==null?void 0:r.call(i))??null}),e}function _c(t,e=[]){var i;const n=bc(e);return(i=t==null?void 0:t.graficas)!=null&&i.forEach&&t.graficas.forEach((s,r)=>{var a;n[r]=((a=s==null?void 0:s.renderizar)==null?void 0:a.call(s))??[]}),n}function $N({titulo:t,instrucciones:e=[],seriesEsperadas:n=[],parametrosIniciales:i={},crearSimulacion:s,renderPanelParametros:r,renderEscena:a,renderPanelResultados:o,onFinalizarSimulacion:l}){const[c,u]=M.useState(!0),f=M.useCallback(()=>{const F=typeof i=="function"?i():i;return wc(F||{})},[i]),[h,p]=M.useState(()=>f()),[x,m]=M.useState(""),[y,g]=M.useState("instrucciones"),[v,b]=M.useState(0),[_,N]=M.useState({}),[w,j]=M.useState(()=>bc(n)),[S,k]=M.useState(G.Configurando),[C,z]=M.useState(!1),[D,J]=M.useState(null),[q,V]=M.useState(!1),R=M.useRef(null),W=M.useRef(0),E=M.useRef(0),A=M.useRef(!1),O=M.useRef(h);M.useEffect(()=>{O.current=h},[h]);const I=M.useCallback(()=>{W.current&&cancelAnimationFrame(W.current),W.current=0},[]),B=M.useCallback(F=>{var Te,Ve;const L=R.current;if(!L)return;E.current||(E.current=F);const Qe=Math.min(.05,(F-E.current)/1e3);if(E.current=F,L.actualizar(Qe),b(((Ve=(Te=L.cronometro)==null?void 0:Te.obtenerTiempo)==null?void 0:Ve.call(Te))??0),k(L.estado),N(Th(L)),j(_c(L,n)),L.estado===G.Finalizada){g("finalizada"),W.current=0;return}W.current=requestAnimationFrame(B)},[n]),Y=M.useCallback(()=>{j(bc(n))},[n]);M.useEffect(()=>{const F=f();p(F),V(!1)},[f]),M.useEffect(()=>{Y()},[Y]),M.useEffect(()=>()=>{I()},[I]),M.useEffect(()=>{if(S===G.Finalizada){const F=R.current;if(F){const L=cl(F,n);J(L),!A.current&&typeof l=="function"&&(l({resumen:L,parametros:O.current}),A.current=!0)}}else A.current=!1},[S,n,l]);const ne=M.useMemo(()=>({iniciar:()=>{var F,L,Qe,Te,Ve,on,gt,Dn,ln;try{m(""),I(),z(!1),J(null),A.current=!1;const Mt=R.current,Zi=(Qe=(L=(F=Mt==null?void 0:Mt.resultado)==null?void 0:F.tabla)==null?void 0:L.toJSON)==null?void 0:Qe.call(L),je=s==null?void 0:s({parametros:h});if(!je)throw new Error("No se pudo crear la simulacin.");if(Mt&&Zi&&Mt.tipo===je.tipo&&((Te=je.resultado)!=null&&Te.tabla)){const Ln=Array.isArray(Zi.columnas)?Zi.columnas:[];je.resultado.tabla.establecerColumnas(Ln),Array.isArray(Zi.filas)&&Zi.filas.forEach(d0=>je.resultado.tabla.agregarFila(d0))}R.current=je,E.current=0,V(!1),(Ve=je.cajas)==null||Ve.forEach(Ln=>{Ln&&(Ln.coeficienteFriccion=0)}),(on=je.vehiculos)==null||on.forEach(Ln=>{Ln&&(Ln.coeficienteFriccion=0)}),(gt=je.establecerFriccionActiva)==null||gt.call(je,!1),b(((ln=(Dn=je.cronometro)==null?void 0:Dn.obtenerTiempo)==null?void 0:ln.call(Dn))??0),k(je.estado),N(Th(je)),j(_c(je,n)),g("simulacion"),u(!1),je.iniciar(),k(je.estado),W.current=requestAnimationFrame(B)}catch(Mt){console.error(Mt),m((Mt==null?void 0:Mt.message)||"No se pudo iniciar la simulacin. Verifica los parmetros.")}},pausar:()=>{var F,L;(L=(F=R.current)==null?void 0:F.pausar)==null||L.call(F),I()},reanudar:()=>{const F=R.current;F&&(F.reanudar(),W.current||(E.current=0,W.current=requestAnimationFrame(B)))},reiniciar:()=>{var L,Qe,Te,Ve,on;I(),(Qe=(L=R.current)==null?void 0:L.reiniciar)==null||Qe.call(L),p(f()),u(!0),m(""),g("instrucciones"),b(0),N({}),Y(),k(G.Configurando),J(null),z(!1),V(!1),A.current=!1;const F=R.current;(Te=F==null?void 0:F.establecerFriccionActiva)==null||Te.call(F,!1),(Ve=F==null?void 0:F.cajas)==null||Ve.forEach(gt=>{gt&&(gt.coeficienteFriccion=0)}),(on=F==null?void 0:F.vehiculos)==null||on.forEach(gt=>{gt&&(gt.coeficienteFriccion=0)})},obtenerSimulacion:()=>R.current,alternarFriccion:()=>{var F,L;return(L=(F=R.current)==null?void 0:F.alternarFriccion)==null?void 0:L.call(F)},establecerFriccion:F=>{var on,gt,Dn;const L=R.current;if(!L)return;const Qe=WN(h);if(F&&!Qe)return;const Te=HN(h,F&&Qe),Ve=!!(F&&Qe);(on=L.cajas)==null||on.forEach(ln=>{ln&&(ln.coeficienteFriccion=Ve?Te:0)}),(gt=L.vehiculos)==null||gt.forEach(ln=>{ln&&(ln.coeficienteFriccion=Ve?Te:0)}),(Dn=L.establecerFriccionActiva)==null||Dn.call(L,Ve),Ve||(L._contextoTrabajo&&(L._contextoTrabajo.bloqueadoPorFriccion=!1),!W.current&&L.estado===G.Corriendo&&(E.current=0,W.current=requestAnimationFrame(B))),V(Ve)},getParametrosModelo:()=>{var F,L;return(L=(F=R.current)==null?void 0:F.getParametrosModelo)==null?void 0:L.call(F)},verResultadosFinales:()=>{if(!D){const F=R.current;if(F){const L=cl(F,n);J(L)}}z(!0)},cerrarResultadosFinales:()=>z(!1),eliminarResumen:F=>{var Te;const L=R.current;if(!L||typeof F!="number")return;(Te=L.eliminarResumen)==null||Te.call(L,F);const Qe=cl(L,n);J(Qe)}}),[s,I,B,f,h,Y,D,n]),qe=r||(()=>null),he=o||(()=>null),Ee=a||(()=>null),On=M.useMemo(()=>Object.values(w).some(F=>Array.isArray(F)&&F.length>0),[w]),In=S===G.Finalizada&&!!R.current;return d.jsxs("div",{className:"w-full",children:[d.jsxs("div",{className:"header-bar rounded-b-xl",children:[d.jsx("h2",{className:"header-title",children:t}),d.jsxs("span",{className:"pill-time",children:["Tiempo: ",v.toFixed(2)]})]}),d.jsxs("section",{className:"grid grid-cols-[280px_auto_360px] gap-4 mt-4 items-start",children:[d.jsx("div",{className:"aside-sand grid gap-3 text-sm",style:{height:Zr,overflow:"hidden",paddingRight:"0.5rem"},children:d.jsx("div",{className:"overflow-y-auto pr-2",style:{maxHeight:Zr},children:qe({fase:y,parametros:h,setParametros:p,metricas:_,series:w,estadoSimulacion:S,acciones:ne,errorMensaje:x})})}),d.jsx("div",{className:"card relative overflow-hidden",style:{height:Zr},children:Ee({fase:y,parametros:h,setParametros:p,metricas:_,series:w,tiempo:v,estadoSimulacion:S,acciones:ne,mostrarResultados:In,friccionActiva:q})}),d.jsx("div",{className:"panel-mint grid gap-3",style:{height:Zr,overflow:"hidden"},children:he({fase:y,parametros:h,metricas:_,series:w,hayGraficas:On,estadoSimulacion:S,acciones:ne})})]}),C&&D&&d.jsx(XN,{datos:D,onClose:ne.cerrarResultadosFinales,onEliminarFila:ne.eliminarResumen}),c&&e.length>0&&d.jsx("div",{className:"fixed inset-0 z-50 grid place-items-center bg-black/50 p-6",children:d.jsxs("div",{className:"w-[min(90%,720px)] bg-white rounded-xl shadow-card p-6 grid gap-3",children:[d.jsx("h3",{className:"text-xl font-semibold text-slate-800",children:"Instrucciones"}),d.jsx("ol",{className:"list-decimal pl-5 text-slate-700 text-sm space-y-1",children:e.map((F,L)=>d.jsx("li",{children:F},L))}),d.jsx("div",{className:"flex justify-end gap-2 mt-4",children:d.jsx("button",{className:"btn btn-green",onClick:()=>u(!1),children:"Entendido"})})]})})]})}function wc(t){return Array.isArray(t)?t.map(e=>wc(e)):t&&typeof t=="object"?Object.keys(t).reduce((e,n)=>(e[n]=wc(t[n]),e),{}):t}function WN(t){return!t||typeof t!="object"?!1:Object.prototype.hasOwnProperty.call(t,"friccionActiva")?!!t.friccionActiva:!1}function HN(t,e){return!e||!t||typeof t!="object"?0:Object.prototype.hasOwnProperty.call(t,"coeficienteMu")&&Number(t.coeficienteMu)||0}function cl(t,e=[]){var a,o;if(!t)return null;const n=[];(a=t.metricas)!=null&&a.forEach&&t.metricas.forEach((l,c)=>{var p;const u=(l==null?void 0:l.nombre)??c,f=(l==null?void 0:l.unidad)??"",h=((p=l==null?void 0:l.obtenerUltimo)==null?void 0:p.call(l))??null;n.push({id:c,nombre:u,unidad:f,valor:h})});const i=_c(t,e);let s=null;try{s=(o=t.obtenerResultados)==null?void 0:o.call(t)}catch(l){console.warn("No se pudo obtener resultados de la simulacin.",l)}const r=JN(n,i);return{tipo:(t==null?void 0:t.tipo)??"",metricasTiempoReal:r,series:i,resumenDominio:KN(UN(s),r)}}function UN(t){var l,c;if(!t)return null;const e=t.tabla,n=e?{columnas:Array.isArray(e.columnas)?e.columnas.slice():[],filas:Array.isArray(e.filas)?e.filas.map(u=>Array.isArray(u)?u.slice():[u]):[]}:null,i=[],s=(l=t.metricas)==null?void 0:l.valores;s instanceof Map?s.forEach((u,f)=>{i.push({clave:f,valor:u})}):s&&typeof s=="object"&&Object.entries(s).forEach(([u,f])=>{i.push({clave:u,valor:f})});const r=typeof t.interpretacion=="string"?t.interpretacion:((c=t.interpretacion)==null?void 0:c.texto)??"",a=r&&r.trim()?r.trim():"La simulacin ha concluido con los parmetros configurados. Observa la relacin entre las mtricas registradas y las grficas para analizar cmo evolucionaron las magnitudes durante la ejecucin.",o=Array.isArray(t.graficos)?t.graficos.map((u,f)=>({titulo:(u==null?void 0:u.titulo)||`Grfico ${f+1}`,tipo:(u==null?void 0:u.tipo)||"linea",puntos:Array.isArray(u==null?void 0:u.datos)?u.datos.length:0,ejeX:(u==null?void 0:u.ejeX)||"",ejeY:(u==null?void 0:u.ejeY)||""})):[];return{tabla:n,metricasResumen:i,interpretacion:a,graficos:o}}function KN(t,e){const n=t?{...t}:{},i=n.tabla;return i&&(Array.isArray(i.columnas)&&i.columnas.length>0||Array.isArray(i.filas)&&i.filas.length>0)||(n.tabla={columnas:["Magnitud","Valor","Unidad"],filas:e.map(({nombre:a,valor:o,unidad:l})=>[a||"",hi(o),l||""])}),n.interpretacion&&String(n.interpretacion).trim()||(n.interpretacion="La simulacin ha concluido con los parmetros configurados. Observa la relacin entre las mtricas registradas y las grficas para analizar cmo evolucionaron las magnitudes durante la ejecucin."),n}function YN(t){if(!t)return null;const e=Array.isArray(t.filas)?t.filas.map(r=>Array.isArray(r)?r.slice():r&&typeof r=="object"?Object.values(r):[r]):[];let n=Array.isArray(t.columnas)?t.columnas.slice():[];if(n.length===0&&e.length>0){const r=e.reduce((a,o)=>Math.max(a,o.length),0);n=Array.from({length:r},(a,o)=>`Columna ${o+1}`)}const i=n.length,s=e.map(r=>{if(r.length===i)return r;const a=r.slice();for(;a.length<i;)a.push("");return a});return{columnas:n,filas:s}}function XN({datos:t,onClose:e,onEliminarFila:n}){if(!t)return null;const{tipo:i,metricasTiempoReal:s=[],series:r={},resumenDominio:a}=t,o=Object.entries(r||{}),l=["#0ea5e9","#f97316","#22c55e","#a855f7","#ef4444","#14b8a6"],c=o.map(([m,y],g)=>{const b=(Array.isArray(y)?y:[]).map(w=>({x:Number(w==null?void 0:w.x)??0,y:Number(w==null?void 0:w.y)??0})),_=b.length>0?b[b.length-1]:null,N=l[g%l.length];return{id:m,total:b.length,ultimo:_,color:N,data:b}}),u=(a==null?void 0:a.metricasResumen)||[],f=YN(a==null?void 0:a.tabla),h=a!=null&&a.interpretacion?String(a.interpretacion).trim():"",p=(a==null?void 0:a.graficos)||[],x=JSON.stringify({tipo:i,metricasTiempoReal:s,series:r,resultado:a},null,2);return d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/70 p-6",children:d.jsxs("div",{className:"w-[min(960px,100%)] max-h-[90vh] overflow-y-auto bg-white rounded-2xl shadow-2xl p-6 grid gap-6",children:[d.jsxs("div",{className:"flex items-start justify-between gap-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-2xl font-semibold text-slate-900",children:"Resultados finales"}),i&&d.jsxs("p",{className:"text-sm text-slate-600 m-0",children:["Simulacin: ",i]})]}),d.jsx("button",{className:"btn btn-outline",onClick:e,children:"Cerrar"})]}),s.length>0&&d.jsxs("section",{children:[d.jsx("h4",{className:"text-base font-semibold text-slate-800 mb-3",children:"Mtricas en el instante final"}),d.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:s.map(({id:m,nombre:y,unidad:g,valor:v})=>d.jsxs("div",{className:"panel-mint px-3 py-2 rounded-xl",children:[d.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wide m-0",children:y}),d.jsxs("p",{className:"text-lg font-semibold text-slate-900 m-0",children:[hi(v)," ",g]})]},m))})]}),u.length>0&&d.jsxs("section",{children:[d.jsx("h4",{className:"text-base font-semibold text-slate-800 mb-2",children:"Resumen calculado"}),d.jsx("ul",{className:"grid gap-2 text-sm text-slate-700",children:u.map(({clave:m,valor:y})=>d.jsxs("li",{className:"flex justify-between gap-3",children:[d.jsx("span",{children:m}),d.jsx("span",{className:"font-semibold text-slate-900",children:hi(y)})]},m))})]}),f&&(f.columnas.length>0||f.filas.length>0)&&d.jsxs("section",{children:[d.jsx("h4",{className:"text-base font-semibold text-slate-800 mb-2",children:"Tabla de resultados"}),d.jsx("div",{className:"overflow-x-auto border border-slate-200 rounded-xl",children:d.jsxs("table",{className:"min-w-full text-sm text-slate-700",children:[f.columnas.length>0&&d.jsx("thead",{className:"bg-slate-100",children:d.jsxs("tr",{children:[f.columnas.map((m,y)=>d.jsx("th",{className:"px-3 py-2 text-left uppercase text-xs tracking-wide text-slate-500",children:m},y)),typeof n=="function"&&d.jsx("th",{className:"px-3 py-2 text-left uppercase text-xs tracking-wide text-slate-500",children:"Acciones"})]})}),d.jsx("tbody",{children:f.filas.length>0?f.filas.map((m,y)=>d.jsxs("tr",{className:"border-t border-slate-200",children:[m.map((g,v)=>d.jsx("td",{className:"px-3 py-2",children:Number.isFinite(g)?hi(g):String(g??"")},v)),typeof n=="function"&&d.jsx("td",{className:"px-3 py-2",children:d.jsx("button",{type:"button",className:"text-xs font-semibold text-rose-600 hover:text-rose-700",onClick:()=>n(y),children:"Eliminar"})})]},y)):d.jsx("tr",{children:d.jsx("td",{className:"px-3 py-3 text-slate-500 text-sm",colSpan:Math.max(1,f.columnas.length+(typeof n=="function"?1:0)||1),children:"La simulacin no registr filas."})})})]})})]}),c.length>0&&d.jsxs("section",{children:[d.jsx("h4",{className:"text-base font-semibold text-slate-800 mb-2",children:"Series temporales"}),d.jsx("div",{className:"grid gap-3",children:c.map(({id:m,total:y,ultimo:g,color:v,data:b})=>d.jsxs("div",{className:"card border border-slate-200 rounded-xl p-3 text-sm text-slate-700",children:[d.jsx("div",{className:"flex justify-between items-center gap-2 mb-2",children:d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold text-slate-800 m-0",children:m}),d.jsxs("p",{className:"m-0 text-xs text-slate-500",children:["Puntos registrados: ",y]}),g&&d.jsxs("p",{className:"m-0 text-xs text-slate-500",children:["ltimo punto  t=",hi(g.x)," s, valor=",hi(g.y)]})]})}),d.jsx("div",{className:"h-48",children:d.jsx(l0,{data:{datasets:[{label:m,data:b,borderColor:v,backgroundColor:`${v}33`,borderWidth:2,pointRadius:0,tension:.15}]},options:{responsive:!0,maintainAspectRatio:!1,parsing:!1,animation:{duration:0},plugins:{legend:{display:!1},tooltip:{intersect:!1,mode:"index"}},scales:{x:{type:"linear",ticks:{color:"#475569"},grid:{color:"rgba(148,163,184,0.15)"},title:{display:!0,text:"Tiempo (s)",color:"#334155"}},y:{ticks:{color:"#475569"},grid:{color:"rgba(148,163,184,0.15)"},title:{display:!0,text:"Valor",color:"#334155"}}}}})})]},m))})]}),h&&d.jsxs("section",{children:[d.jsx("h4",{className:"text-base font-semibold text-slate-800 mb-2",children:"Interpretacin"}),d.jsx("p",{className:"text-sm text-slate-700 whitespace-pre-wrap m-0",children:h})]}),p.length>0&&d.jsxs("section",{children:[d.jsx("h4",{className:"text-base font-semibold text-slate-800 mb-2",children:"Grficos finales"}),d.jsx("ul",{className:"list-disc pl-5 text-sm text-slate-700 space-y-1",children:p.map((m,y)=>d.jsxs("li",{children:[m.titulo,"  ",m.puntos," puntos (",m.tipo,")",m.ejeX&&m.ejeY&&`  ${m.ejeX} vs ${m.ejeY}`]},`${m.titulo}-${y}`))})]}),d.jsxs("details",{className:"bg-slate-50 border border-slate-200 rounded-xl p-3 text-xs text-slate-600",children:[d.jsx("summary",{className:"cursor-pointer font-semibold text-slate-700",children:"Ver datos en formato JSON"}),d.jsx("pre",{className:"mt-2 whitespace-pre-wrap break-words",children:x})]})]})})}function hi(t){if(t==null||Number.isNaN(Number(t)))return"";const e=Number(t);return Number.isFinite(e)?Math.abs(e)>=1e3?e.toFixed(0):Math.abs(e)>=1?e.toFixed(2):e.toPrecision(3):String(t)}function JN(t,e){if(!Array.isArray(t))return t;const n=t.map(s=>({...s})),i=Array.isArray(e==null?void 0:e.velocidad_vs_tiempo)?e.velocidad_vs_tiempo:[];if(i.length>0){const s=[...i].reverse().find(r=>Math.abs(Number(r==null?void 0:r.y)||0)>1e-6);if(s){const r=n.find(a=>a.id==="velocidad");r&&(r.valor=Number(s.y)||r.valor)}}return n}async function GN({nivelId:t,resumen:e,parametros:n}){if(!t)throw new Error("Se requiere nivelId para guardar el resultado.");return ye({ruta:`/simulaciones/${t}/resultados`,metodo:"POST",cuerpo:{resumen:e,parametros:n}})}async function c0({nivelId:t,usuarioId:e,limite:n}={}){const i=new URLSearchParams;t&&i.append("nivelId",t),e&&i.append("usuarioId",e),n&&i.append("limite",n);const s=i.toString(),r=s?`/simulaciones/historial?${s}`:"/simulaciones/historial",a=await ye({ruta:r,metodo:"GET"}),o=Array.isArray(a==null?void 0:a.datos)?a.datos:[];return _u(o)}async function qN(t){if(!t)throw new Error("Se requiere el identificador del resultado.");return ye({ruta:`/simulaciones/${t}`,metodo:"DELETE"})}function we({label:t,valor:e,onChange:n,min:i,max:s}){return d.jsxs("label",{className:"text-sm text-slate-700",children:[t,d.jsx("input",{className:"mt-1 w-full border rounded-lg px-3 py-2",type:"number",value:e??"",min:i,max:s,onChange:r=>n(Number(r.target.value))})]})}function qt(t){if(t==null)return"";const e=Number(t);return Number.isNaN(e)||!Number.isFinite(e)?"":Math.abs(e)>=1e3?e.toFixed(0):Math.abs(e)>=1?e.toFixed(2):e.toPrecision(3)}function _r({metricas:t=[],acciones:e}){const n=(e==null?void 0:e.pausar)??(()=>{}),i=(e==null?void 0:e.reanudar)??(()=>{}),s=(e==null?void 0:e.reiniciar)??(()=>{});return d.jsxs("div",{className:"grid gap-3",children:[d.jsxs("div",{className:"card text-sm space-y-1",children:[d.jsx("h3",{className:"text-slate-800 font-semibold",children:"Mtricas"}),t.map(({etiqueta:r,valor:a,unidad:o})=>d.jsxs("div",{className:"flex justify-between",children:[d.jsxs("span",{children:[r,":"]}),d.jsxs("span",{className:"font-semibold text-slate-800",children:[qt(a)," ",o]})]},r))]}),d.jsxs("div",{className:"card grid gap-2",children:[d.jsx("h4",{className:"font-semibold text-slate-800",children:"Controles"}),d.jsx("button",{className:"btn btn-outline",onClick:n,children:"Pausar"}),d.jsx("button",{className:"btn btn-green",onClick:i,children:"Reanudar"}),d.jsx("button",{className:"btn btn-purple",onClick:s,children:"Reiniciar"})]})]})}yr.register(Ja,Ga,Ls,Mi,n0,s0,e0,sN);function wr({bloques:t}){return d.jsx("div",{className:"flex flex-col gap-3 h-full",children:t.map(e=>d.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl shadow-card p-3 flex flex-col",style:{minHeight:"180px"},children:[d.jsx("h4",{className:"text-sm font-semibold text-slate-800",children:e.titulo}),d.jsx("div",{className:"mt-2 flex-1",children:d.jsx(l0,{data:{datasets:e.series.map(n=>({label:n.etiqueta,data:n.datos,borderColor:n.color,backgroundColor:`${n.color}33`,tension:0,pointRadius:0,borderWidth:2}))},options:{responsive:!0,maintainAspectRatio:!1,animation:{duration:0},parsing:!1,plugins:{legend:{display:e.series.length>1},tooltip:{intersect:!1,mode:"index"},decimation:{enabled:!0,algorithm:"min-max"}},scales:{x:{type:"linear",min:0,ticks:{color:"#475569"},grid:{color:"rgba(148,163,184,0.15)"},title:{display:!0,text:e.ejeX||"Tiempo (s)",color:"#0f172a"}},y:{ticks:{color:"#475569"},grid:{color:"rgba(148,163,184,0.15)"},title:{display:!0,text:e.ejeY,color:"#0f172a"}}}}})})]},e.titulo))})}function QN({referencia:t,ratioRapido:e,ratioLento:n,enModoInstrucciones:i,mostrarBotonResultados:s,onVerResultados:r}){const l=Math.max(0,224),c=Math.min(1,Math.max(0,e))*l,u=Math.min(1,Math.max(0,n))*l;return d.jsxs("div",{className:"relative h-full overflow-hidden",ref:t,children:[d.jsx("img",{src:"/assets/edificioPontencia.jpg",alt:"Edificio",className:"absolute inset-0 w-full h-full object-cover"}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900/35 via-slate-900/5 to-transparent"}),d.jsxs("div",{className:"relative h-full flex items-end justify-between px-20 pb-12",children:[d.jsxs("div",{className:"relative flex-1 max-w-[120px]",style:{height:320},children:[d.jsx("div",{className:"absolute -left-4 bottom-0 top-0 flex flex-col justify-end w-2 rounded-full bg-white/25 overflow-hidden",children:d.jsx("div",{className:"w-full bg-emerald-400 transition-all duration-200",style:{height:`${Math.min(100,e*100)}%`}})}),d.jsx("img",{src:"/assets/caja1_pontencia.jpg",alt:"Ascensor rpido",className:"absolute left-1/2 h-24 drop-shadow-md transition-transform duracin-200 ease-linear",style:{bottom:"-46px",transform:`translate(28%, ${-c}px)`}})]}),d.jsxs("div",{className:"relative flex-1 max-w-[120px]",style:{height:320},children:[d.jsx("div",{className:"absolute right-[-16px] bottom-0 top-0 flex flex-col justify-end w-2 rounded-full bg-white/25 overflow-hidden",children:d.jsx("div",{className:"w-full bg-sky-400 transition-all duracin-200",style:{height:`${Math.min(100,n*100)}%`}})}),d.jsx("img",{src:"/assets/caja2_pontencia.jpg",alt:"Ascensor lento",className:"absolute bottom-0 left-1/2 -translate-x-1/2 h-24 drop-shadow-md transition-transform duracin-200 ease-linear",style:{bottom:"-46px",transform:`translate(-140%, ${-u}px)`}})]})]}),i&&d.jsx("div",{className:"absolute inset-0 grid place-items-center",children:d.jsx("div",{className:"max-w-lg bg-white/90 rounded-xl shadow-card p-4 text-sm text-slate-700 text-center",children:"Realizar el mismo trabajo en menos tiempo implica mayor potencia. Observa cmo ascienden ambos elevadores."})}),s&&d.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2",children:d.jsx("button",{className:"btn btn-purple",onClick:r,children:"Ver resultados finales"})})]})}function ZN(){return{titulo:"Simulacin de Potencia",instrucciones:["Configura masa, altura y tiempos para cada ascensor.","Inicia la simulacin para observar la potencia instantnea y el trabajo realizado.","Compara qu ascensor entrega ms potencia pese a realizar el mismo trabajo."],seriesEsperadas:["potencia_vs_tiempo_rapida","potencia_vs_tiempo_lenta"],parametrosIniciales:()=>({masaKg:0,alturaM:0,tiempoRapidoS:0,tiempoLentoS:0}),crearSimulacion:({parametros:r})=>{const a={masaKg:r==null?void 0:r.masaKg,alturaM:r==null?void 0:r.alturaM,tiempoRapidoS:r==null?void 0:r.tiempoRapidoS,tiempoLentoS:r==null?void 0:r.tiempoLentoS},o=new br({tipo:"potencia",parametros:{potencia:{...a}}});return o.configurarPotencia(),o},renderPanelParametros:({parametros:r,setParametros:a,errorMensaje:o,acciones:l,estadoSimulacion:c,metricas:u})=>c!==G.Configurando?d.jsx(_r,{metricas:[{etiqueta:"Tiempo",valor:u.tiempo,unidad:"s"},{etiqueta:"Trabajo total",valor:u.trabajo_total,unidad:"J"},{etiqueta:"Potencia rpida",valor:u.potencia_rapida,unidad:"W"},{etiqueta:"Potencia lenta",valor:u.potencia_lenta,unidad:"W"},{etiqueta:"Altura rpida",valor:u.altura_rapida,unidad:"m"},{etiqueta:"Altura lenta",valor:u.altura_lenta,unidad:"m"}],acciones:l}):d.jsxs(d.Fragment,{children:[d.jsx("h3",{className:"text-slate-800 font-semibold",children:"Parmetros"}),d.jsx(we,{label:"Masa (kg)",valor:r.masaKg,onChange:f=>a(h=>({...h,masaKg:f}))}),d.jsx(we,{label:"Altura (m)",valor:r.alturaM,min:0,onChange:f=>a(h=>({...h,alturaM:f}))}),d.jsx(we,{label:"Tiempo ascensor rpido (s)",valor:r.tiempoRapidoS,min:0,onChange:f=>a(h=>({...h,tiempoRapidoS:f}))}),d.jsx(we,{label:"Tiempo ascensor lento (s)",valor:r.tiempoLentoS,min:0,onChange:f=>a(h=>({...h,tiempoLentoS:f}))}),o&&d.jsx("div",{className:"text-sm text-rose-600",children:o}),d.jsx("button",{className:"btn btn-green mt-2",onClick:()=>l.iniciar(),children:"Iniciar simulacin"})]}),renderEscena:({parametros:r,metricas:a,estadoSimulacion:o,mostrarResultados:l,acciones:c,referencia:u})=>{Number(r.alturaM);const f=Number((a==null?void 0:a.altura_rapida)||0),h=Number((a==null?void 0:a.altura_lenta)||0),p=Math.max(1,dr.ALTURA_MAX),x=Math.min(1,Math.max(0,f/p)),m=Math.min(1,Math.max(0,h/p));return d.jsx(QN,{referencia:u,ratioRapido:x,ratioLento:m,enModoInstrucciones:o===G.Configurando,mostrarBotonResultados:l,onVerResultados:c.verResultadosFinales})},renderPanelResultados:({series:r})=>d.jsx(wr,{bloques:[{titulo:"Potencia vs Tiempo",series:[{etiqueta:"Rpido",datos:r.potencia_vs_tiempo_rapida||[],color:"#f97316"},{etiqueta:"Lento",datos:r.potencia_vs_tiempo_lenta||[],color:"#0ea5e9"}],ejeY:"Potencia (W)",ejeX:"Tiempo (s)"}]})}}function eS({referencia:t,progreso:e,distanciaActual:n,distanciaMeta:i,enModoInstrucciones:s,mostrarBotonResultados:r,onVerResultados:a}){const o=Math.min(1,Math.max(0,e)),c=-((n||0)*60%640);return d.jsxs("div",{className:"relative h-full overflow-hidden",ref:t,children:[d.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"url(/assets/pistaCinetica.jpg)",backgroundRepeat:"repeat-x",backgroundSize:"auto 100%",backgroundPositionX:`${c}px`}}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-white/60 via-white/15 to-white/70 pointer-events-none"}),d.jsxs("div",{className:"relative h-full flex flex-col justify-end",children:[d.jsx("div",{className:"flex-1 flex items-center px-10",children:d.jsx("img",{src:"/assets/carro.jpg",alt:"Vehculo",className:"h-32 drop-shadow-md transition-transform duration-150 ease-linear",style:{transform:`translate(${o*260}px, 24px)`}})}),d.jsxs("div",{className:"px-6 pb-6 space-y-2",children:[d.jsx("div",{className:"h-2 rounded-full bg-slate-200/85 overflow-hidden shadow-inner",children:d.jsx("div",{className:"h-full bg-sky-500 transition-all duracin-200",style:{width:`${Math.min(100,o*100)}%`}})}),d.jsxs("div",{className:"flex justify-between text-xs text-slate-200 font-semibold tracking-wide",children:[d.jsx("span",{children:"0 m"}),d.jsxs("span",{children:[qt(n)," m / ",qt(i)," m"]})]})]})]}),s&&d.jsx("div",{className:"absolute inset-0 grid place-items-center",children:d.jsx("div",{className:"max-w-lg bg-white/90 rounded-xl shadow-card p-4 text-sm text-slate-700 text-center",children:"La energa cintica crece con el cuadrado de la velocidad. Observa cmo aumenta mientras el vehculo recorre la pista."})}),r&&d.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2",children:d.jsx("button",{className:"btn btn-purple",onClick:a,children:"Ver resultados finales"})})]})}function tS(){return{titulo:"Simulacin de Energa Cintica",instrucciones:["Define la masa del vehculo, la velocidad objetivo y la distancia a recorrer.","Inicia la simulacin para observar cmo crece la energa cintica junto con la velocidad.","Analiza las grficas de energa y velocidad para relacionar ambas magnitudes."],seriesEsperadas:["energia_vs_tiempo","velocidad_vs_tiempo"],parametrosIniciales:()=>({masaKg:0,velocidadFinalMs:0,distanciaMetaM:0}),crearSimulacion:({parametros:r})=>{const a={masaKg:r==null?void 0:r.masaKg,velocidadFinalMs:r==null?void 0:r.velocidadFinalMs,distanciaMetaM:r==null?void 0:r.distanciaMetaM},o=new br({tipo:"energia-cinetica",parametros:{energiaCinetica:{...a}}});return o.configurarEnergiaCinetica(),o},renderPanelParametros:({parametros:r,setParametros:a,errorMensaje:o,acciones:l,estadoSimulacion:c,metricas:u})=>c!==G.Configurando?d.jsx(_r,{metricas:[{etiqueta:"Tiempo",valor:u.tiempo,unidad:"s"},{etiqueta:"Distancia",valor:u.distancia,unidad:"m"},{etiqueta:"Velocidad",valor:u.velocidad,unidad:"m/s"},{etiqueta:"Energa cintica",valor:u.energia_cinetica,unidad:"J"}],acciones:l}):d.jsxs(d.Fragment,{children:[d.jsx("h3",{className:"text-slate-800 font-semibold",children:"Parmetros"}),d.jsx(we,{label:"Masa (kg)",valor:r.masaKg,onChange:f=>a(h=>({...h,masaKg:f}))}),d.jsx(we,{label:"Velocidad final (m/s)",valor:r.velocidadFinalMs,min:0,onChange:f=>a(h=>({...h,velocidadFinalMs:f}))}),d.jsx(we,{label:"Distancia meta (m)",valor:r.distanciaMetaM,min:0,onChange:f=>a(h=>({...h,distanciaMetaM:f}))}),o&&d.jsx("div",{className:"text-sm text-rose-600",children:o}),d.jsx("button",{className:"btn btn-green mt-2",onClick:()=>l.iniciar(),children:"Iniciar simulacin"})]}),renderEscena:({parametros:r,metricas:a,tiempo:o,estadoSimulacion:l,mostrarResultados:c,acciones:u,referencia:f})=>{const h=Number(r.distanciaMetaM)||1,p=Number((a==null?void 0:a.distancia)||0),x=Number((a==null?void 0:a.velocidad)||0),m=Number((a==null?void 0:a.energia_cinetica)||0),y=h>0?Math.min(1,p/h):0;return d.jsx(eS,{referencia:f,progreso:y,distanciaActual:p,distanciaMeta:h,velocidad:x,energia:m,tiempoSimulado:o,enModoInstrucciones:l===G.Configurando,mostrarBotonResultados:c,onVerResultados:u.verResultadosFinales})},renderPanelResultados:({series:r})=>d.jsx(wr,{bloques:[{titulo:"Energa cintica",series:[{etiqueta:"Energa",datos:r.energia_vs_tiempo||[],color:"#f97316"}],ejeY:"Energa (J)",ejeX:"Tiempo (s)"},{titulo:"Velocidad",series:[{etiqueta:"Velocidad",datos:r.velocidad_vs_tiempo||[],color:"#22c55e"}],ejeY:"Velocidad (m/s)",ejeX:"Tiempo (s)"}]})}}function nS({referencia:t,alturaActual:e,imagenFondo:n="/assets/sueloConservativo.png",imagenBola:i="/assets/bolaConservativa.png",mostrarBotonResultados:s,onVerResultados:r}){const f=30+Math.max(0,Math.min(e??0,20))/20*290;return d.jsxs("div",{ref:t,className:"relative h-full overflow-hidden",style:{backgroundImage:`url(${n})`,backgroundSize:"cover",backgroundPosition:"center"},children:[d.jsx("img",{src:i,alt:"Esfera en cada libre",className:"absolute h-18 w-18 md:h-20 md:w-20 rounded-full drop-shadow-xl transition-transform duration-200 ease-linear pointer-events-none",style:{left:"50%",bottom:`${f}px`,transform:"translate(-50%, 0)"}}),s&&d.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2",children:d.jsx("button",{className:"btn btn-purple",onClick:r,children:"Ver resultados finales"})})]})}function iS(){return{titulo:"Cada Libre bajo Fuerza Conservativa",instrucciones:["Configura masa, altura y velocidad inicial para estudiar cmo la gravedad transforma energa potencial en cintica.","Observa la animacin y verifica que la energa mecnica se mantiene constante cuando no hay fuerzas disipativas.","Analiza las grficas de altura, velocidad y energa para reforzar el concepto de fuerza conservativa."],seriesEsperadas:["altura_vs_tiempo","velocidad_vs_tiempo","energia_mecanica_vs_tiempo"],parametrosIniciales:()=>({masaKg:0,alturaInicialM:0,velocidadInicialMs:0}),crearSimulacion:({parametros:r})=>{const a={masaKg:r==null?void 0:r.masaKg,alturaInicialM:r==null?void 0:r.alturaInicialM,velocidadInicialMs:r==null?void 0:r.velocidadInicialMs},o=new br({tipo:"fuerzas-conservativas",parametros:{fuerzasConservativas:{...a}}});return o.configurarFuerzasConservativas(),o},renderPanelParametros:({parametros:r,setParametros:a,errorMensaje:o,acciones:l,estadoSimulacion:c,metricas:u})=>c!==G.Configurando?d.jsx(_r,{metricas:[{etiqueta:"Tiempo",valor:u.tiempo,unidad:"s"},{etiqueta:"Altura",valor:u.altura,unidad:"m"},{etiqueta:"Velocidad",valor:u.velocidad,unidad:"m/s"},{etiqueta:"Aceleracin",valor:u.aceleracion,unidad:"m/s"},{etiqueta:"Trabajo gravedad",valor:u.trabajo_gravedad,unidad:"J"},{etiqueta:"E. potencial",valor:u.energia_potencial,unidad:"J"},{etiqueta:"E. cintica",valor:u.energia_cinetica,unidad:"J"},{etiqueta:"E. mecnica",valor:u.energia_mecanica,unidad:"J"}],acciones:l}):d.jsxs(d.Fragment,{children:[d.jsx("h3",{className:"text-slate-800 font-semibold",children:"Parmetros"}),d.jsx(we,{label:"Masa (kg)",valor:r.masaKg,min:0,onChange:f=>a(h=>({...h,masaKg:f}))}),d.jsx(we,{label:"Altura inicial (m)",valor:r.alturaInicialM,min:0,onChange:f=>a(h=>({...h,alturaInicialM:f}))}),d.jsx(we,{label:"Velocidad inicial (m/s)",valor:r.velocidadInicialMs,onChange:f=>a(h=>({...h,velocidadInicialMs:f}))}),d.jsx("p",{className:"text-xs text-slate-500",children:"Configura la masa y la altura inicial de la esfera para estudiar cmo la fuerza gravitatoria (conservativa) transforma energa potencial en cintica."}),o&&d.jsx("div",{className:"text-sm text-rose-600",children:o}),d.jsx("button",{className:"btn btn-green mt-2",onClick:()=>l.iniciar(),children:"Iniciar simulacin"})]}),renderEscena:({parametros:r,metricas:a,estadoSimulacion:o,mostrarResultados:l,acciones:c,referencia:u})=>{const f=Number(r.alturaInicialM||0);Number(r.velocidadInicialMs||0);const h=o===G.Configurando?f:Number((a==null?void 0:a.altura)??f);return d.jsx(nS,{referencia:u,alturaActual:h,mostrarBotonResultados:l,onVerResultados:c.verResultadosFinales})},renderPanelResultados:({series:r})=>d.jsx(wr,{bloques:[{titulo:"Altura vs Tiempo",ejeY:"Altura (m)",ejeX:"Tiempo (s)",series:[{etiqueta:"Altura",datos:r.altura_vs_tiempo||[],color:"#0ea5e9"}]},{titulo:"Velocidad vs Tiempo",ejeY:"Velocidad (m/s)",ejeX:"Tiempo (s)",series:[{etiqueta:"Velocidad",datos:r.velocidad_vs_tiempo||[],color:"#f97316"}]},{titulo:"Energa mecnica vs Tiempo",ejeY:"Energa (J)",ejeX:"Tiempo (s)",series:[{etiqueta:"Energa mecnica",datos:r.energia_mecanica_vs_tiempo||[],color:"#22c55e"}]}]})}}function sS({referencia:t,distancia:e,distanciaMeta:n,fuerza:i,velocidad:s,trabajoAplicado:r,trabajoNeto:a,trabajoFriccion:o,tiempoSimulado:l,friccionActiva:c=!1,friccionHabilitada:u=!1,coeficienteMu:f,onToggleFriccion:h=()=>{},enModoInstrucciones:p,mostrarBotonResultados:x,onVerResultados:m}){const y=Number(e)||0,g=Math.max(1e-6,Number(n)||0),v=Math.min(1,y/g),_=v*520*.75,w=-(y*60%600);return d.jsxs("div",{className:"relative h-full overflow-hidden",ref:t,children:[d.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"url(/assets/cespedTrabajo.png)",backgroundRepeat:"repeat-x",backgroundSize:"auto 100%",backgroundPositionX:`${w}px`}}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-white/40 via-white/10 to-white/80 pointer-events-none"}),d.jsxs("div",{className:"relative h-full flex flex-col justify-end",children:[d.jsx("div",{className:"flex-1 flex items-center",children:d.jsx("img",{src:"/assets/cajaTrabajo.jpg",alt:"Caja",className:"h-32 transition-transform duration-150 ease-linear",style:{transform:`translate(${_}px, 60px)`}})}),d.jsxs("div",{className:"px-6 pb-5 w-full space-y-2",children:[d.jsx("div",{className:"h-2 w-full bg-slate-200/80 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-emerald-500 transition-all duracin-150",style:{width:`${Math.min(v*100,100)}%`}})}),d.jsxs("div",{className:"flex justify-between text-xs text-slate-600",children:[d.jsx("span",{children:"0 m"}),d.jsxs("span",{children:[qt(y)," m / ",qt(g)," m"]})]})]})]}),d.jsxs("div",{className:"absolute top-4 left-4 flex flex-col gap-2",children:[d.jsxs("button",{className:`px-4 py-2 text-xs font-semibold rounded-full shadow-sm transition-colors ${c?"bg-rose-500 text-white":"bg-slate-800/90 text-white"} ${u?"":"opacity-40 cursor-not-allowed"}`,onClick:()=>u&&h(),disabled:!u,children:["Friccin ",c?"ON":"OFF","  =",qt(u?f:0)]}),d.jsx("span",{className:"text-[11px] bg-white/80 px-3 py-1 rounded-full text-slate-600 shadow-sm",children:"Fuerza aplicada constante"})]}),p&&d.jsx("div",{className:"absolute inset-0 grid place-items-center",children:d.jsx("div",{className:"max-w-lg bg-white/90 rounded-xl shadow-card p-4 text-sm text-slate-700",children:"Ajusta los parmetros y observa cmo el trabajo depende del tipo de fuerza aplicada y la distancia recorrida."})}),x&&d.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2",children:d.jsx("button",{className:"btn btn-purple",onClick:m,children:"Ver resultados finales"})})]})}function rS(){return{titulo:"Trabajo con Fuerza Constante",instrucciones:["Define la masa de la caja, la fuerza aplicada y la distancia meta.","Inicia la simulacin para observar cmo crece el trabajo realizado.","Activa la friccin para analizar el trabajo disipado y el trabajo neto."],seriesEsperadas:["trabajo_vs_distancia","fuerza_vs_distancia"],parametrosIniciales:()=>({masaKg:0,fuerzaN:0,distanciaMetaM:0,coeficienteMu:0,friccionActiva:!1}),crearSimulacion:({parametros:s})=>{const r={masaKg:s==null?void 0:s.masaKg,fuerzaN:s==null?void 0:s.fuerzaN,distanciaMetaM:s==null?void 0:s.distanciaMetaM,friccionActiva:!!(s!=null&&s.friccionActiva),coeficienteMu:Number(s==null?void 0:s.coeficienteMu)||0},a=new br({tipo:"trabajo-constante",parametros:{trabajoConstante:{...r}}});return a.configurarTrabajoConstante(),a},renderPanelParametros:({parametros:s,setParametros:r,errorMensaje:a,acciones:o,estadoSimulacion:l,metricas:c})=>l!==G.Configurando?d.jsx(_r,{metricas:[{etiqueta:"Tiempo",valor:c.tiempo,unidad:"s"},{etiqueta:"Distancia",valor:c.distancia,unidad:"m"},{etiqueta:"Fuerza",valor:c.fuerza_actual,unidad:"N"},{etiqueta:"Velocidad",valor:c.velocidad,unidad:"m/s"},{etiqueta:"Trabajo aplicado",valor:c.trabajo_aplicado,unidad:"J"},{etiqueta:"Trabajo friccin",valor:c.trabajo_friccion,unidad:"J"},{etiqueta:"Trabajo neto",valor:c.trabajo_neto,unidad:"J"}],acciones:o}):d.jsxs(d.Fragment,{children:[d.jsx("h3",{className:"text-slate-800 font-semibold",children:"Parmetros"}),d.jsx(we,{label:"Masa (kg)",valor:s.masaKg,onChange:u=>r(f=>({...f,masaKg:u}))}),d.jsx(we,{label:"Fuerza aplicada (N)",valor:s.fuerzaN,onChange:u=>r(f=>({...f,fuerzaN:u}))}),d.jsx(we,{label:"Distancia objetivo (m)",valor:s.distanciaMetaM,min:0,onChange:u=>r(f=>({...f,distanciaMetaM:u}))}),d.jsx(we,{label:"Coeficiente de friccin ",valor:s.coeficienteMu,min:0,onChange:u=>r(f=>({...f,coeficienteMu:u}))}),d.jsxs("label",{className:"text-sm text-slate-700 flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",checked:s.friccionActiva,onChange:u=>r(f=>({...f,friccionActiva:u.target.checked}))}),"Habilitar friccin para esta simulacin"]}),d.jsx("p",{className:"text-xs text-slate-500",children:"La fuerza aplicada es constante. Puedes activar la friccin en la escena para observar su efecto sobre el trabajo neto."}),a&&d.jsx("div",{className:"text-sm text-rose-600",children:a}),d.jsx("button",{className:"btn btn-green mt-2",onClick:()=>o.iniciar(),children:"Iniciar simulacin"})]}),renderEscena:({parametros:s,metricas:r,tiempo:a,estadoSimulacion:o,mostrarResultados:l,acciones:c,referencia:u,friccionActiva:f=!1})=>{const h=Number((r==null?void 0:r.distancia)||0),p=Number(s.distanciaMetaM)||1,x=Number((r==null?void 0:r.fuerza_actual)||0),m=Number((r==null?void 0:r.velocidad)||0),y=Number((r==null?void 0:r.trabajo_aplicado)||0),g=Number((r==null?void 0:r.trabajo_neto)||0),v=Number((r==null?void 0:r.trabajo_friccion)||0),b=Number(s.coeficienteMu)||0,_=!!s.friccionActiva;return d.jsx(sS,{referencia:u,distancia:h,distanciaMeta:p,fuerza:x,velocidad:m,trabajoAplicado:y,trabajoNeto:g,trabajoFriccion:v,tiempoSimulado:a,friccionActiva:f,friccionHabilitada:_,coeficienteMu:b,onToggleFriccion:()=>c.establecerFriccion(!f),enModoInstrucciones:o===G.Configurando,mostrarBotonResultados:l,onVerResultados:c.verResultadosFinales})},renderPanelResultados:aS}}function aS({series:t}){const e=t.trabajo_vs_distancia||[],n=t.fuerza_vs_distancia||[];return d.jsx(wr,{bloques:[{titulo:"Trabajo vs Distancia",series:[{etiqueta:"Trabajo",datos:e,color:"#22c55e"}],ejeY:"Trabajo (J)",ejeX:"Distancia (m)"},{titulo:"Fuerza vs Distancia",series:[{etiqueta:"Fuerza",datos:n,color:"#a855f7"}],ejeY:"Fuerza (N)",ejeX:"Distancia (m)"}]})}function oS({referencia:t,distancia:e,distanciaMeta:n,fuerza:i,velocidad:s,trabajoAplicado:r,trabajoNeto:a,trabajoFriccion:o,tiempoSimulado:l,friccionActiva:c=!1,friccionHabilitada:u=!1,coeficienteMu:f,onToggleFriccion:h=()=>{},enModoInstrucciones:p,mostrarBotonResultados:x,onVerResultados:m}){const y=Number(e)||0,g=Math.max(1e-6,Number(n)||0),v=Math.min(1,y/g),_=v*520*.75,w=-(y*60%600);return d.jsxs("div",{className:"relative h-full overflow-hidden",ref:t,children:[d.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"url(/assets/cespedTrabajo.png)",backgroundRepeat:"repeat-x",backgroundSize:"auto 100%",backgroundPositionX:`${w}px`}}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-white/40 via-white/10 to-white/80 pointer-events-none"}),d.jsxs("div",{className:"relative h-full flex flex-col justify-end",children:[d.jsx("div",{className:"flex-1 flex items-center",children:d.jsx("img",{src:"/assets/cajaTrabajo.jpg",alt:"Caja",className:"h-32 transition-transform duracin-150 ease-linear",style:{transform:`translate(${_}px, 60px)`}})}),d.jsxs("div",{className:"px-6 pb-5 w-full space-y-2",children:[d.jsx("div",{className:"h-2 w-full bg-slate-200/80 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-emerald-500 transition-all duracin-150",style:{width:`${Math.min(v*100,100)}%`}})}),d.jsxs("div",{className:"flex justify-between text-xs text-slate-600",children:[d.jsx("span",{children:"0 m"}),d.jsxs("span",{children:[qt(y)," m / ",qt(g)," m"]})]})]})]}),d.jsxs("div",{className:"absolute top-4 left-4 flex flex-col gap-2",children:[d.jsxs("button",{className:`px-4 py-2 text-xs font-semibold rounded-full shadow-sm transition-colors ${c?"bg-rose-500 text-white":"bg-slate-800/90 text-white"} ${u?"":"opacity-40 cursor-not-allowed"}`,onClick:()=>u&&h(),disabled:!u,children:["Friccin ",c?"ON":"OFF","  =",qt(u?f:0)]}),d.jsx("span",{className:"text-[11px] bg-white/80 px-3 py-1 rounded-full text-slate-600 shadow-sm",children:"Fuerza proporcional a la distancia"})]}),p&&d.jsx("div",{className:"absolute inset-0 grid place-items-center",children:d.jsx("div",{className:"max-w-lg bg-white/90 rounded-xl shadow-card p-4 text-sm text-slate-700",children:"Ajusta los parmetros y observa cmo el trabajo depende del tipo de fuerza aplicada y la distancia recorrida."})}),x&&d.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2",children:d.jsx("button",{className:"btn btn-purple",onClick:m,children:"Ver resultados finales"})})]})}function lS(){return{titulo:"Trabajo con Fuerza Variable",instrucciones:["Configura la masa, la constante k y la distancia meta.","Inicia la simulacin para visualizar la fuerza variable y el trabajo acumulado.","Activa la friccin para estudiar su efecto sobre el trabajo neto."],seriesEsperadas:["trabajo_vs_distancia","fuerza_vs_distancia"],parametrosIniciales:()=>({masaKg:0,k:0,distanciaMetaM:0,coeficienteMu:0,friccionActiva:!1}),crearSimulacion:({parametros:s})=>{const r={masaKg:s==null?void 0:s.masaKg,k:s==null?void 0:s.k,distanciaMetaM:s==null?void 0:s.distanciaMetaM,friccionActiva:!!(s!=null&&s.friccionActiva),coeficienteMu:Number(s==null?void 0:s.coeficienteMu)||0,offsetN:.1},a=new br({tipo:"trabajo-variable",parametros:{trabajoVariable:{...r}}});return a.configurarTrabajoVariable(),a},renderPanelParametros:({parametros:s,setParametros:r,errorMensaje:a,acciones:o,estadoSimulacion:l,metricas:c})=>l!==G.Configurando?d.jsx(_r,{metricas:[{etiqueta:"Tiempo",valor:c.tiempo,unidad:"s"},{etiqueta:"Distancia",valor:c.distancia,unidad:"m"},{etiqueta:"Fuerza",valor:c.fuerza_actual,unidad:"N"},{etiqueta:"Velocidad",valor:c.velocidad,unidad:"m/s"},{etiqueta:"Trabajo aplicado",valor:c.trabajo_aplicado,unidad:"J"},{etiqueta:"Trabajo friccin",valor:c.trabajo_friccion,unidad:"J"},{etiqueta:"Trabajo neto",valor:c.trabajo_neto,unidad:"J"}],acciones:o}):d.jsxs(d.Fragment,{children:[d.jsx("h3",{className:"text-slate-800 font-semibold",children:"Parmetros"}),d.jsx(we,{label:"Masa (kg)",valor:s.masaKg,onChange:u=>r(f=>({...f,masaKg:u}))}),d.jsx(we,{label:"Constante k (N/m)",valor:s.k,min:0,onChange:u=>r(f=>({...f,k:u}))}),d.jsx(we,{label:"Distancia objetivo (m)",valor:s.distanciaMetaM,min:0,onChange:u=>r(f=>({...f,distanciaMetaM:u}))}),d.jsx(we,{label:"Coeficiente de friccin ",valor:s.coeficienteMu,min:0,onChange:u=>r(f=>({...f,coeficienteMu:u}))}),d.jsxs("label",{className:"text-sm text-slate-700 flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",checked:s.friccionActiva,onChange:u=>r(f=>({...f,friccionActiva:u.target.checked}))}),"Habilitar friccin dependiente de "]}),d.jsx("p",{className:"text-xs text-slate-500",children:"La fuerza aplicada aumenta con la distancia restante. Observa cmo cambia el trabajo total y la fuerza neta."}),a&&d.jsx("div",{className:"text-sm text-rose-600",children:a}),d.jsx("button",{className:"btn btn-green mt-2",onClick:()=>o.iniciar(),children:"Iniciar simulacin"})]}),renderEscena:({parametros:s,metricas:r,tiempo:a,estadoSimulacion:o,mostrarResultados:l,acciones:c,referencia:u,friccionActiva:f=!1})=>{const h=Number((r==null?void 0:r.distancia)||0),p=Number(s.distanciaMetaM)||1,x=Number((r==null?void 0:r.fuerza_actual)||0),m=Number((r==null?void 0:r.velocidad)||0),y=Number((r==null?void 0:r.trabajo_aplicado)||0),g=Number((r==null?void 0:r.trabajo_neto)||0),v=Number((r==null?void 0:r.trabajo_friccion)||0),b=Number(s.coeficienteMu)||0,_=!!s.friccionActiva;return d.jsx(oS,{referencia:u,distancia:h,distanciaMeta:p,fuerza:x,velocidad:m,trabajoAplicado:y,trabajoNeto:g,trabajoFriccion:v,tiempoSimulado:a,friccionActiva:f,friccionHabilitada:_,coeficienteMu:b,onToggleFriccion:()=>c.establecerFriccion(!f),enModoInstrucciones:o===G.Configurando,mostrarBotonResultados:l,onVerResultados:c.verResultadosFinales})},renderPanelResultados:cS}}function cS({series:t}){const e=t.trabajo_vs_distancia||[],n=t.fuerza_vs_distancia||[];return d.jsx(wr,{bloques:[{titulo:"Trabajo vs Distancia",series:[{etiqueta:"Trabajo",datos:e,color:"#22c55e"}],ejeY:"Trabajo (J)",ejeX:"Distancia (m)"},{titulo:"Fuerza vs Distancia",series:[{etiqueta:"Fuerza",datos:n,color:"#a855f7"}],ejeY:"Fuerza (N)",ejeX:"Distancia (m)"}]})}const fr={"trabajo-constante":rS(),"trabajo-variable":lS(),potencia:ZN(),"energia-cinetica":tS(),"fuerzas-conservativas":iS()};fr.trabajo=fr["trabajo-constante"];fr.conservativas=fr["fuerzas-conservativas"];function uS(t){if(!t)return null;const e={tipo:t.tipo,metricasTiempoReal:Array.isArray(t.metricasTiempoReal)?t.metricasTiempoReal.map(i=>({...i})):[],resumenDominio:null},n=t.resumenDominio;if(n){const i=n.tabla;e.resumenDominio={tabla:i?{columnas:Array.isArray(i.columnas)?i.columnas.slice():[],filas:Array.isArray(i.filas)?i.filas.map(s=>Array.isArray(s)?s.slice():s):[]}:null,metricasResumen:Array.isArray(n.metricasResumen)?n.metricasResumen.map(s=>({...s})):[],interpretacion:n.interpretacion??""}}return e}function hs({modo:t,estudiante:e,nivel:n}){const i=fr[t],s=M.useRef(null),{estaAutenticado:r,usuario:a}=qi();if(!i)throw new Error(`Simulacin no soportada: ${t}`);const o=M.useCallback(()=>i.parametrosIniciales(),[i]),l=({parametros:f})=>i.crearSimulacion({parametros:f,estudiante:e}),c=(n==null?void 0:n.id)??(n==null?void 0:n.numero)??null,u=M.useCallback(async({resumen:f,parametros:h})=>{if(!(!c||!r)&&(a==null?void 0:a.rol)!=="ADMIN")try{const p=uS(f);await GN({nivelId:c,resumen:p,parametros:h})}catch(p){console.warn("No se pudo guardar el resultado de la simulacin.",p)}},[c,r,a==null?void 0:a.rol]);return d.jsx($N,{titulo:i.titulo,instrucciones:i.instrucciones,seriesEsperadas:i.seriesEsperadas,parametrosIniciales:o,crearSimulacion:l,renderPanelParametros:i.renderPanelParametros,renderEscena:f=>i.renderEscena({...f,referencia:s}),renderPanelResultados:i.renderPanelResultados,onFinalizarSimulacion:u})}function dS(){const{id:t}=vy(),e=an(),n=M.useMemo(()=>$i.findById(t),[t]),i=()=>e("/niveles"),s=M.useMemo(()=>{if(!n)return null;const a=new wu({nombre:"Estudiante"});return a.seleccionarNivel(n.id),a},[n==null?void 0:n.id]);if(!n)return d.jsxs("section",{className:"card",children:[d.jsx("h2",{children:"Nivel no encontrado"}),d.jsx("button",{className:"btn btn-outline",onClick:i,children:"Volver"})]});const r=()=>{switch(Number(t)){case 1:return d.jsx(hs,{modo:"trabajo-constante",estudiante:s,nivel:n});case 2:return d.jsx(hs,{modo:"trabajo-variable",estudiante:s,nivel:n});case 3:return d.jsx(hs,{modo:"energia-cinetica",estudiante:s,nivel:n});case 4:return d.jsx(hs,{modo:"potencia",estudiante:s,nivel:n});case 5:return d.jsx(hs,{modo:"fuerzas-conservativas",estudiante:s,nivel:n});default:return d.jsxs("div",{className:"card",children:[d.jsx("h3",{className:"font-semibold",children:n.nombre}),d.jsx("p",{className:"text-slate-600 text-sm",children:n.desc}),d.jsx("h4",{className:"font-semibold mt-2",children:"Frmulas"}),d.jsx("ul",{className:"list-disc pl-5 text-sm text-slate-700",children:(n.formulas||[]).map((a,o)=>d.jsx("li",{children:a},o))}),d.jsx("p",{className:"text-slate-500 text-sm mt-2",children:"Este nivel est en desarrollo."})]})}};return d.jsxs("section",{className:"grid gap-4",children:[d.jsxs("div",{className:"card flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-lg font-semibold",children:["Nivel ",n.numero,": ",n.nombre]}),d.jsx("p",{className:"text-slate-600 text-sm m-0",children:n.desc})]}),d.jsx("button",{className:"btn btn-outline",onClick:i,children:"Volver"})]}),r()]})}function fS(){const[t,e]=M.useState([]),[n,i]=M.useState(!0),[s,r]=M.useState("");M.useEffect(()=>{(async()=>{var l;try{i(!0);const c=await c0();e(Array.isArray(c)?c:[])}catch(c){const u=((l=c==null?void 0:c.datos)==null?void 0:l.mensaje)||(c==null?void 0:c.message)||"No se pudo obtener el historial.";r(u)}finally{i(!1)}})()},[]);const a=M.useMemo(()=>t.map(o=>{const l=$i.findById(o.nivelId);return{...o,nivelNombre:(l==null?void 0:l.nombre)??`Nivel ${o.nivelId}`,nivelNumero:(l==null?void 0:l.numero)??o.nivelId}}),[t]);return d.jsxs("section",{className:"grid gap-4",children:[d.jsxs("div",{className:"card",children:[d.jsx("h2",{className:"text-lg font-semibold",children:"Historial de simulaciones"}),d.jsx("p",{className:"text-sm text-slate-600 m-0",children:"Revisa los resultados que se han guardado despus de ejecutar las simulaciones. Cada registro incluye la tabla resumen y los parmetros utilizados."})]}),n&&d.jsx("div",{className:"panel-mint px-4 py-6 text-center text-slate-600",children:"Cargando historial..."}),s&&d.jsx("div",{className:"panel-mint px-4 py-3 text-rose-600",children:s}),!n&&!s&&a.length===0&&d.jsx("div",{className:"panel-mint px-4 py-6 text-center text-slate-600",children:"No hay simulaciones guardadas todava."}),a.map(o=>{var l,c,u,f;return d.jsxs("article",{className:"card grid gap-3",children:[d.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-2",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-base font-semibold text-slate-800",children:o.nivelNombre}),d.jsxs("p",{className:"text-xs text-slate-500 m-0",children:["Nivel ",o.nivelNumero,"  ",o.tipoSimulacion]})]}),d.jsx("span",{className:"text-xs text-slate-500",children:gS(o.creadoEn)})]}),hS((c=(l=o.resumen)==null?void 0:l.resumenDominio)==null?void 0:c.tabla,(u=o.resumen)==null?void 0:u.metricasTiempoReal),mS((f=o.resumen)==null?void 0:f.metricasTiempoReal),pS(o.parametros)]},o.id)})]})}function hS(t,e){const n=t==null?void 0:t.columnas,i=t==null?void 0:t.filas;return Array.isArray(n)&&n.length>0&&Array.isArray(i)&&i.length>0?d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"tabla-resumen",children:[d.jsx("thead",{children:d.jsx("tr",{children:n.map((s,r)=>d.jsx("th",{children:s},r))})}),d.jsx("tbody",{children:i.map((s,r)=>d.jsx("tr",{children:(Array.isArray(s)?s:[s]).map((a,o)=>d.jsx("td",{children:Qa(a)},o))},r))})]})}):Array.isArray(e)&&e.length>0?d.jsx("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(160px,1fr))] gap-3",children:e.map(s=>d.jsxs("div",{className:"panel-mint px-3 py-2",children:[d.jsx("p",{className:"text-xs text-slate-500 m-0 uppercase tracking-wide",children:s.nombre??s.id}),d.jsxs("p",{className:"text-slate-900 m-0 font-semibold",children:[Qa(s.valor)," ",s.unidad||""]})]},s.id??s.nombre))}):null}function mS(t){return!Array.isArray(t)||t.length===0?null:d.jsxs("details",{className:"panel-mint px-4 py-3 text-sm text-slate-700",children:[d.jsx("summary",{className:"cursor-pointer font-semibold text-slate-800",children:"Ver mtricas en detalle"}),d.jsx("ul",{className:"mt-2 grid gap-1",children:t.map(e=>d.jsxs("li",{className:"flex justify-between text-xs",children:[d.jsx("span",{children:e.nombre??e.id}),d.jsxs("span",{className:"font-semibold text-slate-900",children:[Qa(e.valor)," ",e.unidad||""]})]},e.id??e.nombre))})]})}function pS(t){if(!t||typeof t!="object")return null;const e=Object.entries(t);return e.length===0?null:d.jsxs("details",{className:"panel-mint px-4 py-3 text-sm text-slate-700",children:[d.jsx("summary",{className:"cursor-pointer font-semibold text-slate-800",children:"Ver parmetros utilizados"}),d.jsx("ul",{className:"mt-2 grid gap-1",children:e.map(([n,i])=>d.jsxs("li",{className:"flex justify-between text-xs",children:[d.jsx("span",{children:n}),d.jsx("span",{className:"font-semibold text-slate-900",children:Qa(i)})]},n))})]})}function Qa(t){if(t==null)return"";if(typeof t=="number")return Ph(t);if(typeof t=="string"){const e=Number(t);if(!Number.isNaN(e))return Ph(e)}return typeof t=="object"?JSON.stringify(t):String(t)}function Ph(t){return Number.isFinite(t)?Math.abs(t)>=1e3?t.toFixed(0):Math.abs(t)>=1?t.toFixed(2):t.toPrecision(3):String(t)}function gS(t){if(!t)return"Fecha desconocida";const e=new Date(t);return Number.isNaN(e.getTime())?t:e.toLocaleString()}function Wn({children:t,roles:e}){const{estaAutenticado:n,usuario:i,cargando:s}=qi(),r=It();if(s)return d.jsx("section",{className:"grid place-items-center py-12 text-slate-600",children:"Cargando sesin..."});if(!n)return d.jsx(Ba,{to:"/login",replace:!0,state:{desde:r.pathname}});if(e&&Array.isArray(e)&&e.length>0){const a=i==null?void 0:i.rol;if(!a||!e.includes(a))return d.jsx(Ba,{to:"/inicio",replace:!0})}return t}const xS=[{to:"/admin/usuarios",etiqueta:"Usuarios"},{to:"/admin/contenido",etiqueta:"Contenido temtico"},{to:"/admin/reportes",etiqueta:"Reportes"}];function vS(){return d.jsxs("section",{className:"grid gap-4 md:grid-cols-[220px_auto]",children:[d.jsxs("aside",{className:"card p-0 overflow-hidden",children:[d.jsx("h2",{className:"px-4 py-3 text-base font-semibold border-b border-slate-200 bg-slate-50 text-slate-700",children:"Panel administrador"}),d.jsx("nav",{className:"flex flex-col",children:xS.map(t=>d.jsx(Ky,{to:t.to,className:({isActive:e})=>["px-4 py-3 text-sm border-b border-slate-100 transition-colors",e?"bg-emerald-100 text-emerald-700 font-semibold":"hover:bg-slate-100 text-slate-600"].join(" "),children:t.etiqueta},t.to))})]}),d.jsx("div",{className:"grid gap-4",children:d.jsx(Ay,{})})]})}async function yS(){const t=await ye({ruta:"/usuarios",metodo:"GET"});return(t==null?void 0:t.datos)??[]}async function bS({nombre:t,correo:e,clave:n,rol:i,estado:s}){return ye({ruta:"/usuarios",metodo:"POST",cuerpo:{nombre:t,correo:e,clave:n,rol:i,estado:s}})}async function _S(t,e){if(!t)throw new Error("Se requiere el id del usuario.");return ye({ruta:`/usuarios/${t}`,metodo:"PATCH",cuerpo:e})}async function wS(t,e){if(!t)throw new Error("Se requiere el id del usuario.");return ye({ruta:`/usuarios/${t}/estado`,metodo:"PATCH",cuerpo:{estado:e}})}function NS(){const[t,e]=M.useState([]),[n,i]=M.useState(!0),[s,r]=M.useState(""),[a,o]=M.useState({nombre:"",correo:"",clave:"",rol:"ESTUDIANTE",estado:"ACTIVO"}),[l,c]=M.useState(!1),u=async()=>{var x;try{i(!0),r("");const m=await yS();e(m)}catch(m){r(((x=m==null?void 0:m.datos)==null?void 0:x.mensaje)||(m==null?void 0:m.message)||"No se pudo cargar la lista de usuarios.")}finally{i(!1)}};M.useEffect(()=>{u()},[]);const f=async x=>{var m;if(x.preventDefault(),!a.nombre.trim()||!a.correo.trim()||!a.clave.trim()){r("Completa nombre, correo y clave.");return}c(!0),r("");try{await bS(a),o({nombre:"",correo:"",clave:"",rol:"ESTUDIANTE",estado:"ACTIVO"}),await u()}catch(y){r(((m=y==null?void 0:y.datos)==null?void 0:m.mensaje)||(y==null?void 0:y.message)||"No se pudo crear el usuario.")}finally{c(!1)}},h=async x=>{var y;const m=x.estado==="ACTIVO"?"INACTIVO":"ACTIVO";try{await wS(x.id,m),await u()}catch(g){r(((y=g==null?void 0:g.datos)==null?void 0:y.mensaje)||(g==null?void 0:g.message)||"No se pudo cambiar el estado.")}},p=async x=>{var y;const m=x.rol==="ADMIN"?"ESTUDIANTE":"ADMIN";try{await _S(x.id,{rol:m}),await u()}catch(g){r(((y=g==null?void 0:g.datos)==null?void 0:y.mensaje)||(g==null?void 0:g.message)||"No se pudo actualizar el rol.")}};return d.jsxs("section",{className:"grid gap-4",children:[d.jsxs("header",{className:"card",children:[d.jsx("h2",{className:"text-lg font-semibold text-slate-800",children:"Gestin de usuarios"}),d.jsx("p",{className:"text-sm text-slate-600 m-0",children:"Administra cuentas de estudiantes y administradores. Puedes crear usuarios manualmente, activar/inactivar cuentas y cambiar roles."})]}),d.jsxs("section",{className:"card",children:[d.jsx("h3",{className:"text-base font-semibold text-slate-800",children:"Crear nuevo usuario"}),d.jsxs("form",{className:"mt-2 grid gap-3",onSubmit:f,children:[d.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[d.jsxs("label",{className:"text-sm text-slate-700",children:["Nombre",d.jsx("input",{className:"mt-1 w-full border rounded px-3 py-2",value:a.nombre,onChange:x=>o(m=>({...m,nombre:x.target.value}))})]}),d.jsxs("label",{className:"text-sm text-slate-700",children:["Correo",d.jsx("input",{className:"mt-1 w-full border rounded px-3 py-2",type:"email",value:a.correo,onChange:x=>o(m=>({...m,correo:x.target.value}))})]})]}),d.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[d.jsxs("label",{className:"text-sm text-slate-700",children:["Clave temporal",d.jsx("input",{className:"mt-1 w-full border rounded px-3 py-2",type:"password",value:a.clave,onChange:x=>o(m=>({...m,clave:x.target.value}))})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm text-slate-700",children:[d.jsxs("label",{children:["Rol",d.jsxs("select",{className:"mt-1 w-full border rounded px-2 py-2",value:a.rol,onChange:x=>o(m=>({...m,rol:x.target.value})),children:[d.jsx("option",{value:"ESTUDIANTE",children:"Estudiante"}),d.jsx("option",{value:"ADMIN",children:"Administrador"})]})]}),d.jsxs("label",{children:["Estado",d.jsxs("select",{className:"mt-1 w-full border rounded px-2 py-2",value:a.estado,onChange:x=>o(m=>({...m,estado:x.target.value})),children:[d.jsx("option",{value:"ACTIVO",children:"Activo"}),d.jsx("option",{value:"INACTIVO",children:"Inactivo"})]})]})]})]}),s&&d.jsx("div",{className:"text-sm text-rose-600",children:s}),d.jsx("div",{className:"flex justify-end",children:d.jsx("button",{className:"btn btn-green",type:"submit",disabled:l,children:l?"Creando...":"Crear usuario"})})]})]}),d.jsxs("section",{className:"card",children:[d.jsx("h3",{className:"text-base font-semibold text-slate-800 mb-3",children:"Usuarios registrados"}),n?d.jsx("p",{className:"text-sm text-slate-600",children:"Cargando..."}):t.length===0?d.jsx("p",{className:"text-sm text-slate-600",children:"No hay usuarios registrados."}):d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"tabla-resumen",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Nombre"}),d.jsx("th",{children:"Correo"}),d.jsx("th",{children:"Rol"}),d.jsx("th",{children:"Estado"}),d.jsx("th",{children:"Creado en"}),d.jsx("th",{children:"Acciones"})]})}),d.jsx("tbody",{children:t.map(x=>d.jsxs("tr",{children:[d.jsx("td",{children:x.nombre}),d.jsx("td",{children:x.correo}),d.jsx("td",{children:x.rol}),d.jsx("td",{children:x.estado}),d.jsx("td",{children:SS(x.creadoEn)}),d.jsx("td",{children:d.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.jsx("button",{className:"btn btn-outline btn-xs",onClick:()=>h(x),children:x.estado==="ACTIVO"?"Desactivar":"Activar"}),d.jsx("button",{className:"btn btn-outline btn-xs",onClick:()=>p(x),children:x.rol==="ADMIN"?"Hacer Estudiante":"Hacer Admin"})]})})]},x.id))})]})})]})]})}function SS(t){if(!t)return"";const e=new Date(t);return Number.isNaN(e.getTime())?t:e.toLocaleString()}function jS(){const[t,e]=M.useState([]),[n,i]=M.useState(!0),[s,r]=M.useState(""),[a,o]=M.useState({id:null,nombre:"",descripcion:"",icono:"",formulas:""}),[l,c]=M.useState(!1),u=async()=>{var m;try{i(!0),r("");const y=await eb();e(y)}catch(y){r(((m=y==null?void 0:y.datos)==null?void 0:m.mensaje)||(y==null?void 0:y.message)||"No se pudo cargar el contenido temtico.")}finally{i(!1)}};M.useEffect(()=>{u()},[]);const f=()=>{o({id:null,nombre:"",descripcion:"",icono:"",formulas:""})},h=async m=>{var y;if(m.preventDefault(),!a.nombre.trim()){r("El nombre es obligatorio.");return}c(!0),r("");try{a.id?await nb(a.id,{nombre:a.nombre,descripcion:a.descripcion,icono:a.icono,formulas:a.formulas}):await tb({nombre:a.nombre,descripcion:a.descripcion,icono:a.icono,formulas:a.formulas}),f(),await u()}catch(g){r(((y=g==null?void 0:g.datos)==null?void 0:y.mensaje)||(g==null?void 0:g.message)||"No se pudo guardar la temtica.")}finally{c(!1)}},p=m=>{o({id:m.id,nombre:m.nombre,descripcion:m.descripcion??"",icono:m.icono??"",formulas:m.formulas??""})},x=async m=>{var g;if(window.confirm(`Eliminar la temtica "${m.nombre}"?`))try{await ib(m.id),await u()}catch(v){r(((g=v==null?void 0:v.datos)==null?void 0:g.mensaje)||(v==null?void 0:v.message)||"No se pudo eliminar la temtica.")}};return d.jsxs("section",{className:"grid gap-4",children:[d.jsxs("header",{className:"card",children:[d.jsx("h2",{className:"text-lg font-semibold text-slate-800",children:"Contenido temtico"}),d.jsx("p",{className:"text-sm text-slate-600 m-0",children:"Administra las temticas disponibles para los estudiantes: puedes crear, editar o eliminar entradas."})]}),d.jsxs("section",{className:"card",children:[d.jsx("h3",{className:"text-base font-semibold text-slate-800",children:a.id?"Editar temtica":"Crear nueva temtica"}),d.jsxs("form",{className:"mt-2 grid gap-3",onSubmit:h,children:[d.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[d.jsxs("label",{className:"text-sm text-slate-700",children:["Nombre",d.jsx("input",{className:"mt-1 w-full border rounded px-3 py-2",value:a.nombre,onChange:m=>o(y=>({...y,nombre:m.target.value}))})]}),d.jsxs("label",{className:"text-sm text-slate-700",children:["Icono (opcional)",d.jsx("input",{className:"mt-1 w-full border rounded px-3 py-2",value:a.icono,onChange:m=>o(y=>({...y,icono:m.target.value})),placeholder:"Ej: icono-laboratorio"})]})]}),d.jsxs("label",{className:"text-sm text-slate-700",children:["Descripcin",d.jsx("textarea",{className:"mt-1 w-full border rounded px-3 py-2",rows:"3",value:a.descripcion,onChange:m=>o(y=>({...y,descripcion:m.target.value}))})]}),d.jsxs("label",{className:"text-sm text-slate-700",children:["Frmulas (opcional, separa por salto de lnea)",d.jsx("textarea",{className:"mt-1 w-full border rounded px-3 py-2",rows:"3",value:a.formulas,onChange:m=>o(y=>({...y,formulas:m.target.value})),placeholder:"Ejemplo:\\nW = Fd\\nP = Fv"})]}),s&&d.jsx("div",{className:"text-sm text-rose-600",children:s}),d.jsxs("div",{className:"flex justify-end gap-2",children:[a.id&&d.jsx("button",{type:"button",className:"btn btn-outline",onClick:f,children:"Cancelar edicin"}),d.jsx("button",{className:"btn btn-green",type:"submit",disabled:l,children:l?"Guardando...":a.id?"Actualizar temtica":"Crear temtica"})]})]})]}),d.jsxs("section",{className:"card",children:[d.jsx("h3",{className:"text-base font-semibold text-slate-800 mb-3",children:"Listado de temticas"}),n?d.jsx("p",{className:"text-sm text-slate-600",children:"Cargando..."}):t.length===0?d.jsx("p",{className:"text-sm text-slate-600",children:"No hay temticas registradas."}):d.jsx("div",{className:"grid gap-3",children:t.map(m=>d.jsxs("article",{className:"panel-mint px-4 py-3",children:[d.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-semibold text-slate-800 m-0",children:m.nombre}),m.icono&&d.jsxs("p",{className:"text-xs text-slate-500 m-0",children:["Icono: ",m.icono]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{className:"btn btn-outline btn-xs",onClick:()=>p(m),children:"Editar"}),d.jsx("button",{className:"btn btn-outline btn-xs",onClick:()=>x(m),children:"Eliminar"})]})]}),m.descripcion&&d.jsx("p",{className:"mt-2 text-sm text-slate-600",children:m.descripcion})]},m.id))})]})]})}async function MS(){const t=await ye({ruta:"/reportes/estudiantes",metodo:"GET"}),e=Array.isArray(t==null?void 0:t.datos)?t.datos:[];return hg(e)}async function kS(){const t=await ye({ruta:"/reportes/simulaciones",metodo:"GET"}),e=Array.isArray(t==null?void 0:t.datos)?t.datos:[];return mg(e)}async function CS(t){if(!t)throw new Error("Debes indicar el estudiante.");const e=await ye({ruta:`/simulaciones/estudiantes/${t}`,metodo:"GET"}),n=Array.isArray(e==null?void 0:e.datos)?e.datos:[];return _u(n)}function ES(){const[t,e]=M.useState([]),[n,i]=M.useState([]),[s,r]=M.useState({estudiante:null,datos:[]}),[a,o]=M.useState([]),[l,c]=M.useState([]),[u,f]=M.useState(!0),[h,p]=M.useState(""),{usuario:x}=qi(),m=async()=>{var w;try{f(!0),p("");const[j,S,k]=await Promise.all([MS(),kS(),ag()]);if(e(j),i(S),o(PS(k)),x&&x.rol!=="ADMIN"){const C=await c0({usuarioId:x.id});c(C)}else c([])}catch(j){p(((w=j==null?void 0:j.datos)==null?void 0:w.mensaje)||(j==null?void 0:j.message)||"No se pudieron obtener los reportes.")}finally{f(!1)}};M.useEffect(()=>{x&&m()},[x]);const y=M.useCallback(async w=>{var j;try{const S=await CS(w.id);r({estudiante:w,datos:S})}catch(S){p(((j=S==null?void 0:S.datos)==null?void 0:j.mensaje)||(S==null?void 0:S.message)||"No se pudo cargar el historial del estudiante.")}},[r,p]),g=()=>r({estudiante:null,datos:[]}),v=M.useCallback(async w=>{var S;if(!(!w||!window.confirm("Eliminar este registro de simulacin?")))try{if(await qN(w),c(k=>k.filter(C=>C.id!==w)),s.estudiante){const k=s.datos.filter(C=>C.id!==w);r(C=>({...C,datos:k}))}await m()}catch(k){p(((S=k==null?void 0:k.datos)==null?void 0:S.mensaje)||(k==null?void 0:k.message)||"No se pudo eliminar el registro.")}},[s]),b=t.length,_=n.reduce((w,j)=>w+(Number(j==null?void 0:j.cantidad)||0),0),N=s.datos.length;return d.jsxs("section",{className:"grid gap-4",children:[d.jsxs("header",{className:"card",children:[d.jsx("h2",{className:"text-lg font-semibold text-slate-800",children:"Reportes"}),d.jsx("p",{className:"text-sm text-slate-600 m-0",children:"Revisa estudiantes registrados, el resumen general de simulaciones y el historial individual de cada estudiante."})]}),h&&d.jsx("div",{className:"panel-mint px-4 py-3 text-rose-600",children:h}),d.jsxs("section",{className:"card space-y-4",children:[d.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[d.jsx("h3",{className:"text-base font-semibold text-slate-800",children:"Estudiantes registrados"}),!u&&b>0&&d.jsxs("span",{className:"resumen-tag",children:["Total ",b]})]}),u?d.jsx("p",{className:"text-sm text-slate-600",children:"Cargando..."}):t.length===0?d.jsx("p",{className:"text-sm text-slate-600",children:"No hay estudiantes registrados."}):d.jsx("div",{className:"tabla-wrapper overflow-x-auto",children:d.jsxs("table",{className:"tabla-resumen",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Nombre"}),d.jsx("th",{children:"Correo"}),d.jsx("th",{children:"Estado"}),d.jsx("th",{children:"Registrado"}),d.jsx("th",{className:"text-right",children:"Acciones"})]})}),d.jsx("tbody",{children:t.map(w=>{const j=ul(w.creadoEn);return d.jsxs("tr",{children:[d.jsxs("td",{children:[d.jsx("div",{className:"dato-principal",children:w.nombre||""}),w.id&&d.jsxs("div",{className:"dato-secundario",children:["ID: ",w.id]})]}),d.jsx("td",{children:d.jsx("span",{className:"font-mono text-sm text-slate-600",title:w.correo||"Sin correo",children:w.correo||""})}),d.jsx("td",{children:TS(w.estado)}),d.jsx("td",{children:d.jsx("span",{className:"text-sm text-slate-600 whitespace-nowrap",title:j,children:j})}),d.jsx("td",{className:"text-right whitespace-nowrap",children:d.jsx("button",{className:"btn btn-outline btn-xs",onClick:()=>y(w),children:"Ver historial"})})]},w.id)})})]})})]}),x&&x.rol!=="ADMIN"&&d.jsxs("section",{className:"card space-y-4",children:[d.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[d.jsxs("h3",{className:"text-base font-semibold text-slate-800",children:["Mis simulaciones (",x.rol,")"]}),l.length>0&&d.jsxs("span",{className:"resumen-tag",children:["Total ",l.length]})]}),l.length===0?d.jsx("p",{className:"text-sm text-slate-600",children:"An no has registrado ejecuciones."}):d.jsx("div",{className:"tabla-wrapper overflow-x-auto",children:d.jsxs("table",{className:"tabla-resumen",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Fecha"}),d.jsx("th",{children:"Nivel"}),d.jsx("th",{children:"Tipo"}),d.jsx("th",{children:"Resumen"}),d.jsx("th",{children:"Parmetros"}),d.jsx("th",{className:"text-right",children:"Acciones"})]})}),d.jsx("tbody",{children:l.map(w=>{const j=ul(w.creadoEn),S=dl(a,w.nivelId),k=zh(w.resumen),C=Ah(w.parametros);return d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("span",{className:"text-sm text-slate-600 whitespace-nowrap",title:j,children:j})}),d.jsxs("td",{children:[d.jsx("div",{className:"dato-principal",children:S}),d.jsxs("div",{className:"dato-secundario",children:["ID: ",w.nivelId]})]}),d.jsx("td",{className:"capitalize text-slate-600",children:w.tipoSimulacion}),d.jsx("td",{title:k,children:d.jsx("span",{className:"inline-block max-w-xs whitespace-pre-wrap text-sm text-slate-600 leading-snug",children:k})}),d.jsx("td",{title:C,children:d.jsx("span",{className:"inline-block max-w-xs whitespace-pre-wrap text-sm text-slate-600 leading-snug",children:C})}),d.jsx("td",{className:"text-right whitespace-nowrap",children:d.jsx("button",{className:"btn btn-outline btn-xs",onClick:()=>v(w.id),children:"Eliminar"})})]},w.id)})})]})})]}),d.jsxs("section",{className:"card space-y-4",children:[d.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[d.jsx("h3",{className:"text-base font-semibold text-slate-800",children:"Simulaciones registradas"}),!u&&_>0&&d.jsxs("span",{className:"resumen-tag",children:["Total ",_]})]}),u?d.jsx("p",{className:"text-sm text-slate-600",children:"Cargando..."}):n.length===0?d.jsx("p",{className:"text-sm text-slate-600",children:"No se encontraron simulaciones en el rango indicado."}):d.jsx("div",{className:"tabla-wrapper overflow-x-auto",children:d.jsxs("table",{className:"tabla-resumen",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Nivel"}),d.jsx("th",{children:"Tipo de simulacin"}),d.jsx("th",{className:"text-center",children:"Cantidad"})]})}),d.jsx("tbody",{children:n.map((w,j)=>{const S=dl(a,w.nivelId),k=Number(w.cantidad)||0;return d.jsxs("tr",{children:[d.jsxs("td",{children:[d.jsx("div",{className:"dato-principal",children:S}),d.jsxs("div",{className:"dato-secundario",children:["ID: ",w.nivelId]})]}),d.jsx("td",{className:"text-slate-600",children:w.tipoSimulacion}),d.jsx("td",{className:"text-center font-semibold text-slate-800",children:k})]},`${w.nivelId}-${w.tipoSimulacion}-${j}`)})})]})})]}),s.estudiante&&d.jsxs("section",{className:"card space-y-4",children:[d.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"text-base font-semibold text-slate-800",children:["Historial de ",s.estudiante.nombre]}),d.jsxs("p",{className:"text-xs text-slate-500 m-0",children:["Correo: ",s.estudiante.correo]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[N>0&&d.jsxs("span",{className:"resumen-tag",children:["Registros ",N]}),d.jsx("button",{className:"btn btn-outline btn-xs",onClick:g,children:"Cerrar"})]})]}),s.datos.length===0?d.jsx("p",{className:"text-sm text-slate-600 mt-2",children:"El estudiante an no registra simulaciones."}):d.jsx("div",{className:"tabla-wrapper overflow-x-auto",children:d.jsxs("table",{className:"tabla-resumen",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Fecha"}),d.jsx("th",{children:"Nivel"}),d.jsx("th",{children:"Tipo"}),d.jsx("th",{children:"Resumen"}),d.jsx("th",{children:"Parmetros"}),d.jsx("th",{className:"text-right",children:"Acciones"})]})}),d.jsx("tbody",{children:s.datos.map(w=>{const j=ul(w.creadoEn),S=dl(a,w.nivelId),k=zh(w.resumen),C=Ah(w.parametros);return d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("span",{className:"text-sm text-slate-600 whitespace-nowrap",title:j,children:j})}),d.jsxs("td",{children:[d.jsx("div",{className:"dato-principal",children:S}),d.jsxs("div",{className:"dato-secundario",children:["ID: ",w.nivelId]})]}),d.jsx("td",{className:"capitalize text-slate-600",children:w.tipoSimulacion}),d.jsx("td",{title:k,children:d.jsx("span",{className:"inline-block max-w-xs whitespace-pre-wrap text-sm text-slate-600 leading-snug",children:k})}),d.jsx("td",{title:C,children:d.jsx("span",{className:"inline-block max-w-xs whitespace-pre-wrap text-sm text-slate-600 leading-snug",children:C})}),d.jsx("td",{className:"text-right whitespace-nowrap",children:d.jsx("button",{className:"btn btn-outline btn-xs",onClick:()=>v(w.id),children:"Eliminar"})})]},w.id)})})]})})]})]})}function TS(t){const e=(t??"").toString().trim();if(!e)return d.jsx("span",{className:"estado-pill bg-slate-100 text-slate-500 border-slate-200",children:"Sin estado"});const n=e.toLowerCase();return n.includes("activo")||n.includes("habilitado")?d.jsx("span",{className:"estado-pill bg-emerald-100 text-emerald-700 border-emerald-200",children:e}):n.includes("pendiente")||n.includes("espera")?d.jsx("span",{className:"estado-pill bg-amber-100 text-amber-700 border-amber-200",children:e}):n.includes("inactivo")||n.includes("suspend")||n.includes("bloque")?d.jsx("span",{className:"estado-pill bg-rose-100 text-rose-700 border-rose-200",children:e}):d.jsx("span",{className:"estado-pill bg-slate-100 text-slate-600 border-slate-200",children:e})}function ul(t){if(!t)return"";const e=new Date(t);return Number.isNaN(e.getTime())?t:e.toLocaleString()}function PS(t){return!Array.isArray(t)||t.length===0?$i.list().map(e=>({id:String(e.id),nombre:`Nivel ${e.numero}: ${e.nombre}`})):t.map(e=>({id:String(e.id),nombre:`Nivel ${e.numero}: ${e.nombre}`}))}function dl(t,e){const n=t.find(i=>String(i.id)===String(e));return n?n.nombre:`Nivel ${e}`}function zh(t){var i;if(!t)return"";const e=t.metricasTiempoReal||[],n=(i=t.resumenDominio)==null?void 0:i.tabla;return n&&Array.isArray(n.filas)&&n.filas.length>0?`Filas: ${n.filas.length}`:e.length>0?e.slice(0,2).map(s=>`${s.nombre||s.id}: ${u0(s.valor)}`).join(", "):"Sin datos"}function Ah(t){if(!t||typeof t!="object")return"";const e=Object.entries(t);return e.length===0?"":e.slice(0,3).map(([n,i])=>`${n}: ${u0(i)}`).join(", ")}function u0(t){return t==null?"":typeof t=="number"&&Number.isFinite(t)?Math.abs(t)>=1e3?t.toFixed(0):Math.abs(t)>=1?t.toFixed(2):t.toPrecision(3):String(t)}function zS(){const t=It(),e=an(),{estaAutenticado:n,usuario:i,cerrarSesion:s}=qi(),r=t.pathname||"",a=r.startsWith("/niveles"),o=r.startsWith("/contenido"),l=r.startsWith("/historial"),c=r.startsWith("/admin"),u=r==="/login",f=(i==null?void 0:i.rol)==="ADMIN",h=()=>{s(),e("/login",{replace:!0})};return d.jsxs("div",{className:"max-w-[1280px] mx-auto px-4",children:[d.jsxs("header",{className:"header-bar rounded-b-xl",children:[d.jsx("h1",{className:"header-title",children:"Simulador de Fsica Enerwork "}),n&&!u&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"absolute left-4 top-2 flex items-center gap-3",children:d.jsxs("nav",{className:"flex gap-2 flex-wrap",children:[d.jsx(Xn,{className:`btn btn-outline ${r==="/inicio"?"btn-active":""}`,to:"/inicio",children:"Inicio"}),d.jsx(Xn,{className:`btn btn-outline ${a?"btn-active":""}`,to:"/niveles",children:"Niveles"}),d.jsx(Xn,{className:`btn btn-outline ${o?"btn-active":""}`,to:"/contenido",children:"Contenido"}),d.jsx(Xn,{className:`btn btn-outline ${l?"btn-active":""}`,to:"/historial",children:"Historial"}),f&&d.jsx(Xn,{className:`btn btn-outline ${c?"btn-active":""}`,to:"/admin/usuarios",children:"Admin"})]})}),d.jsxs("div",{className:"absolute right-4 top-2 flex items-center gap-2 text-sm",children:[d.jsxs("span",{className:"text-slate-100",children:["Hola, ",(i==null?void 0:i.nombre)??"Estudiante",f?" (Admin)":""]}),d.jsx("button",{className:"btn btn-outline",onClick:h,children:"Salir"})]})]})]}),d.jsx("main",{className:"mt-4",children:d.jsxs(Fy,{children:[d.jsx(We,{path:"/",element:d.jsx(Ba,{to:n?"/inicio":"/login",replace:!0})}),d.jsx(We,{path:"/login",element:d.jsx(jb,{})}),d.jsx(We,{path:"/inicio",element:d.jsx(Wn,{children:d.jsx(Sb,{})})}),d.jsx(We,{path:"/niveles",element:d.jsx(Wn,{children:d.jsx(Qy,{})})}),d.jsx(We,{path:"/niveles/:id",element:d.jsx(Wn,{children:d.jsx(dS,{})})}),d.jsx(We,{path:"/resultados",element:d.jsx(Wn,{children:d.jsx(fb,{})})}),d.jsx(We,{path:"/contenido",element:d.jsx(Wn,{children:d.jsx(sb,{})})}),d.jsx(We,{path:"/historial",element:d.jsx(Wn,{children:d.jsx(fS,{})})}),d.jsxs(We,{path:"/admin",element:d.jsx(Wn,{roles:["ADMIN"],children:d.jsx(vS,{})}),children:[d.jsx(We,{index:!0,element:d.jsx(Ba,{to:"/admin/usuarios",replace:!0})}),d.jsx(We,{path:"usuarios",element:d.jsx(NS,{})}),d.jsx(We,{path:"contenido",element:d.jsx(jS,{})}),d.jsx(We,{path:"reportes",element:d.jsx(ES,{})})]})]})}),d.jsx("footer",{className:"text-slate-500 text-sm py-6 text-center",children:"Universidad de la Amazonia"})]})}Kp(document.getElementById("root")).render(d.jsx(to.StrictMode,{children:d.jsx(Wy,{children:d.jsx(Nb,{children:d.jsx(zS,{})})})}));
